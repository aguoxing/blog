2020-05-14 17:05:54.632 DEBUG [main]cn.codexing.blog.BlogApplication.logStarting:56 -Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-05-14 17:06:01.821 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'jwtAuthenticationFilter' configured for use
2020-05-14 17:06:01.822 DEBUG [main]cn.codexing.blog.common.filter.ImageCodeFilter.init:242 -Filter 'imageCodeFilter' configured for use
2020-05-14 17:06:01.823 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'authenticationTokenFilterBean' configured for use
2020-05-14 17:07:12.265 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:07:12.265 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:07:12.303 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:07:12.303 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:07:12.315 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:07:12.315 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:07:12.316 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:07:12.316 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:07:12.370 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:07:12.371 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:07:12.372 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:07:12.372 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:07:12.373 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:07:12.375 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:12.377 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:12.380 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:12.382 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:07:12.383 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:12.384 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.386 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.387 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:12.387 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:12.388 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:12.389 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:07:12.384 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:07:12.393 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.396 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.399 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:07:12.399 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.400 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:12.401 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:07:12.402 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:12.404 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:12.405 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.405 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.407 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:12.408 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:07:12.407 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:12.410 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:12.411 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.413 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:12.414 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.414 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:07:12.415 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.416 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:12.417 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:12.418 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:12.419 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.419 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:07:12.421 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:12.421 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:12.421 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.422 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:12.423 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 735(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:12.423 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:12.424 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.425 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:07:12.426 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.427 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:12.428 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:07:12.428 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:07:12.429 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.432 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:12.433 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:07:12.434 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.437 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:12.438 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:07:12.439 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.439 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:12.440 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:12.441 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 390(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:12.441 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:12.442 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:07:12.444 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.446 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:12.448 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:12.450 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:07:12.451 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.453 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:12.454 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:07:12.456 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.455 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:12.458 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:12.457 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 760(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:12.459 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:07:12.462 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.463 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:12.464 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:12.465 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:07:12.467 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:07:12.469 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:12.470 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:07:12.471 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.473 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:12.474 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:07:12.476 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:12.478 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:07:12.499 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:12.502 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 440(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":53},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":13},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:12.515 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:16.272 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:07:16.273 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:07:16.280 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:07:16.283 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:07:16.298 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:16.299 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:07:16.302 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.305 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:16.306 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:07:16.309 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.312 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:16.313 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:07:16.316 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.318 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:16.320 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:07:16.322 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.325 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:16.327 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:07:16.329 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.331 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:16.333 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:07:16.335 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.337 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:07:16.341 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:16.343 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 81(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:16.349 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:16.577 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:07:16.578 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:07:16.580 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:16.581 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:16.583 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.584 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:16.585 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:16.587 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.587 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:07:16.587 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:07:16.588 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:07:16.592 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:16.592 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:07:16.593 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:16.593 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:07:16.595 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 17:07:16.596 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:16.596 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:16.597 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:16.598 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:16.599 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 19(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:16.601 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.602 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:16.603 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:16.605 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:16.607 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:16.609 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:07:16.611 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:07:16.613 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:07:16.617 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:07:16.628 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:16.629 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 46(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":53},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:16.631 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:23.209 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:23.211 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 7(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 17:07:23.213 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:34.279 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:34.280 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:34.285 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:34.287 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:34.287 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:34.291 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:35.465 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:35.465 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:35.466 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:35.468 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:35.469 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:35.471 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:35.570 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:35.571 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:35.572 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:35.573 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:35.574 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:35.575 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:35.583 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:35.584 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 2(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:35.596 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:36.121 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:36.122 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:36.123 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:36.124 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:36.124 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:36.125 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:36.164 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:36.164 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:36.164 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:36.165 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:36.165 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:36.165 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:36.166 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:36.167 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:36.167 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:36.169 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:36.169 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:36.170 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:36.170 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:36.170 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:36.171 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:36.172 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:36.173 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:36.174 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:36.292 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:36.293 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:36.294 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:36.294 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:36.295 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:36.296 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:36.301 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:07:36.301 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:07:36.303 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:07:36.303 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:07:36.306 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:36.307 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:07:36.308 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.309 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:36.310 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:07:36.311 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.312 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:36.313 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:36.314 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.315 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:36.316 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:36.317 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.319 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:36.320 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:36.322 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.323 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:36.324 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:36.325 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.327 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:36.327 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:07:36.328 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.329 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:36.330 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:07:36.332 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.333 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:36.334 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:07:36.336 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:36.336 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:36.336 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.337 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:36.337 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:36.336 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:36.338 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:36.338 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:36.338 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:07:36.339 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:36.339 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:36.337 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:36.339 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.341 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:36.341 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:36.341 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:36.342 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:36.342 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:36.343 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:07:36.343 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:36.344 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:36.345 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:36.345 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.346 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:36.346 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:36.347 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:07:36.348 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.349 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:07:36.349 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:07:36.350 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:36.350 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:07:36.351 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:07:36.351 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:07:36.351 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:07:36.352 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:36.352 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:07:36.353 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.353 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:36.354 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:36.354 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:36.355 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:07:36.355 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:36.355 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.355 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:07:36.356 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:07:36.355 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:07:36.356 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:07:36.356 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:36.357 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:07:36.357 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.357 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:36.359 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:36.359 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.359 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:07:36.359 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:36.361 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.360 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:07:36.362 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:36.363 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:07:36.363 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:36.360 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:36.363 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:36.364 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:07:36.364 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:36.364 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.365 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.366 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:36.368 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:36.366 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:36.370 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:07:36.371 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:07:36.369 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:36.375 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.378 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:36.378 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.379 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:07:36.380 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.380 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:07:36.382 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:36.386 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:07:36.388 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:36.389 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:36.389 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:07:36.390 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 84(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":54},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":13},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:36.392 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:36.395 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 46(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:36.397 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:36.406 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:38.888 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:38.889 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:38.890 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:38.891 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:38.892 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:38.893 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:38.986 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:38.988 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:38.989 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:38.990 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:38.991 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:38.992 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:38.997 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:07:38.998 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:07:39.000 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:39.001 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:39.003 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.004 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:39.005 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:39.007 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.008 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:07:39.009 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:07:39.010 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:07:39.011 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:07:39.015 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:39.017 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 21(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":54},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:39.021 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:39.239 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:39.239 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:39.241 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:39.242 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:39.243 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:39.244 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:39.281 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:39.281 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:39.282 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:39.282 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:39.283 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:39.284 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:39.284 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:39.284 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:39.285 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:39.285 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:39.285 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:39.286 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:39.411 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:39.411 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:39.412 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:39.413 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:39.414 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:39.415 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:39.418 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:07:39.419 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:07:39.420 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:07:39.420 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:07:39.422 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:39.422 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:07:39.423 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.425 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:39.426 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:07:39.427 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.428 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:39.429 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:07:39.429 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.431 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:39.431 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:07:39.432 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.433 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:39.434 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:07:39.435 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.436 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:39.436 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:07:39.438 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.438 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:07:39.442 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:39.443 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 23(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:39.446 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:39.454 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:39.454 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:39.455 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:39.455 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:39.456 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:39.456 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:39.458 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:39.459 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:39.460 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:39.460 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:39.461 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:39.463 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:39.464 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:07:39.465 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:07:39.466 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 17:07:39.466 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:07:39.467 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:07:39.469 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:39.469 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:39.469 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:39.469 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:39.471 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.472 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:39.472 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:39.473 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:39.474 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:39.475 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:07:39.479 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:39.480 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:39.483 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:47.475 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:47.475 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:47.476 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:47.477 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:47.478 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:47.479 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:47.519 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:47.519 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:47.519 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:47.519 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:47.519 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:47.519 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:47.520 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:47.520 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:47.520 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:47.521 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:47.521 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:47.521 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:47.521 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:47.521 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:47.521 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:47.522 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:47.522 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:47.522 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:47.649 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:47.649 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:47.650 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:47.651 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:47.651 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:47.652 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:47.656 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:07:47.657 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:07:47.658 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:07:47.659 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:07:47.663 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:47.663 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:07:47.664 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.666 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:47.666 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:07:47.667 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.669 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:47.669 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:47.670 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.671 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:47.672 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:47.673 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.674 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:47.675 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:47.675 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.677 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:47.677 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:07:47.678 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.679 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:47.679 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:07:47.681 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.681 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:47.682 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:07:47.684 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.685 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:47.686 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:07:47.687 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.688 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:47.688 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:07:47.689 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.691 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:47.691 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:47.691 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:47.691 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:47.692 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:47.692 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:07:47.692 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:47.692 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:47.693 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:47.693 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:47.693 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.694 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:47.694 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:47.694 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:47.694 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:47.694 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:47.694 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:07:47.694 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:47.695 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:47.695 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:47.695 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.696 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:47.698 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:07:47.699 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.699 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:07:47.700 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:07:47.700 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:07:47.700 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:47.701 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:07:47.701 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:07:47.701 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:47.702 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:07:47.702 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:07:47.702 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:47.703 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:07:47.703 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:47.703 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:47.704 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:07:47.704 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:47.705 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:07:47.705 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.706 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.707 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.707 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:47.708 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:47.708 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:07:47.708 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:47.708 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:07:47.702 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:47.709 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:47.709 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.709 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.710 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:07:47.710 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:47.710 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:47.711 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:07:47.712 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.713 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.714 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:07:47.714 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:47.715 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:07:47.717 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:47.717 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:47.717 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.718 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 18(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:47.718 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:47.718 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 57(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":55},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":13},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:47.721 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:47.720 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:07:47.722 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.724 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:47.725 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:47.725 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:07:47.727 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:47.727 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:07:47.729 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:07:47.729 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:07:47.730 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:47.731 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 32(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:47.732 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:07:47.735 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:47.735 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:47.736 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 21(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:47.739 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:54.448 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:54.449 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:54.450 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:54.451 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:54.451 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:54.452 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:54.492 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:54.492 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:54.492 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:54.493 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:54.493 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:54.493 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:54.494 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:54.494 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:54.494 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:54.494 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:54.494 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:54.495 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:54.495 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:54.495 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:54.495 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:54.496 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:54.496 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:54.497 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:54.622 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:54.622 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:54.623 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:54.625 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:54.625 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:54.626 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:54.632 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:07:54.633 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:07:54.634 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:07:54.635 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:07:54.637 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:54.638 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:07:54.639 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.641 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:54.642 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:07:54.643 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.645 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:54.646 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:07:54.647 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.649 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:54.650 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:07:54.651 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.653 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:54.654 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:07:54.655 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.657 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:07:54.658 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:07:54.659 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.660 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:07:54.664 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:54.666 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 33(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:54.667 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:54.668 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:54.669 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:54.670 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:54.670 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:54.671 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:54.673 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:54.673 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:54.675 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:07:54.675 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:54.674 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:07:54.676 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:54.676 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:07:54.676 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:07:54.677 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:07:54.677 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:54.677 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:54.677 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:07:54.679 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:54.679 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:54.680 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:07:54.680 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:07:54.681 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:07:54.681 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.682 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:54.683 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:07:54.683 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:07:54.684 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:07:54.684 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.685 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:07:54.686 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:07:54.686 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:07:54.686 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:54.687 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:07:54.687 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:07:54.687 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.688 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:07:54.688 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:07:54.689 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:07:54.690 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 17:07:54.690 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:07:54.691 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:07:54.692 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:07:54.692 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:54.692 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:54.693 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:54.693 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 17(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":13},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:54.694 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:07:54.695 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:07:54.696 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:54.697 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:07:54.698 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:08:00.465 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:08:00.466 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:08:00.467 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:08:00.469 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:08:00.469 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:08:00.470 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:08:00.560 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:08:00.560 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:08:00.561 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:08:00.562 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:08:00.562 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:08:00.563 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:08:00.569 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==>  Preparing: INSERT INTO article_comment ( user, article_id, message ) VALUES ( ?, ?, ? ) 
2020-05-14 17:08:00.570 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==> Parameters: admin(String), 1251750614375907330(String), qwer(String)
2020-05-14 17:08:00.571 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:08:00.572 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==>  Preparing: UPDATE article SET comment_count = comment_count + 1 WHERE id = ?; 
2020-05-14 17:08:00.572 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:08:00.575 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -<==    Updates: 1
2020-05-14 17:08:00.579 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:08:00.579 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/save(String), [ArticleComment(id=null, user=admin, articleId=1251750614375907330, parentId=null, message=qwer, createTime=null)](String), 1(Integer), POST(String), 11(Long), {"code":20000,"msg":"评论成功"}(String), 127.0.0.1(String)
2020-05-14 17:08:00.581 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:08:00.990 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:08:00.991 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:08:00.992 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:08:00.992 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:08:00.993 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:08:00.994 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:08:01.084 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:08:01.085 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:08:01.086 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:08:01.087 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:08:01.088 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:08:01.089 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:08:01.092 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:08:01.093 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:08:01.094 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 17:08:01.103 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:08:01.104 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:08:01.105 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:08:01.109 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:08:01.110 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:08:01.112 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:08:10.052 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:08:10.053 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:08:10.054 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:08:10.054 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:08:10.055 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:08:10.056 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:08:10.150 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:08:10.150 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:08:10.151 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:08:10.152 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:08:10.153 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:08:10.154 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:08:10.157 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==>  Preparing: INSERT INTO article_comment ( user, article_id, message ) VALUES ( ?, ?, ? ) 
2020-05-14 17:08:10.158 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==> Parameters: admin(String), 1251750614375907330(String), wasd(String)
2020-05-14 17:08:10.160 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:08:10.161 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==>  Preparing: UPDATE article SET comment_count = comment_count + 1 WHERE id = ?; 
2020-05-14 17:08:10.162 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:08:10.163 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -<==    Updates: 1
2020-05-14 17:08:10.168 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:08:10.168 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/save(String), [ArticleComment(id=null, user=admin, articleId=1251750614375907330, parentId=null, message=wasd, createTime=null)](String), 1(Integer), POST(String), 12(Long), {"code":20000,"msg":"评论成功"}(String), 127.0.0.1(String)
2020-05-14 17:08:10.170 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:08:10.302 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:08:10.302 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:08:10.304 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:08:10.304 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:08:10.305 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:08:10.306 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:08:10.395 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:08:10.396 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:08:10.396 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:08:10.397 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:08:10.398 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:08:10.399 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:08:10.401 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:08:10.402 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:08:10.403 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:08:10.404 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:08:10.405 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:08:10.406 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:08:10.407 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:08:10.408 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:08:10.409 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:08:10.412 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:08:10.412 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:08:10.417 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:09:06.697 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:09:06.698 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:09:06.699 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:09:06.700 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:09:06.700 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:09:06.701 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:09:06.792 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:09:06.793 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:09:06.794 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:09:06.794 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:09:06.795 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:09:06.796 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:09:06.799 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:09:06.799 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:09:06.801 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:09:06.802 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:09:06.803 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:09:06.804 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:09:06.804 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:09:06.805 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:09:06.806 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:09:06.807 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:09:06.807 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:09:06.808 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:09:06.813 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:09:06.814 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":14},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:09:06.817 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:09:06.919 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:09:06.919 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:09:06.920 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:09:06.921 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:09:06.921 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:09:06.922 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:09:07.013 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:09:07.013 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:09:07.014 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:09:07.015 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:09:07.015 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:09:07.016 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:09:07.019 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:09:07.019 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:09:07.021 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:09:07.022 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:09:07.022 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:09:07.024 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:09:07.024 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:09:07.025 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:09:07.026 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:09:07.027 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:09:07.028 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:09:07.030 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:12:55.240 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:12:55.241 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:12:55.242 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:12:55.242 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:12:55.243 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:12:55.243 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:12:55.375 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:12:55.376 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:12:55.377 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:12:55.379 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:12:55.379 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:12:55.380 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:12:55.386 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:12:55.387 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:12:55.389 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:12:55.390 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:12:55.391 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:12:55.392 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:12:55.393 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:12:55.394 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:12:55.395 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:12:55.396 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:12:55.396 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:12:55.398 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:12:55.404 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:12:55.405 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":15},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:12:55.407 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:12:55.422 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:12:55.423 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:12:55.424 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:12:55.425 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:12:55.425 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:12:55.426 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:12:55.518 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:12:55.518 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:12:55.520 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:12:55.520 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:12:55.521 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:12:55.522 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:12:55.526 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:12:55.526 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:12:55.527 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:12:55.528 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:12:55.529 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:12:55.530 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:12:55.531 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:12:55.531 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:12:55.532 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:12:55.534 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:12:55.535 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:12:55.539 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:13:38.622 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:13:38.623 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:13:38.624 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:13:38.624 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:13:38.625 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:13:38.626 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:13:38.716 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:13:38.716 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:13:38.717 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:13:38.718 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:13:38.718 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:13:38.719 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:13:38.722 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:13:38.723 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:13:38.724 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:13:38.724 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:13:38.725 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:13:38.726 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:13:38.727 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:13:38.727 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:13:38.728 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:13:38.729 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:13:38.729 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:13:38.730 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:13:38.735 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:13:38.736 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":16},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:13:38.738 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:13:38.858 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:13:38.858 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:13:38.859 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:13:38.860 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:13:38.860 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:13:38.861 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:13:38.951 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:13:38.951 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:13:38.952 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:13:38.953 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:13:38.953 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:13:38.954 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:13:38.957 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:13:38.958 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:13:38.959 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:13:38.960 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:13:38.960 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:13:38.961 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:13:38.962 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:13:38.962 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:13:38.963 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:13:38.965 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:13:38.965 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:13:38.969 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:16:30.833 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:16:30.833 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:16:30.834 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:16:30.835 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:16:30.835 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:16:30.836 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:16:30.925 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:16:30.926 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:16:30.927 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:16:30.927 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:16:30.928 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:16:30.929 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:16:30.932 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:16:30.933 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:16:30.934 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:16:30.934 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:16:30.936 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:16:30.937 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:16:30.937 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:16:30.938 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:16:30.939 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:16:30.939 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:16:30.940 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:16:30.941 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:16:30.954 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:16:30.955 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 22(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":17},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:16:30.957 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:16:31.056 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:16:31.057 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:16:31.058 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:16:31.059 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:16:31.060 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:16:31.061 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:16:31.151 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:16:31.152 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:16:31.153 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:16:31.154 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:16:31.154 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:16:31.155 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:16:31.159 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:16:31.159 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:16:31.160 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:16:31.161 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:16:31.162 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:16:31.163 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:16:31.164 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:16:31.164 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:16:31.165 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:16:31.166 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:16:31.167 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:16:31.170 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:18:09.611 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:18:09.612 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:18:09.614 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:18:09.614 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:18:09.615 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:18:09.616 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:18:09.617 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:18:09.617 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:18:09.618 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:18:09.619 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:18:09.619 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:18:09.622 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:18:09.627 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:18:09.628 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 22(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":18},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:18:09.631 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:18:09.833 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:18:09.834 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:18:09.835 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:18:09.837 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:18:09.838 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:18:09.839 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:18:09.842 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:18:09.843 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:18:09.844 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:18:09.846 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:18:09.847 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:18:09.850 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:21:27.886 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:21:27.886 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:21:27.888 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:21:27.888 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:21:27.889 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:21:27.890 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:21:27.890 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:21:27.891 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:21:27.892 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:21:27.894 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:21:27.894 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:21:27.897 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:21:27.900 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:21:27.901 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 19(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":19},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:21:27.903 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:21:28.100 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:21:28.101 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:21:28.102 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:21:28.103 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:21:28.104 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:21:28.104 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:21:28.105 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:21:28.106 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:21:28.106 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:21:28.108 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:21:28.109 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:21:28.112 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:22:48.628 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:22:48.629 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 0(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 20(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":15},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:22:48.632 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:22:48.891 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:22:48.893 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 54(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 17:22:48.896 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:22:57.332 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:57.332 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:57.334 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:57.335 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:57.335 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:57.336 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:57.668 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:57.668 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:57.669 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:57.670 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:57.671 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:57.672 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:57.761 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:57.761 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:57.762 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:57.762 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:57.763 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:57.763 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:57.766 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:22:57.767 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 1(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:22:57.771 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:22:57.941 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:57.941 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:57.942 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:57.943 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:57.943 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:57.944 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:58.035 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:58.035 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:58.036 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:58.037 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:58.037 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:58.038 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:58.041 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:22:58.041 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:22:58.042 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:22:58.043 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:22:58.044 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.045 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:22:58.045 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:22:58.046 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.047 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:22:58.048 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:22:58.049 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:22:58.054 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:22:58.058 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:22:58.058 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 18(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":20},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:22:58.060 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:22:58.298 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:58.299 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:58.300 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:58.301 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:58.301 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:58.302 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:58.342 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:58.343 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:58.343 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:58.344 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:58.345 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:58.345 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:58.345 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:58.346 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:58.347 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:58.349 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:58.349 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:58.352 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:58.473 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:58.473 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:58.475 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:58.476 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:58.477 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:58.478 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:58.482 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:22:58.483 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:22:58.485 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:22:58.488 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:22:58.489 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:22:58.490 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:22:58.491 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:22:58.492 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:22:58.493 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:22:58.496 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:22:58.497 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:22:58.511 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:22:58.518 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:58.518 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:58.518 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:22:58.519 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:58.519 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:22:58.520 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:58.520 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:22:58.521 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:58.522 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:22:58.522 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:58.522 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:22:58.523 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:22:58.526 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:22:58.526 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:22:58.528 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:22:58.529 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:22:58.529 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:22:58.530 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:22:58.530 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.531 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:22:58.532 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:22:58.532 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:22:58.532 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:22:58.533 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.534 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:22:58.534 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:22:58.535 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:22:58.536 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.537 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:22:58.537 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:22:58.538 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:22:58.538 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:22:58.539 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.540 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:22:58.541 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:22:58.542 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:22:58.543 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.545 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:22:58.546 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:22:58.548 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.549 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:22:58.550 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:22:58.552 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.554 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:22:58.555 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:22:58.556 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:22:58.557 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:22:58.560 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:22:58.561 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 33(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:22:58.564 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:26:27.650 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:26:27.651 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:26:27.652 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:26:27.652 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:26:27.653 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:26:27.653 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:26:27.744 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:26:27.745 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:26:27.745 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:26:27.746 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:26:27.747 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:26:27.748 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:26:27.751 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:26:27.752 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:26:27.753 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:26:27.753 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:26:27.754 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:26:27.755 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:26:27.756 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:26:27.757 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:26:27.757 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:26:27.758 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:26:27.758 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:26:27.759 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:26:27.765 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:26:27.766 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":21},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:26:27.769 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:26:27.872 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:26:27.873 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:26:27.873 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:26:27.874 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:26:27.874 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:26:27.875 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:26:27.964 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:26:27.964 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:26:27.965 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:26:27.966 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:26:27.966 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:26:27.967 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:26:27.970 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:26:27.970 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:26:27.971 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:26:27.972 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:26:27.973 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:26:27.974 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:26:27.975 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:26:27.976 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:26:27.977 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:26:27.979 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:26:27.980 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:26:27.991 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:26:32.126 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:26:32.127 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:26:32.127 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:26:32.128 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:26:32.128 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:26:32.129 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:26:32.218 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:26:32.219 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:26:32.220 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:26:32.221 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:26:32.221 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:26:32.222 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:26:32.225 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:26:32.226 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:26:32.227 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:26:32.227 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:26:32.228 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:26:32.229 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:26:32.230 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:26:32.231 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:26:32.232 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:26:32.233 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:26:32.233 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:26:32.234 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:26:32.241 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:26:32.241 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 16(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":22},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:26:32.243 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:26:32.425 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:26:32.425 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:26:32.426 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:26:32.427 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:26:32.427 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:26:32.428 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:26:32.517 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:26:32.518 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:26:32.518 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:26:32.519 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:26:32.520 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:26:32.520 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:26:32.523 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:26:32.523 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:26:32.524 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:26:32.525 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:26:32.525 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:26:32.526 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:26:32.527 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:26:32.527 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:26:32.528 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:26:32.530 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:26:32.531 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:26:32.543 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:28.229 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:28.230 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:28.231 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:28.231 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:28.232 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:28.232 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:28.270 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:28.271 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:28.271 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:28.272 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:28.272 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:28.273 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:28.273 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:28.273 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:28.274 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:28.275 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:28.275 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:28.275 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:28.276 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:28.276 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:28.276 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:28.278 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:28.278 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:28.279 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:28.400 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:28.401 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:28.402 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:28.403 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:28.403 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:28.404 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:28.407 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:28:28.408 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:28:28.409 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:28.409 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:28:28.410 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.412 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:28.413 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:28:28.414 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.414 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:28:28.417 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:28.417 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:28.421 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:28.445 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:28.445 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:28.446 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:28.446 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:28.446 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:28.446 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:28.447 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:28.447 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:28.448 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:28.449 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:28.449 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:28.449 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:28.449 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:28.450 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:28.449 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:28.450 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:28.451 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:28.455 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:28.456 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:28:28.457 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:28:28.459 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:28:28.460 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:28:28.461 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:28:28.462 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:28.462 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:28:28.462 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:28:28.462 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:28:28.462 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:28:28.463 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.464 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:28:28.464 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:28:28.464 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:28:28.465 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:28.465 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:28:28.467 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.468 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:28.469 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:28:28.469 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:28.469 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:28.470 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:28:28.470 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.470 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:28.471 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.471 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:28.472 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:28:28.472 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:28.473 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:28:28.473 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:28.473 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.473 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.474 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:28.476 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:28:28.476 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:28.477 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:28:28.477 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.479 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:28.479 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.480 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:28:28.480 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:28.481 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:28:28.481 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.482 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.483 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:28.483 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:28:28.483 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:28:28.484 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.485 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:28.485 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:28.486 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:28:28.486 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 31(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:28.487 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.488 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:28.488 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:28.489 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:28:28.490 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.492 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:28.493 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:28:28.494 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.496 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:28.497 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:28:28.498 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.499 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:28.500 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:28:28.502 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.503 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:28.504 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:28:28.505 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.507 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:28.507 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:28:28.508 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.510 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:28.510 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:28:28.512 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.513 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:28.514 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:28:28.515 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:28:28.517 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:28.517 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:28:28.518 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.519 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:28.520 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:28:28.521 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:28.521 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:28:28.524 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:28.525 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 70(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":55},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:28.530 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:31.369 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:31.370 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:31.370 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:31.371 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:31.371 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:31.372 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:31.413 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:31.414 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:31.414 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:31.415 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:31.415 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:31.416 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:31.541 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:31.542 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:31.542 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:31.543 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:31.544 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:31.546 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:31.549 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:28:31.549 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:28:31.551 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:31.551 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:28:31.552 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.553 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:31.554 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:28:31.555 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.555 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:28:31.556 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:28:31.556 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:28:31.557 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:28:31.563 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:31.564 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":55},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:31.566 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:31.584 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:31.585 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:31.585 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:31.586 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:31.587 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:31.588 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:31.591 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:28:31.592 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:28:31.593 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 17:28:31.596 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:31.596 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:31.599 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:31.672 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:31.673 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:31.673 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:31.674 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:31.674 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:31.675 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:31.715 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:31.715 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:31.716 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:31.716 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:31.717 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:31.717 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:31.844 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:31.844 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:31.845 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:31.846 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:31.846 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:31.847 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:31.851 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:28:31.851 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:28:31.852 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:28:31.853 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:28:31.854 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:31.855 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:28:31.855 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.857 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:31.857 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:28:31.858 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.859 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:31.860 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:28:31.861 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.862 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:31.862 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:28:31.863 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.864 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:31.864 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:28:31.865 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.866 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:28:31.867 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:28:31.867 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.868 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:28:31.869 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:31.870 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 20(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:31.874 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:31.887 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:31.888 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:31.888 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:31.889 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:31.890 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:31.890 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:31.892 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:28:31.893 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:28:31.895 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:28:31.895 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:28:31.896 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.897 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:28:31.897 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:28:31.898 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:28:31.898 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:28:31.900 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:31.900 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:31.904 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:41.011 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:41.012 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:41.013 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:41.014 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:41.014 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:41.015 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:41.103 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:41.104 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:41.105 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:41.105 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:41.106 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:41.107 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:41.111 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==>  Preparing: INSERT INTO article_comment ( user, article_id, message ) VALUES ( ?, ?, ? ) 
2020-05-14 17:28:41.112 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==> Parameters: admin(String), 1251776651612700674(String), hahahah(String)
2020-05-14 17:28:41.113 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:41.114 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==>  Preparing: UPDATE article SET comment_count = comment_count + 1 WHERE id = ?; 
2020-05-14 17:28:41.115 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:28:41.116 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -<==    Updates: 1
2020-05-14 17:28:41.122 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:41.123 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/save(String), [ArticleComment(id=null, user=admin, articleId=1251776651612700674, parentId=null, message=hahahah, createTime=null)](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), POST(String), 12(Long), {"code":20000,"msg":"评论成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:41.125 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:28:41.264 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:41.264 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:41.265 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:41.266 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:41.267 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:41.268 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:41.356 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:28:41.356 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:28:41.357 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:28:41.359 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:28:41.359 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:28:41.361 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:28:41.363 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:28:41.363 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:28:41.364 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 17:28:41.365 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:28:41.365 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 17:28:41.366 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:28:41.368 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:28:41.368 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:28:41.372 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:44.191 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:44.192 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:44.193 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:44.193 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:44.194 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:44.195 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:44.230 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:44.231 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:44.232 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:44.232 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:44.233 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:44.234 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:44.236 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:44.236 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:44.237 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:44.238 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:44.238 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:44.239 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:44.239 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:44.239 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:44.240 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:44.241 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:44.241 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:44.242 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:44.358 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:44.359 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:44.359 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:44.360 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:44.360 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:44.361 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:44.365 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:29:44.366 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:29:44.367 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:29:44.367 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:29:44.371 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:44.372 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:29:44.373 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.373 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:44.374 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:29:44.375 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.376 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:44.376 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:44.377 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.378 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:44.378 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:44.379 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.380 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:44.381 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:29:44.381 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.382 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:44.383 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:29:44.384 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.385 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:44.385 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:29:44.386 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.387 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:44.387 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:29:44.388 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.389 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:44.390 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:29:44.390 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.391 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:44.392 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:29:44.393 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.394 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:44.394 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:29:44.395 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.396 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:44.397 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:29:44.398 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.399 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:44.399 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:29:44.400 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.402 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:44.402 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:44.403 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:44.403 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:44.403 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:29:44.404 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:44.404 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:29:44.403 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:44.405 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:44.405 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:44.405 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:44.406 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:44.406 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:29:44.406 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:44.407 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:44.406 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:44.407 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:44.407 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.407 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:44.408 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:44.408 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:44.408 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:44.409 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:29:44.409 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:44.410 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:44.410 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.410 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:29:44.410 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:44.411 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:29:44.411 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:29:44.412 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:29:44.414 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:44.413 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:29:44.414 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:44.414 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:29:44.415 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:44.416 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:44.417 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:44.417 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:44.417 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 49(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:44.418 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.419 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:44.420 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:44.421 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.422 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:29:44.422 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:44.424 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:44.425 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:44.426 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:29:44.427 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:29:44.428 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:44.429 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:29:44.430 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:29:44.433 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:44.433 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:29:44.434 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.435 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:44.436 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:29:44.437 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.438 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:44.439 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:29:44.440 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.442 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:44.443 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:29:44.444 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.445 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:44.446 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:29:44.447 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.448 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:44.449 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:29:44.450 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:44.451 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:29:44.453 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:44.455 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 44(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:44.457 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:51.004 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:51.005 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:51.005 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:51.006 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:51.007 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:51.007 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:51.095 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:51.095 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:51.096 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:51.097 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:51.097 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:51.098 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:51.101 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:29:51.102 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251725190564519937(String)
2020-05-14 17:29:51.104 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:51.105 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:29:51.106 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.106 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:51.107 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:29:51.108 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.108 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:29:51.109 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:29:51.109 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251725190564519937(String)
2020-05-14 17:29:51.110 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:29:51.116 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:51.116 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251725190564519937(String), [1251725190564519937](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:51.119 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:51.347 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:51.348 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:51.349 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:51.349 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:51.350 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:51.350 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:51.390 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:51.390 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:51.391 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:51.391 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:51.392 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:51.392 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:51.392 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:51.392 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:51.392 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:51.392 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:51.393 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:51.393 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:51.520 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:51.521 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:51.522 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:51.523 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:51.524 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:51.525 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:51.529 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:29:51.530 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251725190564519937(String)
2020-05-14 17:29:51.532 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 17:29:51.535 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:51.535 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251725190564519937(String), [1251725190564519937](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:51.539 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:51.564 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:51.564 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:51.564 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:51.565 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:51.565 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:51.566 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:51.566 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:51.567 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:51.568 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:51.567 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:51.569 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:51.570 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:51.572 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:29:51.573 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:29:51.575 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:51.575 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:51.576 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.578 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:29:51.578 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:51.578 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:29:51.578 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:51.579 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.580 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:29:51.580 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:29:51.581 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:29:51.583 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:51.583 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:51.583 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:29:51.583 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:51.584 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.585 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:51.586 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:51.587 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:29:51.588 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.590 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:51.591 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:29:51.592 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.594 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:51.595 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:29:51.596 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.596 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:51.597 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:29:51.598 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.599 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:51.599 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:29:51.600 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:51.601 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:29:51.603 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:51.603 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 28(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:51.613 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:53.935 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:53.936 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:53.937 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:53.938 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:53.938 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:53.939 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:53.978 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:53.978 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:53.978 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:53.979 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:53.979 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:53.979 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:53.979 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:53.979 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:53.979 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:53.980 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:53.980 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:53.981 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:53.981 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:53.981 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:53.981 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:53.981 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:53.981 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:53.983 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:54.108 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:54.109 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:54.110 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:54.110 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:54.111 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:54.111 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:54.116 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:29:54.117 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:29:54.118 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:29:54.119 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:29:54.120 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:54.121 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:29:54.122 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.122 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:54.123 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:29:54.124 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.125 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:54.125 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:54.126 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.127 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:54.127 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:54.128 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.129 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:54.129 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:29:54.130 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.131 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:54.132 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:29:54.132 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.133 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:54.134 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:29:54.135 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.136 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:54.137 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:29:54.138 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.139 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:54.140 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:29:54.141 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.142 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:54.142 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:29:54.143 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.144 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:54.145 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:29:54.146 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.147 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:54.148 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:29:54.149 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.149 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:54.150 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:29:54.151 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.152 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:54.152 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:54.152 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:54.152 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:54.152 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:54.153 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:29:54.153 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:29:54.153 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:54.153 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:54.153 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:29:54.154 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:54.154 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:29:54.154 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:29:54.154 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:54.154 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:54.155 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:54.155 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:29:54.155 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:54.155 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:54.155 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:29:54.155 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:29:54.156 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:54.156 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:29:54.156 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.157 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:54.158 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:29:54.158 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:29:54.158 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:29:54.159 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.160 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:29:54.160 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:29:54.160 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:29:54.160 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:29:54.161 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:54.162 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.163 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:29:54.164 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:29:54.164 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:54.165 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:29:54.165 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.165 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:29:54.167 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:54.165 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), POST(String), 48(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:54.167 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:29:54.168 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:54.168 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:29:54.168 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:54.169 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:54.169 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:29:54.170 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:29:54.170 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:54.172 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:54.172 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:29:54.173 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:54.174 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.175 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:54.176 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:29:54.177 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.179 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:54.180 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:29:54.181 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.182 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:54.183 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:29:54.183 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:29:54.184 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.186 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:54.187 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:29:54.188 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.190 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:29:54.191 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:29:54.192 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:29:54.193 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:29:54.195 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:29:54.197 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 33(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:29:54.200 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:02.290 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:02.290 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:02.291 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:02.292 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:02.292 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:02.293 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:02.383 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:02.383 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:02.384 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:02.385 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:02.386 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:02.386 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:02.390 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:30:02.390 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:30:02.391 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:30:02.392 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:30:02.393 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:02.393 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:30:02.394 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.395 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:02.395 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:30:02.396 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.397 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:02.398 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:30:02.399 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.400 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:02.401 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:30:02.402 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.403 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:02.404 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:30:02.405 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.406 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:02.406 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:30:02.407 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.407 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:30:02.408 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:02.409 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 21(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:02.413 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:02.638 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:02.638 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:02.639 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:02.640 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:02.640 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:02.641 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:02.681 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:02.682 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:02.682 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:02.682 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:02.683 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:02.683 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:02.684 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:02.684 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:02.684 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:02.684 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:02.684 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:02.684 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:02.810 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:02.811 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:02.811 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:02.812 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:02.812 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:02.813 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:02.816 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:30:02.816 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 4(String)
2020-05-14 17:30:02.817 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 17:30:02.818 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:02.819 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/4(String), [4](String), 1(Integer), GET(String), 3(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:02.822 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:02.854 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:02.854 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:02.854 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:02.854 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:02.855 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:02.855 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:02.856 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:02.856 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:02.856 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:02.856 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:02.857 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:02.857 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:02.859 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:30:02.860 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:30:02.860 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:30:02.860 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 4(String)
2020-05-14 17:30:02.861 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:02.862 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:02.862 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:30:02.862 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:30:02.863 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.863 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.864 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:02.864 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:02.864 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:30:02.864 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:30:02.865 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.865 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:02.866 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:30:02.866 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:30:02.866 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:30:02.867 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 4(String)
2020-05-14 17:30:02.867 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:02.867 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:02.868 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:30:02.870 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:02.873 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:02.874 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/4(String), [4](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:02.877 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:11.608 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:11.608 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:11.609 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:11.610 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:11.610 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:11.611 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:11.653 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:11.653 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:11.653 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:11.653 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:11.654 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:11.654 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:11.654 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:11.654 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:11.654 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:11.655 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:11.655 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:11.655 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:11.655 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:11.655 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:11.655 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:11.656 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:11.656 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:11.656 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:11.784 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:11.784 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:11.785 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:11.785 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:11.786 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:11.787 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:11.790 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:30:11.790 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:30:11.791 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:30:11.792 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:30:11.793 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:11.794 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:30:11.795 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.796 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:11.810 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:30:11.811 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.812 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:11.813 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:30:11.814 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.815 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:11.816 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:30:11.817 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.817 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:11.818 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:30:11.819 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.819 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:11.820 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:30:11.821 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.821 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:11.822 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:30:11.823 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.824 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:11.824 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:30:11.825 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.825 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:11.826 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:30:11.827 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.828 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:11.828 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:11.828 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:11.828 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:11.828 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:11.828 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:30:11.829 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:11.829 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:11.829 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:11.829 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.830 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:11.830 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:11.830 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:11.830 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:11.830 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:11.830 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:11.831 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:11.831 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:11.831 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:30:11.831 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:11.831 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:11.831 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:11.832 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:11.832 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.834 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:30:11.834 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:30:11.834 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:11.835 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:30:11.835 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:30:11.836 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:30:11.836 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:11.837 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:30:11.836 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:30:11.837 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:30:11.838 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:11.838 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.838 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:11.838 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:11.839 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:30:11.839 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:30:11.839 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:30:11.836 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:30:11.840 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.840 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.840 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:11.841 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:30:11.841 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:11.841 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:30:11.842 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:30:11.842 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:11.842 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.842 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.843 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:11.844 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:11.845 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:11.845 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:11.845 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:30:11.845 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:30:11.846 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:30:11.846 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.848 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:11.848 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:11.848 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:11.848 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:30:11.849 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:30:11.849 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.850 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.851 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:11.851 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:11.851 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:30:11.852 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:30:11.853 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.853 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.853 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:30:11.855 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:11.855 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:30:11.856 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.857 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:11.857 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:11.858 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:30:11.858 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:30:11.858 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 66(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:11.859 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:30:11.862 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:11.862 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 27(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:11.863 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:11.866 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:20.216 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:20.217 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:20.218 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:20.219 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:20.219 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:20.220 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:20.309 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:20.310 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:20.310 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:20.311 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:20.312 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:20.312 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:20.323 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM category WHERE deleted = 0 
2020-05-14 17:30:20.323 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:30:20.324 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -==>  Preparing: select id,category_name,enable from category WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:30:20.325 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:30:20.326 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:20.326 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:30:20.328 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 17:30:20.328 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:20.329 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:30:20.330 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 17:30:20.331 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:20.331 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:30:20.332 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 17:30:20.333 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:20.334 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:30:20.335 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 17:30:20.335 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:30:20.336 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:30:20.337 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 17:30:20.338 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -<==      Total: 5
2020-05-14 17:30:20.341 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:20.342 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /category/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), POST(String), 24(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"1","categoryName":"测试","enable":true,"id":1},{"articleCount":"3","categoryName":"微服务","enable":true,"id":2},{"articleCount":"2","categoryName":"数据库","enable":true,"id":3},{"articleCount":"1","categoryName":"其他","enable":true,"id":4},{"articleCount":"0","categoryName":"转载","enable":true,"id":5}],"pageSize":20,"params":{},"totalCount":5,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:20.360 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:22.034 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:22.034 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:22.035 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:22.036 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:22.036 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:22.036 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:22.124 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:22.124 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:22.125 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:22.126 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:22.126 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:22.127 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:22.131 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.findGroupYear.debug:143 -==>  Preparing: SELECT DATE_FORMAT(create_time,'%Y') AS YEAR FROM article GROUP BY YEAR ORDER BY YEAR DESC 
2020-05-14 17:30:22.131 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.findGroupYear.debug:143 -==> Parameters: 
2020-05-14 17:30:22.135 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.findGroupYear.debug:143 -<==      Total: 2
2020-05-14 17:30:22.136 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==>  Preparing: SELECT id,title,create_time FROM article WHERE DATE_FORMAT(create_time,'%Y') = ? and enable=1 order by create_time desc 
2020-05-14 17:30:22.137 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==> Parameters: 2020(String)
2020-05-14 17:30:22.138 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -<==      Total: 12
2020-05-14 17:30:22.138 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==>  Preparing: SELECT id,title,create_time FROM article WHERE DATE_FORMAT(create_time,'%Y') = ? and enable=1 order by create_time desc 
2020-05-14 17:30:22.139 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==> Parameters: 2019(String)
2020-05-14 17:30:22.140 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -<==      Total: 2
2020-05-14 17:30:22.148 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:22.148 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/archive/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"articles":[{"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","title":"mysql练习题"},{"createTime":"2020-04-19 15:36:25","id":"1251776651612700674","title":"springboot jackson"},{"createTime":"2020-04-19 15:12:12","id":"1251770557519675394","title":"test"},{"createTime":"2020-04-19 13:52:57","id":"1251750614375907330","title":"123123123"},{"createTime":"2020-04-19 12:15:26","id":"1251726075243896833","title":"sdfsdf"},{"createTime":"2020-04-19 12:14:41","id":"1251725884101074946","title":"sdf"},{"createTime":"2020-04-19 12:11:56","id":"1251725190564519937","title":"阿道夫啊实打实的"},{"createTime":"2020-04-19 11:36:19","id":"1251716229803122690","title":"上的撒旦发射点"},{"createTime":"2020-04-18 17:30:52","id":"6","title":"save"},{"createTime":"2020-04-18 11:00:05","id":"5","title":"12515215"},{"createTime":"2020-04-08 10:54:04","id":"2","title":"这是推荐阅读的文章哇"},{"createTime":"2020-03-23 15:55:15","id":"1","title":"mybatis plus 乐观锁测试时间"}],"year":"2020"},{"articles":[{"createTime":"2019-06-17 23:48:04","id":"3","title":"岁的法国士大夫"},{"createTime":"2019-06-14 12:21:50","id":"4","title":"这是置顶的文章哇"}],"year":"2019"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:22.150 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:30:32.205 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:32.206 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:32.207 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:32.209 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:32.209 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:32.210 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:32.298 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:30:32.298 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:30:32.299 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:30:32.300 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:30:32.300 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:30:32.301 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:30:32.304 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:30:32.305 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:30:32.306 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:30:32.307 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:30:32.309 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:32.309 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:30:32.310 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.311 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:32.312 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:30:32.313 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.314 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:32.314 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:30:32.315 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.316 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:32.316 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:30:32.317 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.318 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:32.318 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:30:32.319 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.320 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:32.320 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:30:32.321 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.323 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:32.323 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:30:32.324 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.325 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:32.326 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:30:32.326 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.327 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:32.328 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:30:32.329 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.330 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:32.330 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:30:32.331 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.332 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:32.332 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:30:32.333 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.334 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:32.334 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:30:32.335 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.336 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:32.337 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:30:32.337 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.338 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:32.339 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:30:32.340 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:30:32.341 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:30:32.342 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:30:32.342 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.343 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:30:32.344 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:30:32.344 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:30:32.345 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:30:32.349 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:30:32.350 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 44(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:30:32.354 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:41:43.133 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:41:43.134 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 17:41:43.139 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:42:21.608 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:21.609 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:21.610 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:21.611 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:21.611 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:21.612 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:21.943 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:21.943 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:21.944 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:21.945 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:21.945 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:21.945 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.029 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:22.030 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:22.030 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:22.031 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:22.032 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:22.033 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.036 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:42:22.036 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 2(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:42:22.040 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:42:22.279 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:22.279 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:22.280 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:22.281 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:22.281 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:22.282 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.366 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:22.366 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:22.367 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:22.368 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:22.369 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:22.371 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.378 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:42:22.378 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:42:22.380 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:42:22.381 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:42:22.383 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:42:22.384 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:42:22.385 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.387 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:42:22.388 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:42:22.389 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.391 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:42:22.392 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:42:22.394 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.396 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:42:22.396 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:42:22.398 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.399 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:42:22.400 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:42:22.401 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.403 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:42:22.404 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:42:22.406 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.408 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:42:22.409 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:42:22.410 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.412 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:42:22.413 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:42:22.414 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.415 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:42:22.416 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:42:22.417 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.419 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:42:22.420 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:42:22.421 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.422 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:42:22.423 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:42:22.424 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.425 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:42:22.425 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:42:22.426 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.427 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:42:22.427 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:42:22.428 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.429 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:42:22.429 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:42:22.430 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:42:22.431 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:42:22.432 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:42:22.433 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.433 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:42:22.434 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:42:22.436 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.436 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:42:22.440 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:42:22.441 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 65(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:42:22.446 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:42:22.613 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:22.613 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:22.614 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:22.615 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:22.615 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:22.616 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.654 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:22.654 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:22.655 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:22.656 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:22.656 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:22.657 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.658 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:22.658 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:22.659 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:22.659 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:22.660 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:22.660 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.776 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:22.777 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:22.777 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:22.778 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:22.778 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:22.779 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.782 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:42:22.782 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:42:22.784 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:42:22.785 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:42:22.786 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:42:22.787 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:42:22.788 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.789 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:42:22.789 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:42:22.790 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.791 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:42:22.792 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:42:22.793 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.793 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:42:22.794 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:42:22.795 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.796 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:42:22.796 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:42:22.797 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.797 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:42:22.798 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:42:22.799 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.800 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:42:22.801 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:42:22.802 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 20(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:42:22.807 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:42:22.818 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:22.818 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:42:22.818 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:22.819 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:42:22.820 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:22.820 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:42:22.821 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:22.821 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:42:22.822 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:22.822 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:42:22.822 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.822 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:42:22.827 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:42:22.827 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:42:22.827 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:42:22.827 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:42:22.829 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:42:22.829 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:42:22.830 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:42:22.831 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.831 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:42:22.831 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 6(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:42:22.832 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:42:22.833 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:42:22.834 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:42:22.834 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:42:22.834 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:42:22.837 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:42:22.838 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:42:22.841 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:43:38.521 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:38.522 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:38.522 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:38.523 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:38.523 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:38.524 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:38.561 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:38.562 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:38.563 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:38.564 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:38.564 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:38.565 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:38.567 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:38.567 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:38.568 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:38.569 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:38.569 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:38.569 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:38.569 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:38.570 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:38.570 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:38.570 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:38.570 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:38.571 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:38.684 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:38.684 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:38.685 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:38.685 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:38.686 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:38.686 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:38.689 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:43:38.690 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:43:38.691 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:43:38.692 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:43:38.693 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:38.693 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:43:38.694 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.695 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:38.696 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:43:38.696 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.698 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:38.698 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:43:38.699 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.700 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:38.700 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:43:38.701 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.702 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:38.702 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:43:38.703 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.704 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:38.704 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:43:38.705 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.706 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:43:38.707 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:43:38.707 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 19(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:43:38.711 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:43:38.725 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:38.725 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:38.725 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:38.725 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:38.725 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:38.725 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:38.726 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:38.726 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:38.726 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:38.727 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:38.727 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:38.727 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:38.727 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:38.727 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:38.727 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:38.728 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:38.728 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:38.728 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:38.732 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:43:38.732 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:43:38.732 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:43:38.732 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:43:38.732 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:43:38.732 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:43:38.733 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:43:38.736 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:43:38.736 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:38.736 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:38.736 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:43:38.736 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:43:38.737 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:43:38.737 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:43:38.737 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.738 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.738 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:43:38.739 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:38.739 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:38.739 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:43:38.739 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:43:38.739 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:43:38.740 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.740 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:43:38.741 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:43:38.741 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:38.742 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:43:38.742 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:43:38.742 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:43:38.743 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:43:38.743 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:43:38.743 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:43:38.743 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:43:38.744 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:43:38.745 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:43:38.747 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:43:38.752 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:43:38.753 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:43:38.755 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:43:44.969 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:44.970 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:44.971 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:44.972 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:44.972 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:44.973 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:45.062 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:45.063 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:45.064 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:45.066 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:45.066 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:45.068 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:45.074 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:43:45.074 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:43:45.076 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:43:45.077 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:43:45.080 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:45.081 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:43:45.082 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.085 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:45.085 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:43:45.086 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.088 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:45.089 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:43:45.090 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.092 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:45.093 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:43:45.094 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.096 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:45.097 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:43:45.099 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.101 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:45.102 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:43:45.104 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.106 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:45.106 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:43:45.107 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.109 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:45.110 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:43:45.112 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.114 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:45.115 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:43:45.116 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.118 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:45.119 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:43:45.120 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.121 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:45.122 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:43:45.123 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.125 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:45.126 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:43:45.128 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.130 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:45.131 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:43:45.132 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.134 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:45.135 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:43:45.136 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:43:45.138 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:45.139 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:43:45.139 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.141 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:45.142 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:43:45.144 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.145 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:43:45.150 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:43:45.151 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 76(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:43:45.157 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:43:45.320 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:45.320 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:45.321 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:45.322 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:45.322 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:45.323 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:45.360 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:45.360 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:45.360 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:45.360 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:45.361 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:45.361 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:45.363 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:45.363 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:45.363 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:45.363 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:45.364 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:45.364 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:45.482 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:45.482 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:45.483 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:45.484 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:45.484 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:45.485 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:45.488 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:43:45.488 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:43:45.489 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:43:45.490 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:43:45.491 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:45.492 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:43:45.493 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.495 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:45.495 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:43:45.496 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.498 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:45.498 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:43:45.499 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.500 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:45.500 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:43:45.501 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.502 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:45.502 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:43:45.503 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.504 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:43:45.505 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:43:45.505 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.506 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:43:45.507 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:43:45.508 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 20(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:43:45.512 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:43:45.524 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:45.524 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:43:45.524 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:45.524 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:43:45.525 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:45.525 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:43:45.526 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:45.526 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:43:45.527 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:45.527 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:43:45.528 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:45.528 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:43:45.531 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:43:45.531 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:43:45.532 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:43:45.532 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:43:45.533 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:43:45.534 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:43:45.534 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:43:45.536 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:43:45.536 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.536 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 6(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:43:45.537 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:43:45.538 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:43:45.539 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:43:45.539 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:43:45.539 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:43:45.543 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:43:45.544 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:43:45.547 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:39.996 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:39.997 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 17:48:40.002 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:47.579 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:47.580 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:47.582 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:47.583 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:47.583 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:47.584 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:51.110 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:51.111 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:51.112 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:51.112 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:51.113 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:51.114 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:51.451 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:51.452 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:51.453 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:51.454 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:51.454 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:51.455 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:51.545 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:51.545 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:51.546 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:51.547 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:51.548 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:51.549 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:51.553 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:51.554 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 2(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:48:51.556 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:51.883 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:51.884 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:51.884 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:51.885 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:51.886 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:51.887 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:51.978 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:51.978 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:51.979 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:51.981 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:51.982 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:51.983 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:51.988 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:48:51.989 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:48:51.990 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:48:51.991 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:48:51.993 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:51.993 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:48:51.994 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:51.995 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:51.996 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:48:51.998 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.000 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:52.000 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:48:52.002 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.003 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:52.003 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:48:52.004 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.005 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:52.006 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:48:52.007 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.008 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:52.009 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:48:52.010 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.011 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:52.012 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:48:52.014 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.015 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:52.016 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:48:52.018 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.020 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:52.021 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:48:52.022 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.023 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:52.023 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:48:52.024 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.025 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:52.026 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:48:52.027 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.028 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:52.029 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:48:52.030 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.032 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:52.033 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:48:52.034 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.035 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:52.035 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:48:52.037 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:48:52.038 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:52.038 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:48:52.039 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.041 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:52.041 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:48:52.042 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.043 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:48:52.048 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:52.049 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 58(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:48:52.056 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:52.188 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:52.188 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:52.189 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:52.191 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:52.191 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:52.192 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:52.232 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:52.233 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:52.234 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:52.235 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:52.235 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:52.236 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:52.237 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:52.237 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:52.238 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:52.239 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:52.239 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:52.240 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:52.365 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:52.366 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:52.367 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:52.368 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:52.369 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:52.370 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:52.375 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:48:52.376 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:48:52.377 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:48:52.378 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:48:52.380 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:52.380 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:48:52.382 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.383 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:52.384 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:48:52.385 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.387 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:52.387 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:48:52.388 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.390 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:52.390 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:48:52.392 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.393 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:52.394 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:48:52.395 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.397 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:52.397 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:48:52.399 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.400 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:48:52.404 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:52.405 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 31(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:48:52.409 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:52.410 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:52.410 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:52.411 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:52.412 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:52.412 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:52.414 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:52.417 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:52.418 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:52.418 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:48:52.418 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:48:52.419 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:52.421 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:52.421 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:48:52.422 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:52.422 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:52.423 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.424 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:52.424 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:52.425 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:48:52.426 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:52.426 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:48:52.427 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:48:52.428 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:48:52.429 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:52.430 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:48:52.430 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:48:52.433 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:52.433 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:52.434 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:48:52.437 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:54.913 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:54.914 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:54.915 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:54.915 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:54.916 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:54.916 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:54.957 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:54.957 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:54.957 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:54.957 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:54.958 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:54.958 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:54.959 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:54.959 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:54.959 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:54.959 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:54.960 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:54.960 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:55.090 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:55.091 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:55.092 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:55.093 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:55.094 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:55.094 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:55.100 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:48:55.100 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251780392676016129(String)
2020-05-14 17:48:55.103 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:55.103 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:48:55.105 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.106 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:55.106 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:48:55.107 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.108 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:48:55.110 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:48:55.110 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251780392676016129(String)
2020-05-14 17:48:55.112 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:48:55.120 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:55.121 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251780392676016129(String), [1251780392676016129](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:48:55.127 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:55.136 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:55.136 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:55.137 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:55.138 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:55.139 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:55.139 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:55.139 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:55.140 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:55.140 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:55.141 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:55.142 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:55.143 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:55.145 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:48:55.146 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:48:55.147 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:48:55.147 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:48:55.148 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251780392676016129(String)
2020-05-14 17:48:55.148 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:48:55.149 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 17:48:55.150 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:55.150 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:48:55.150 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:48:55.151 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 18(Integer)
2020-05-14 17:48:55.151 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.152 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:48:55.153 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:55.153 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:48:55.154 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:55.155 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.155 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251780392676016129(String), [1251780392676016129](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"articleId":"1251780392676016129","createTime":"2020-04-24 10:50:30","id":18,"message":"不错不错，✌爱了","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:48:55.156 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:55.157 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:48:55.158 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:55.158 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.160 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:55.161 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:48:55.162 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.163 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:55.164 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:48:55.166 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.167 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:48:55.168 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:48:55.169 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.170 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:48:55.174 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:55.175 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 30(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:48:55.178 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:48:55.185 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:55.186 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:55.187 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:55.188 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:55.188 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:55.189 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:55.280 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:48:55.281 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:48:55.282 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:48:55.283 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:48:55.284 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:48:55.284 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:48:55.288 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:48:55.289 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:48:55.291 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:48:55.291 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:48:55.292 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.293 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:48:55.294 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:48:55.294 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:48:55.296 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:48:55.298 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:48:55.299 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:48:55.303 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:49:22.460 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:49:22.461 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:49:22.462 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:49:22.463 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:49:22.463 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:49:22.464 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:49:22.505 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:49:22.505 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:49:22.505 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:49:22.506 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:49:22.506 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:49:22.506 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:49:22.506 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:49:22.506 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:49:22.506 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:49:22.507 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:49:22.507 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:49:22.507 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:49:22.508 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:49:22.508 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:49:22.508 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:49:22.508 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:49:22.508 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:49:22.508 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:49:22.636 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:49:22.637 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:49:22.638 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:49:22.638 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:49:22.639 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:49:22.640 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:49:22.643 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:49:22.644 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:49:22.645 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:49:22.645 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:49:22.647 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:49:22.647 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:49:22.648 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.649 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:49:22.649 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:49:22.650 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.651 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:49:22.652 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:49:22.652 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.654 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:49:22.654 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:49:22.656 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.657 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:49:22.657 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:49:22.659 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.660 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:49:22.661 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:49:22.662 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.663 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:49:22.663 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:49:22.664 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.665 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:49:22.666 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:49:22.667 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.668 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:49:22.669 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:49:22.669 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.671 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:49:22.672 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:49:22.674 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.675 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:49:22.675 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:49:22.676 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.677 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:49:22.677 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:49:22.678 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.679 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:49:22.679 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:49:22.680 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.681 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:49:22.681 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:49:22.681 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:49:22.682 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:49:22.682 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:49:22.682 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:49:22.683 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:49:22.683 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:49:22.683 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:49:22.684 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:49:22.684 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:49:22.684 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:49:22.684 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:49:22.684 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:49:22.684 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:49:22.685 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:49:22.685 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:49:22.685 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.686 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:49:22.686 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:49:22.687 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:49:22.687 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:49:22.688 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:49:22.688 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.689 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:49:22.689 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:49:22.689 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:49:22.689 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:49:22.690 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:49:22.690 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:49:22.691 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:49:22.693 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:49:22.694 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:49:22.694 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:49:22.695 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:49:22.695 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:49:22.695 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:49:22.696 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.696 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 48(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:49:22.697 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:49:22.699 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:49:22.700 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:49:22.700 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:49:22.701 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.701 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.703 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:49:22.703 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:49:22.702 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:49:22.703 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:49:22.703 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:49:22.704 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:49:22.704 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.704 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.705 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:49:22.706 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:49:22.706 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:49:22.708 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.708 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:49:22.709 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:49:22.704 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:49:22.709 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:49:22.711 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:49:22.711 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:49:22.712 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:49:22.712 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.714 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:49:22.714 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:49:22.714 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 26(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:49:22.714 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:49:22.715 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:49:22.716 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:49:22.717 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:49:22.719 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:49:22.720 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 31(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:49:22.724 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:50:55.854 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:55.855 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:55.855 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:55.856 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:55.856 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:55.857 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:55.948 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:55.948 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:55.949 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:55.950 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:55.951 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:55.952 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:55.957 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:50:55.958 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 3(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:50:55.961 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:50:56.329 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:56.329 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:56.330 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:56.331 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:56.331 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:56.332 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:56.422 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:56.423 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:56.424 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:56.425 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:56.426 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:56.427 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:56.430 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:50:56.431 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:50:56.432 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:50:56.433 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:50:56.434 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:50:56.435 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:50:56.435 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.436 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:50:56.437 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:50:56.437 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.438 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:50:56.439 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:50:56.439 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.441 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:50:56.442 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:50:56.444 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.445 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:50:56.445 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:50:56.446 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.447 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:50:56.447 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:50:56.448 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.449 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:50:56.449 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:50:56.450 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.451 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:50:56.451 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:50:56.452 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.453 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:50:56.454 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:50:56.455 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.456 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:50:56.456 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:50:56.458 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.460 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:50:56.460 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:50:56.462 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.463 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:50:56.464 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:50:56.465 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.466 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:50:56.466 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:50:56.467 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.469 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:50:56.469 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:50:56.470 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:50:56.471 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:50:56.472 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:50:56.473 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.475 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:50:56.476 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:50:56.477 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.477 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:50:56.481 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:50:56.482 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 50(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:50:56.487 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:50:56.665 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:56.665 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:56.667 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:56.667 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:56.668 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:56.668 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:56.710 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:56.711 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:56.711 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:56.712 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:56.712 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:56.713 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:56.713 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:56.714 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:56.714 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:56.715 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:56.715 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:56.715 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:56.844 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:56.844 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:56.845 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:56.846 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:56.846 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:56.847 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:56.849 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:50:56.850 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:50:56.851 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:50:56.852 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:50:56.853 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.853 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:50:56.854 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:50:56.854 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.855 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:50:56.856 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:50:56.857 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:50:56.862 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:50:56.890 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:56.890 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 17:50:56.890 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:56.890 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 17:50:56.891 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:56.891 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 17:50:56.892 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:56.892 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 17:50:56.892 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:56.892 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 17:50:56.893 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:56.893 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 17:50:56.897 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:50:56.897 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:50:56.897 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:50:56.898 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:50:56.898 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:50:56.899 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:50:56.899 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:50:56.899 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:50:56.900 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:50:56.900 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:50:56.901 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:50:56.902 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.903 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:50:56.903 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:50:56.903 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:50:56.904 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.905 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:50:56.906 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:50:56.908 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.909 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:50:56.910 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:50:56.911 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.912 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:50:56.913 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:50:56.914 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.915 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:50:56.915 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:50:56.916 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:50:56.917 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:50:56.919 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:50:56.919 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 22(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:50:56.921 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:51:01.338 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:51:01.339 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 17:51:01.342 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:51:07.176 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:51:07.177 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/oauth2/github/callback(String), [1d75aee2589d093c35b0](String), 1(Integer), GET(String), 2524(Long), {"code":20000,"data":{"gists_url":"https://api.github.com/users/aguoxing/gists{/gist_id}","repos_url":"https://api.github.com/users/aguoxing/repos","following_url":"https://api.github.com/users/aguoxing/following{/other_user}","created_at":"2017-12-12T12:45:02Z","login":"aguoxing","type":"User","blog":"","subscriptions_url":"https://api.github.com/users/aguoxing/subscriptions","updated_at":"2020-05-13T03:39:00Z","site_admin":false,"id":34478877,"public_repos":5,"gravatar_id":"","organizations_url":"https://api.github.com/users/aguoxing/orgs","starred_url":"https://api.github.com/users/aguoxing/starred{/owner}{/repo}","followers_url":"https://api.github.com/users/aguoxing/followers","public_gists":0,"url":"https://api.github.com/users/aguoxing","received_events_url":"https://api.github.com/users/aguoxing/received_events","followers":0,"avatar_url":"https://avatars3.githubusercontent.com/u/34478877?v=4","events_url":"https://api.github.com/users/aguoxing/events{/privacy}","html_url":"https://github.com/aguoxing","following":0,"name":"xing","node_id":"MDQ6VXNlcjM0NDc4ODc3"},"msg":"操作成功"}(String), 0:0:0:0:0:0:0:1(String)
2020-05-14 17:51:07.179 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:51:18.420 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:51:18.423 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 5(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 17:51:18.427 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:51:32.455 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:51:32.457 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:51:32.459 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:51:32.455 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:51:32.460 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:51:32.461 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:51:32.461 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:51:32.462 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:51:32.462 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:51:32.463 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:51:32.463 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:51:32.463 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:51:32.464 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:51:32.465 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.466 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:51:32.466 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:51:32.466 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:51:32.467 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:51:32.467 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:51:32.468 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.469 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.469 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:51:32.470 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:51:32.471 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:51:32.472 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:51:32.472 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.472 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 18(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:51:32.473 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:51:32.473 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:51:32.473 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:51:32.473 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:51:32.474 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.475 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:51:32.475 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:51:32.475 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:51:32.476 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:51:32.476 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:51:32.478 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.478 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:51:32.478 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:51:32.479 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:51:32.480 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.481 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:51:32.482 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:51:32.483 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.483 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:51:32.484 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.484 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:51:32.485 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:51:32.486 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:51:32.486 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.487 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:51:32.487 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:51:32.488 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.489 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:51:32.490 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:51:32.490 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:51:32.491 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.491 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 36(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:51:32.493 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:51:32.493 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:51:32.493 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:51:32.495 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.498 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:51:32.498 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:51:32.500 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.502 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:51:32.502 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:51:32.504 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.505 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:51:32.506 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:51:32.507 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.508 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:51:32.509 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:51:32.510 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.511 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:51:32.512 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:51:32.513 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.515 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:51:32.516 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:51:32.517 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.519 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:51:32.519 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:51:32.520 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.522 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:51:32.523 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:51:32.524 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.526 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:51:32.526 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:51:32.528 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:51:32.530 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:51:32.531 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:51:32.533 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.535 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:51:32.536 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:51:32.537 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:51:32.538 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:51:32.542 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:51:32.544 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 88(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:51:32.550 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:53:27.407 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.findGroupYear.debug:143 -==>  Preparing: SELECT DATE_FORMAT(create_time,'%Y') AS YEAR FROM article GROUP BY YEAR ORDER BY YEAR DESC 
2020-05-14 17:53:27.408 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.findGroupYear.debug:143 -==> Parameters: 
2020-05-14 17:53:27.409 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.findGroupYear.debug:143 -<==      Total: 2
2020-05-14 17:53:27.411 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==>  Preparing: SELECT id,title,create_time FROM article WHERE DATE_FORMAT(create_time,'%Y') = ? and enable=1 order by create_time desc 
2020-05-14 17:53:27.411 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==> Parameters: 2020(String)
2020-05-14 17:53:27.413 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -<==      Total: 12
2020-05-14 17:53:27.413 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==>  Preparing: SELECT id,title,create_time FROM article WHERE DATE_FORMAT(create_time,'%Y') = ? and enable=1 order by create_time desc 
2020-05-14 17:53:27.414 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==> Parameters: 2019(String)
2020-05-14 17:53:27.415 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -<==      Total: 2
2020-05-14 17:53:27.416 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:53:27.417 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/archive/list(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 14(Long), {"code":20000,"data":[{"articles":[{"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","title":"mysql练习题"},{"createTime":"2020-04-19 15:36:25","id":"1251776651612700674","title":"springboot jackson"},{"createTime":"2020-04-19 15:12:12","id":"1251770557519675394","title":"test"},{"createTime":"2020-04-19 13:52:57","id":"1251750614375907330","title":"123123123"},{"createTime":"2020-04-19 12:15:26","id":"1251726075243896833","title":"sdfsdf"},{"createTime":"2020-04-19 12:14:41","id":"1251725884101074946","title":"sdf"},{"createTime":"2020-04-19 12:11:56","id":"1251725190564519937","title":"阿道夫啊实打实的"},{"createTime":"2020-04-19 11:36:19","id":"1251716229803122690","title":"上的撒旦发射点"},{"createTime":"2020-04-18 17:30:52","id":"6","title":"save"},{"createTime":"2020-04-18 11:00:05","id":"5","title":"12515215"},{"createTime":"2020-04-08 10:54:04","id":"2","title":"这是推荐阅读的文章哇"},{"createTime":"2020-03-23 15:55:15","id":"1","title":"mybatis plus 乐观锁测试时间"}],"year":"2020"},{"articles":[{"createTime":"2019-06-17 23:48:04","id":"3","title":"岁的法国士大夫"},{"createTime":"2019-06-14 12:21:50","id":"4","title":"这是置顶的文章哇"}],"year":"2019"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:53:27.420 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:53:34.654 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:53:34.655 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:53:34.659 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:53:34.660 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:53:34.663 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:34.664 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:53:34.665 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.666 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:34.667 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:53:34.668 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.669 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:34.669 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:53:34.670 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.671 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:34.672 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:53:34.673 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.675 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:34.676 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:53:34.678 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.680 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:34.681 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:53:34.682 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.683 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:34.684 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:53:34.685 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.686 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:34.686 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:53:34.687 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.687 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:34.688 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:53:34.689 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.689 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:34.690 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:53:34.691 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.693 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:34.694 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:53:34.695 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.696 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:34.697 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:53:34.698 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.699 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:34.699 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:53:34.700 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.701 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:34.701 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:53:34.702 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:53:34.703 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:34.703 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:53:34.704 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.705 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:34.706 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:53:34.706 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:34.707 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:53:34.712 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:53:34.713 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 59(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:53:34.718 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:53:40.587 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:53:40.587 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:53:40.589 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:40.591 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:53:40.593 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.594 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:40.594 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:53:40.595 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.596 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:53:40.597 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:53:40.598 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:53:40.599 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:53:40.601 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:53:40.602 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:53:40.603 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:53:40.604 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:53:40.604 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:53:40.604 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:53:40.605 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:53:40.605 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:53:40.605 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:53:40.606 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:53:40.606 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:53:40.607 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:53:40.608 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:53:40.608 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:53:40.609 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:53:40.609 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:53:40.609 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:53:40.610 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:53:40.610 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.612 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:53:40.612 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:53:40.612 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:53:40.612 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 23(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:53:40.613 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.613 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:53:40.615 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:53:40.615 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:53:40.615 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:53:40.615 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:53:40.616 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.616 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:53:40.617 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:53:40.618 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:53:40.619 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.619 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:53:40.620 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.620 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:53:40.621 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:53:40.621 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:53:40.622 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.622 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:53:40.623 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:53:40.624 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.625 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:53:40.626 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:53:40.626 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:53:40.626 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 36(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:53:40.627 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:53:40.628 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:53:40.629 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:53:40.630 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:53:40.631 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 37(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:53:40.633 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:54:15.541 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:54:15.541 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:54:15.542 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:54:15.542 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:54:15.543 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:54:15.543 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:54:15.544 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:54:15.542 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:54:15.544 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:54:15.545 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:54:15.545 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:54:15.545 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:54:15.547 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.547 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.548 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:54:15.548 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:54:15.549 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:54:15.548 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:54:15.549 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:54:15.549 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:54:15.549 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:54:15.550 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.550 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.551 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:54:15.549 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:54:15.551 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:54:15.552 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:54:15.552 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:54:15.553 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.553 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:54:15.553 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:54:15.554 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:54:15.554 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:54:15.554 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.554 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:54:15.555 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:54:15.555 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:54:15.556 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.556 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:54:15.557 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.557 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:54:15.558 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:54:15.558 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:54:15.558 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:54:15.559 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:54:15.559 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.560 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.560 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:54:15.561 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:54:15.559 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:54:15.561 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:54:15.562 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.562 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:54:15.563 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:54:15.564 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.566 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:54:15.566 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:54:15.566 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:54:15.567 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 28(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:54:15.566 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:54:15.567 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.569 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:54:15.569 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:54:15.570 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:54:15.572 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.574 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:54:15.574 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:54:15.576 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.577 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:54:15.577 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:54:15.578 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:54:15.579 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.582 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:54:15.584 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:54:15.585 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.586 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:54:15.586 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:54:15.587 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.589 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:54:15.589 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:54:15.591 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.592 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:54:15.592 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:54:15.593 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.595 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:54:15.595 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:54:15.597 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.599 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:54:15.601 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:54:15.602 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:54:15.603 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:54:15.603 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:54:15.604 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.606 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:54:15.606 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:54:15.607 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:54:15.608 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:54:15.611 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:54:15.612 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 73(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":25},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:54:15.618 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:07.582 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:55:07.583 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 4(String)
2020-05-14 17:55:07.584 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:07.585 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:55:07.586 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.588 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:07.588 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:55:07.589 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.590 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:55:07.591 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:55:07.592 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:55:07.591 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 4(String)
2020-05-14 17:55:07.592 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:55:07.593 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:55:07.592 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:55:07.593 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:55:07.593 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:55:07.594 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:55:07.595 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:07.595 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:07.597 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:55:07.597 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:55:07.598 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.598 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.599 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:07.599 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:07.599 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:07.600 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:55:07.600 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:55:07.600 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/4(String), [4](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 20(Long), {"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:07.601 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.601 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.601 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:55:07.601 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:55:07.602 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:07.602 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 4(String)
2020-05-14 17:55:07.602 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:07.602 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:55:07.603 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:07.604 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.604 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:07.605 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:07.606 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:55:07.606 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:07.607 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.605 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 17:55:07.608 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:07.609 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:55:07.610 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.612 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:07.613 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:55:07.613 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:07.614 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/4(String), [4](String), 1(Integer), GET(String), 22(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:07.614 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:07.615 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:55:07.617 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:07.618 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:07.619 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 29(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:07.621 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:11.658 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:55:11.659 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:55:11.661 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:55:11.662 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:55:11.665 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:11.665 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:55:11.667 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.668 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:11.668 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:55:11.669 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.671 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:11.671 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:55:11.672 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.673 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:11.674 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:55:11.674 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.675 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:11.676 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:55:11.677 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.678 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:11.679 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:55:11.680 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.681 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:11.682 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:55:11.683 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.684 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:11.685 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:55:11.686 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.687 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:11.687 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:55:11.688 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.689 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:11.690 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:55:11.690 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.691 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:11.692 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:55:11.693 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.694 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:11.694 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:55:11.695 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.697 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:11.698 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:55:11.699 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.700 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:11.700 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:55:11.701 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:55:11.702 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:11.702 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:55:11.703 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.704 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:11.705 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:55:11.705 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.706 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:55:11.708 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:11.709 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 53(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":25},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:11.715 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:11.959 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:55:11.960 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:55:11.961 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:55:11.962 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:55:11.963 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:55:11.964 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:11.964 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:55:11.964 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:55:11.965 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:55:11.965 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.965 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:11.966 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:55:11.967 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:11.966 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:55:11.968 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.968 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:55:11.969 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:11.969 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.970 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:55:11.971 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:11.971 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.972 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:55:11.972 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:55:11.972 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:55:11.972 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.973 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:11.973 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:11.974 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:11.974 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:11.974 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:55:11.974 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:11.975 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.976 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:11.976 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:55:11.977 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.978 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:11.979 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:11.981 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:11.981 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:55:11.983 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:11.984 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:55:11.987 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:11.988 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 30(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:11.990 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:15.905 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:55:15.903 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:55:15.906 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:55:15.906 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:55:15.907 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:15.907 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:55:15.903 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:55:15.908 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:55:15.908 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:55:15.909 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.910 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:15.911 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:15.911 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:55:15.911 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:55:15.912 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.913 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.913 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:55:15.914 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:15.915 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:55:15.916 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.916 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:55:15.918 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:15.918 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:55:15.919 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:15.919 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 16(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:15.920 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.921 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:15.922 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:15.922 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:55:15.923 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.925 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:15.926 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:55:15.927 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.929 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:55:15.928 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:55:15.930 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:55:15.931 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.932 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:55:15.933 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 17:55:15.934 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:55:15.934 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:15.934 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 17:55:15.935 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 35(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:15.935 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:55:15.937 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:15.938 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:15.939 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 38(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:15.936 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:55:15.941 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:55:15.942 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:55:15.943 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:55:15.945 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.947 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:55:15.947 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:55:15.949 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:55:15.950 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:55:15.951 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:55:15.952 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:55:15.953 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:55:15.958 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:55:15.959 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 57(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:55:15.962 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:56:09.278 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:56:09.278 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:56:09.279 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:56:09.279 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:56:09.280 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 17:56:09.281 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:56:09.282 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:56:09.282 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:56:09.282 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 17:56:09.283 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.284 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:56:09.284 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:56:09.285 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:56:09.286 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:56:09.286 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.287 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:56:09.287 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:56:09.288 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:56:09.289 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:56:09.291 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:56:09.291 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:56:09.302 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:56:09.303 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 27(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":57},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:56:09.306 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:56:09.584 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:56:09.584 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:56:09.587 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:56:09.587 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:56:09.587 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:56:09.588 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:56:09.589 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.590 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:56:09.591 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:56:09.591 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:56:09.591 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:56:09.592 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.594 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:56:09.593 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:56:09.595 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:56:09.597 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:56:09.597 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.598 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:56:09.598 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:56:09.599 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:56:09.600 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.602 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:56:09.602 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:56:09.603 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:56:09.604 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.606 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:56:09.606 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:56:09.608 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.609 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:56:09.610 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:56:09.612 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.614 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:56:09.615 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:56:09.616 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:56:09.617 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:56:09.619 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:56:09.619 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 36(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:56:09.622 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:56:20.662 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:56:20.663 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:56:20.666 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:56:20.667 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:56:20.669 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:56:20.670 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:56:20.671 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:56:20.672 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:56:20.673 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:56:20.674 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:56:20.675 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:56:20.677 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:56:20.681 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:56:20.681 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 27(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":58},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:56:20.684 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:56:20.880 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:56:20.881 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 17:56:20.882 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 17:56:20.882 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:56:20.883 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 17:56:20.884 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:56:20.885 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:56:20.886 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:56:20.890 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:57:03.832 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:57:03.839 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:57:03.832 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:57:03.840 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:57:03.840 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:57:03.841 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:57:03.842 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:57:03.842 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:57:03.842 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:57:03.842 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:57:03.842 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:57:03.845 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:03.845 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:03.846 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:57:03.846 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:57:03.847 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.848 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.849 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:03.849 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:03.850 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:57:03.850 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:57:03.848 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:57:03.851 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.851 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.853 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:03.853 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:03.853 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:57:03.853 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:57:03.851 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:57:03.854 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.854 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.856 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:03.856 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:03.856 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:57:03.856 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:57:03.857 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.857 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.858 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:57:03.858 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:03.859 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:03.859 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:57:03.860 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:57:03.861 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.862 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.863 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:03.863 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:57:03.864 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:03.864 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.864 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:57:03.866 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.867 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:57:03.867 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:03.868 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:57:03.869 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.869 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:57:03.870 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), POST(String), 43(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:57:03.870 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:03.871 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:57:03.872 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:57:03.872 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.874 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:03.875 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:57:03.877 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.879 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:03.880 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:57:03.882 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.883 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:03.884 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:57:03.884 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:57:03.885 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.885 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:57:03.886 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:03.887 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:03.887 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:57:03.887 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:57:03.889 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.888 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.890 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:03.890 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:03.891 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:57:03.891 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:57:03.892 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.892 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.893 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:57:03.895 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:03.896 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:57:03.897 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:57:03.897 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:57:03.898 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 71(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:57:03.899 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:03.899 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:57:03.900 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:57:03.901 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.902 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:03.903 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:57:03.905 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:03.905 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:57:03.909 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:57:03.911 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 82(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":25},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:57:03.916 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:57:06.242 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:57:06.243 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:57:06.244 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:57:06.245 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:57:06.245 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:06.246 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:57:06.246 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 17:57:06.247 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.247 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:57:06.248 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 17:57:06.248 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:06.249 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:57:06.249 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:57:06.250 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 17:57:06.250 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.251 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:57:06.251 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 17:57:06.251 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 17:57:06.251 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:57:06.252 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 17:57:06.253 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:57:06.253 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:57:06.254 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:57:06.258 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:57:06.259 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:57:06.260 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 19(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":25},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:57:06.263 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:57:06.540 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:57:06.541 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:57:06.543 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:57:06.544 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:57:06.545 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.546 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:57:06.547 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:57:06.547 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:57:06.547 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:57:06.548 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.548 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:57:06.549 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:57:06.549 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:57:06.550 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:57:06.550 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:06.551 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:57:06.551 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:57:06.551 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.552 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:06.553 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:57:06.553 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.554 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:57:06.554 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:06.555 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:57:06.556 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.557 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:06.558 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:57:06.559 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.560 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:06.561 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:57:06.562 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.564 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:57:06.564 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:57:06.565 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:57:06.566 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:57:06.568 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:57:06.569 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 22(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:57:06.570 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:21.586 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:59:21.587 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:59:21.588 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:59:21.589 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:59:21.590 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:59:21.590 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:59:21.591 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:21.591 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:59:21.591 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:21.592 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:21.592 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.592 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:59:21.592 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 13(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:21.593 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:59:21.593 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:59:21.593 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:21.593 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:59:21.593 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:21.594 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.594 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:21.594 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:59:21.595 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:59:21.595 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:59:21.595 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:59:21.596 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:21.596 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.596 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:21.596 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:21.598 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:21.598 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:59:21.598 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:21.599 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:59:21.599 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.601 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.601 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:21.603 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:21.602 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:59:21.603 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:21.603 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:21.604 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.605 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.605 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:21.606 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:59:21.606 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:21.606 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:21.607 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.608 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.609 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:21.609 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:59:21.609 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:21.610 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:59:21.610 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.611 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.612 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:21.613 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:21.613 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:59:21.613 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:59:21.614 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.614 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.615 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:21.616 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:21.616 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:59:21.616 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:59:21.617 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.617 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.618 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:59:21.619 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:21.619 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:59:21.620 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:21.620 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.621 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 43(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:21.622 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:21.623 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:59:21.623 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:21.624 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.625 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:21.626 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:59:21.627 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.629 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:21.629 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:59:21.630 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.632 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:21.633 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:59:21.635 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.637 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:21.638 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:59:21.639 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.640 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:21.641 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:59:21.642 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:59:21.643 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:21.644 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:59:21.645 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.646 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:21.647 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:59:21.648 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:21.649 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:59:21.653 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:21.654 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 77(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:21.658 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:54.736 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:59:54.736 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:59:54.738 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:59:54.738 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 17:59:54.738 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:59:54.738 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251752142763507713(String)
2020-05-14 17:59:54.739 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:54.740 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:59:54.741 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:54.742 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:59:54.742 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.742 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:59:54.742 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 17:59:54.743 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.743 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:54.743 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:59:54.744 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:54.743 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:59:54.743 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251752142763507713(String)
2020-05-14 17:59:54.744 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.744 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:59:54.745 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 17:59:54.745 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.746 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:54.746 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:54.746 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:59:54.746 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 17:59:54.746 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:54.747 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 17:59:54.747 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.747 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.747 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251752142763507713(String)
2020-05-14 17:59:54.748 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:54.748 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:54.749 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:54.749 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:59:54.749 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 17:59:54.747 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:54.750 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.750 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.750 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:59:54.750 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251752142763507713(String), [1251752142763507713](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:54.751 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:54.751 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:59:54.752 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.753 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:54.753 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:54.753 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:54.754 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:54.754 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:59:54.755 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:54.755 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:54.756 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:59:54.756 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251752142763507713(String), [1251752142763507713](String), 1(Integer), GET(String), 18(Long), {"code":20000,"data":{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:54.756 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:54.758 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:54.759 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:54.760 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 26(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:54.762 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:58.982 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 17:59:58.983 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:59:58.985 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 17:59:58.985 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 17:59:58.991 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:58.992 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:59:58.994 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:58.996 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:58.997 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 17:59:58.998 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:58.999 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:59.000 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:59.000 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.001 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:59.002 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:59.003 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.004 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:59.004 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:59:59.005 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.007 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:59.008 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 17:59:59.009 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.010 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:59.011 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:59:59.012 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.013 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:59.013 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 17:59:59.014 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.015 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:59.015 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:59:59.016 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.017 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:59.017 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 17:59:59.018 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.019 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:59.019 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:59:59.020 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.021 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:59.021 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 17:59:59.023 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.025 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:59.026 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:59:59.027 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.028 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:59.029 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 17:59:59.029 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 17:59:59.030 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:59.031 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:59:59.032 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.032 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:59.033 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 17:59:59.034 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.034 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 17:59:59.037 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:59.038 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 60(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:59.044 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:59.286 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 17:59:59.287 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 17:59:59.290 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 17:59:59.288 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 17:59:59.290 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 17:59:59.291 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 17:59:59.292 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:59.293 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 17:59:59.293 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 17:59:59.294 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:59.294 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.295 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.296 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:59.296 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 17:59:59.296 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 17:59:59.296 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 17:59:59.297 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.298 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.298 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 17:59:59.298 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:59.299 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 17:59:59.300 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.302 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:59.303 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 17:59:59.304 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.306 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:59.306 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:59.307 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 14(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:59.307 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 17:59:59.308 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.310 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 17:59:59.311 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 17:59:59.312 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:59.313 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 17:59:59.313 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 17:59:59.316 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:59.316 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 17:59:59.316 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 31(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:59.317 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 17:59:59.318 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 17:59:59.319 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 17:59:59.321 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 17:59:59.323 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 24(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 17:59:59.326 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:00:02.009 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:00:02.010 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:00:02.048 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:00:02.062 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 4(String)
2020-05-14 18:00:03.791 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:00:03.792 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:03.792 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:00:03.792 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:00:03.793 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:03.794 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.794 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:00:03.793 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:00:03.794 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:00:03.795 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:03.795 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.796 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:00:03.796 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:03.796 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:03.797 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.797 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:00:03.797 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:00:03.797 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:00:03.798 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.798 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.798 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:00:03.799 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:03.799 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 4(String)
2020-05-14 18:00:03.799 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:03.800 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:00:03.800 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:00:03.800 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:00:03.801 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.801 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.801 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:00:03.803 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:03.803 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:00:03.804 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:00:03.804 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:00:03.804 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 1787(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:00:03.805 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/4(String), [4](String), 1(Integer), GET(String), 1799(Long), {"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:00:03.805 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.807 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:03.807 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:00:03.807 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:00:03.808 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:00:03.809 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.811 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:03.812 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:00:03.813 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:03.814 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:00:03.817 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:00:03.818 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 1808(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:00:03.820 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:00:03.822 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:00:03.827 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 4(String)
2020-05-14 18:00:03.829 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 18:00:03.832 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:00:03.833 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/4(String), [4](String), 1(Integer), GET(String), 1817(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:00:03.835 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:00:18.248 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:00:18.248 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:00:18.249 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:00:18.249 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:00:18.250 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:00:18.250 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:00:18.251 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:00:18.252 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:00:18.252 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:18.252 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:00:18.252 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:00:18.245 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:00:18.253 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.254 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:00:18.254 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:18.254 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:00:18.255 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:00:18.255 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 5(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:00:18.255 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:18.255 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:00:18.256 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.256 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:00:18.256 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.256 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:00:18.257 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:18.257 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:00:18.257 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:00:18.258 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:18.259 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.259 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:00:18.259 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:00:18.259 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:00:18.259 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:00:18.260 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:18.260 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.260 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:00:18.262 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:18.262 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.262 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:00:18.263 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:00:18.263 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:18.263 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.264 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:00:18.264 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:18.265 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.265 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:00:18.267 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.267 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:18.268 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:00:18.269 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:18.270 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:00:18.270 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.271 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:00:18.271 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.272 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:00:18.273 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:18.273 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.274 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:00:18.274 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:00:18.275 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.277 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:00:18.277 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:18.277 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 30(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:00:18.277 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:00:18.278 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.279 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:18.280 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:00:18.280 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:00:18.281 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.283 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:18.284 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:00:18.285 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.287 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:18.288 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:00:18.289 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.290 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:18.291 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:00:18.292 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.293 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:18.294 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:00:18.296 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.297 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:18.298 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:00:18.300 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.302 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:18.303 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:00:18.305 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.307 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:18.308 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:00:18.309 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:00:18.311 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:00:18.311 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:00:18.313 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.314 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:00:18.315 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:00:18.317 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:00:18.318 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:00:18.323 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:00:18.324 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 78(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:00:18.330 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:01:31.706 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:01:31.707 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:01:31.709 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:01:31.709 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:01:31.710 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:01:31.710 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:01:31.711 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.712 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:01:31.713 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:01:31.713 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:01:31.714 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:01:31.714 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.715 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.716 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:01:31.716 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:01:31.716 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:01:31.717 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:01:31.717 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.718 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:01:31.718 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:01:31.719 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:01:31.720 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:01:31.721 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:01:31.724 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:01:31.725 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:01:31.726 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 26(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:01:31.730 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:01:31.729 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:01:31.732 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:01:31.734 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:01:31.735 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:01:31.735 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:01:31.736 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 18:01:31.736 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:01:31.737 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:01:31.738 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:01:31.738 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:01:31.740 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:01:31.740 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:01:31.740 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 40(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:01:31.740 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:01:31.741 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.742 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:01:31.743 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:01:31.743 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:01:31.745 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.746 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:01:31.747 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:01:31.748 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.750 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:01:31.751 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:01:31.752 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.753 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:01:31.754 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:01:31.755 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.756 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:01:31.757 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:01:31.758 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:01:31.758 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:01:31.762 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:01:31.763 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 58(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:01:31.765 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:03:23.649 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:03:23.649 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:03:23.651 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:03:23.652 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:03:23.654 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:23.654 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:03:23.655 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:03:23.655 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:03:23.656 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.657 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:23.658 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:03:23.658 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:23.659 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.659 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:03:23.661 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.661 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:23.662 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:03:23.662 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:03:23.663 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:03:23.663 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:23.663 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.664 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:03:23.664 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:03:23.664 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:03:23.665 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.665 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:03:23.666 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:03:23.666 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:23.667 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:23.667 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:03:23.667 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 21(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:03:23.667 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:03:23.668 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.668 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.670 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:23.670 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:23.671 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:03:23.671 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:03:23.671 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:03:23.672 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.672 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.673 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:03:23.673 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:23.673 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:23.674 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:03:23.674 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:03:23.676 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.676 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.678 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:23.678 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:23.674 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:03:23.679 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:03:23.679 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:03:23.680 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.680 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.680 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:03:23.681 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:23.681 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:23.682 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:03:23.682 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:03:23.683 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.683 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.683 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:03:23.684 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 34(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:03:23.685 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:23.685 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:23.685 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:03:23.685 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:03:23.686 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.686 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.687 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:03:23.687 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:03:23.688 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:23.688 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:03:23.690 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.695 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:23.696 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:03:23.696 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:03:23.697 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.697 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 43(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:03:23.699 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:23.700 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:03:23.700 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:03:23.701 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.703 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:23.704 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:03:23.705 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.707 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:23.708 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:03:23.709 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:03:23.711 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:23.712 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:03:23.713 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.714 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:23.715 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:03:23.717 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:23.717 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:03:23.722 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:03:23.723 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 81(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":60},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:03:23.730 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:03:47.872 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:03:47.873 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:03:47.873 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:03:47.873 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:03:47.874 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:03:47.874 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:03:47.875 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:03:47.875 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:03:47.876 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:03:47.876 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:03:47.877 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:03:47.878 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:03:47.879 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:03:47.879 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:47.880 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:03:47.880 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:03:47.875 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:47.880 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:03:47.881 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:03:47.881 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:03:47.882 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.883 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:03:47.884 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:47.884 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:03:47.884 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:03:47.885 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:03:47.886 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.886 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.888 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:47.888 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:47.888 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:03:47.888 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:03:47.890 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.890 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.890 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:03:47.892 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:47.892 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:03:47.892 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:03:47.893 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:03:47.894 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.894 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:03:47.883 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.895 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:47.896 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:03:47.896 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:03:47.897 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:03:47.897 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.898 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.898 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:03:47.899 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:03:47.899 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:03:47.899 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:03:47.900 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 32(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:03:47.900 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:03:47.901 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:03:47.902 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 30(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:03:47.902 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:03:47.903 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:03:47.904 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:03:47.906 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:03:47.907 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 32(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:03:47.910 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:04:50.451 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:04:50.452 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:04:50.454 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:04:50.455 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:04:50.456 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:04:50.458 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:04:50.458 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:04:50.459 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:04:50.460 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:04:50.462 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:04:50.463 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:04:50.465 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:04:50.471 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:04:50.472 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 30(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":5},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:04:50.481 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:04:50.666 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:04:50.666 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:04:50.667 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:04:50.668 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:04:50.668 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:04:50.669 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:04:50.670 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:04:50.671 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:04:50.673 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:06:14.007 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:06:14.008 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:06:14.010 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:06:14.010 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:06:14.011 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:06:14.013 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:06:14.013 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:06:14.014 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:06:14.014 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:06:14.015 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:06:14.015 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:06:14.017 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:06:14.022 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:06:14.023 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 20(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":6},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:06:14.026 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:06:14.238 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:06:14.239 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:06:14.240 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:06:14.241 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:06:14.242 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:06:14.243 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:06:14.245 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:06:14.246 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:06:14.250 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:13.687 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:11:13.688 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:11:13.688 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:11:13.689 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:11:13.691 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:13.691 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:11:13.692 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:11:13.693 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:11:13.693 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:13.693 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:11:13.694 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:13.695 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:11:13.695 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:11:13.697 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:13.697 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:11:13.698 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:13.698 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:11:13.698 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 21(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:13.699 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:11:13.700 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:11:13.701 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:13.705 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:13.706 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 28(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":7},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:13.709 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:13.973 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:11:13.974 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:11:13.974 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:11:13.975 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:11:13.976 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:13.976 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:11:13.977 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:13.977 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:11:13.978 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:13.980 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:13.980 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:13.980 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:13.981 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:11:13.982 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:13.982 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:11:13.982 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:13.984 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:13.984 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:13.985 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:13.984 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:11:13.986 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:13.988 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:13.989 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:13.989 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:11:13.990 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:13.991 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:13.992 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:11:13.993 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:13.995 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:13.996 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:11:13.997 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:13.998 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:13.999 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:11:14.000 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:14.000 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:11:14.003 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:14.003 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 31(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:14.006 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:19.421 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:11:19.421 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:11:19.422 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:11:19.423 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:11:19.423 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:11:19.424 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:19.425 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:19.425 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:19.426 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:19.427 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.429 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:19.430 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:19.430 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:11:19.431 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:19.431 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:11:19.431 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.432 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:11:19.432 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:11:19.433 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:11:19.434 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:19.434 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:19.435 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:19.435 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:11:19.436 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.437 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:11:19.437 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:19.437 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:11:19.438 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:11:19.439 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:11:19.439 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.440 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:11:19.441 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:19.442 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:11:19.442 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:19.443 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.443 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:11:19.444 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:19.445 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:19.444 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.445 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:11:19.447 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.447 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:19.447 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:11:19.448 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:19.449 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.449 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:11:19.450 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.450 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:19.451 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:19.451 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:19.452 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.452 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:11:19.453 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.454 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:19.454 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:11:19.454 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:19.455 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.457 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:19.457 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:19.457 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:11:19.458 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 36(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:19.459 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.460 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:19.461 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:19.461 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:11:19.463 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.465 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:19.466 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:11:19.467 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.469 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:19.469 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:11:19.470 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.472 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:19.472 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:11:19.473 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.474 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:19.475 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:11:19.476 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.478 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:19.478 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:11:19.479 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.480 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:19.481 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:11:19.482 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.484 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:19.485 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:11:19.485 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.486 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:19.487 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:11:19.488 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:11:19.490 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:19.491 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:11:19.492 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.493 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:19.494 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:11:19.496 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:19.497 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:11:19.501 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:19.502 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 78(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":60},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":8}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:19.507 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:21.855 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:11:21.856 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:11:21.858 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:21.859 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:11:21.861 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:21.861 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:11:21.861 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:11:21.862 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:11:21.862 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:21.862 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:11:21.863 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:11:21.863 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:11:21.864 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:21.864 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:11:21.864 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:11:21.864 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:11:21.864 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:11:21.865 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 18:11:21.865 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:11:21.866 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:11:21.866 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:21.866 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:11:21.866 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:11:21.867 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:11:21.867 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:21.868 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:21.868 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:21.869 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:21.869 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:11:21.870 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:21.871 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:21.871 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:11:21.872 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:21.872 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:21.872 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:21.873 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 20(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":60},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:21.873 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:21.874 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:11:21.875 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:21.877 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:21.878 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:11:21.879 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:21.881 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:21.881 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:11:21.882 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:21.883 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:11:21.883 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:21.885 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:21.886 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 26(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:21.888 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:22.158 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:11:22.159 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:11:22.161 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:22.162 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:22.163 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:22.164 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:22.164 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:22.165 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:22.166 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:11:22.168 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:22.169 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:22.173 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:29.652 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:11:29.652 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:11:29.652 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:11:29.652 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251780392676016129(String)
2020-05-14 18:11:29.653 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:11:29.654 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:11:29.654 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:29.654 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:29.654 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251780392676016129(String)
2020-05-14 18:11:29.655 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:11:29.655 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 18(Integer)
2020-05-14 18:11:29.655 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.656 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:11:29.657 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:29.656 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:11:29.657 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:29.657 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:29.658 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.658 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.659 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:11:29.659 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:29.659 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:11:29.660 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251780392676016129(String), [1251780392676016129](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"articleId":"1251780392676016129","createTime":"2020-04-24 10:50:30","id":18,"message":"不错不错，✌爱了","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:29.660 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:11:29.661 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.661 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:29.662 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:29.662 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:11:29.663 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:11:29.664 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251780392676016129(String)
2020-05-14 18:11:29.665 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:11:29.666 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:29.674 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:29.682 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:29.683 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251780392676016129(String), [1251780392676016129](String), 1(Integer), GET(String), 32(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:29.692 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:29.961 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:11:29.962 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:11:29.965 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:11:29.966 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:11:29.967 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:29.968 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:11:29.969 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.970 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:29.970 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:11:29.971 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.972 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:29.973 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:11:29.975 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.977 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:29.978 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:11:29.979 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.980 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:29.981 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:11:29.982 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.983 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:11:29.983 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:11:29.984 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:11:29.984 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:11:29.987 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:29.987 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 31(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:11:29.991 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:35.760 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:11:35.761 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 3(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 18:11:35.765 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:11:47.706 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:11:47.707 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:11:47.708 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:11:47.708 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:11:47.709 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:11:47.709 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:13.861 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:13.862 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:13.863 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:13.863 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:13.864 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:13.865 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:14.202 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:14.203 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:14.204 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:14.205 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:14.205 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:14.206 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:14.295 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:14.296 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:14.297 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:14.297 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:14.298 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:14.299 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:14.303 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:14.304 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 2(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:14.307 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:14.512 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:14.512 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:14.513 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:14.514 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:14.514 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:14.514 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:14.606 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:14.606 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:14.607 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:14.607 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:14.607 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:14.608 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:14.614 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:12:14.614 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:14.615 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:12:14.616 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:12:14.618 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:14.618 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:14.619 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.620 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:14.620 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:14.621 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.622 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:14.622 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:14.623 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.624 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:14.624 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:14.625 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.627 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:14.628 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:12:14.629 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.631 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:14.631 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:12:14.632 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.633 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:14.634 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:12:14.634 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.635 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:14.635 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:12:14.636 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.637 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:14.637 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:12:14.638 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.639 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:14.639 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:12:14.640 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.641 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:14.641 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:12:14.642 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.644 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:14.645 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:12:14.646 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.647 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:14.647 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:12:14.648 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.649 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:14.649 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:12:14.650 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:12:14.651 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:14.651 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:12:14.652 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.653 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:14.653 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:12:14.654 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:14.655 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:12:14.657 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:14.658 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 46(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":8}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:14.665 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:14.847 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:14.847 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:14.848 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:14.848 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:14.848 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:14.849 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:14.890 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:14.890 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:14.891 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:14.891 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:14.891 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:14.891 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:14.892 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:14.893 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:14.893 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:14.893 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:14.894 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:14.894 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:15.023 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:15.023 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:15.024 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:15.024 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:15.025 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:15.025 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:15.028 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:12:15.029 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:15.029 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:12:15.030 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:12:15.031 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:15.031 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:12:15.032 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:15.033 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:15.033 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:12:15.034 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:15.035 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:15.036 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:12:15.036 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:15.037 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:15.038 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:12:15.038 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:15.039 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:15.040 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:12:15.040 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:15.041 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:15.042 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:12:15.042 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:15.043 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:12:15.044 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:15.045 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 17(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:15.048 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:15.068 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:15.068 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:15.069 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:15.069 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:15.070 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:15.070 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:15.071 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:15.071 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:15.071 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:15.071 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:15.072 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:15.072 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:15.074 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:12:15.074 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:12:15.075 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:12:15.075 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:12:15.075 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:12:15.078 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:15.078 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:15.078 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:15.079 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:15.079 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:15.081 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:15.081 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:15.081 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:15.082 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:15.083 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:12:15.086 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:15.087 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:15.089 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:17.846 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:17.847 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:17.848 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:17.848 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:17.849 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:17.849 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:17.890 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:17.891 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:17.892 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:17.893 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:17.893 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:17.895 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:18.022 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:18.022 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:18.023 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:18.024 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:18.024 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:18.025 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:18.030 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:12:18.030 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:18.031 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:12:18.032 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:12:18.033 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:18.033 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:12:18.034 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.035 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:18.036 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:12:18.036 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.037 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:18.038 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:12:18.039 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.039 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:18.040 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:12:18.041 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.042 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:18.043 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:12:18.044 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.045 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:18.046 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:12:18.047 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.047 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:12:18.048 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:18.049 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 20(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:18.052 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:18.066 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:18.066 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:18.067 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:18.068 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:18.069 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:18.069 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:18.074 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:12:18.074 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 4(String)
2020-05-14 18:12:18.076 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:18.076 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:18.077 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.078 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:18.079 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:18.080 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.081 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:12:18.082 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:12:18.082 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 4(String)
2020-05-14 18:12:18.083 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:12:18.087 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:18.087 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/4(String), [4](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:18.090 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:18.109 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:18.109 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:18.110 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:18.110 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:18.110 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:18.111 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:18.151 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:18.152 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:18.152 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:18.153 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:18.153 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:18.154 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:18.284 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:18.284 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:18.285 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:18.286 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:18.286 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:18.287 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:18.289 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:12:18.289 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 4(String)
2020-05-14 18:12:18.290 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 18:12:18.292 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:18.292 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/4(String), [4](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:18.294 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:18.327 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:18.327 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:18.328 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:18.329 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:18.329 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:18.330 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:18.332 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:12:18.332 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:12:18.334 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:18.334 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:18.335 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.337 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:18.337 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:18.338 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:18.339 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:12:18.340 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:18.341 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:18.351 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:21.651 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:21.652 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:21.652 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:21.653 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:21.653 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:21.654 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:21.696 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:21.696 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:21.696 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:21.696 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:21.696 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:21.696 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:21.697 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:21.697 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:21.697 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:21.697 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:21.697 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:21.697 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:21.698 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:21.698 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:21.698 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:21.698 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:21.698 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:21.698 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:21.827 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:21.827 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:21.828 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:21.829 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:21.830 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:21.831 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:21.834 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:12:21.835 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:21.836 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:12:21.836 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:12:21.838 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:21.838 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:21.839 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.840 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:21.840 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:21.842 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.842 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:21.843 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:21.844 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.846 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:21.846 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:21.846 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.847 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:21.847 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:12:21.849 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.849 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:21.850 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:12:21.850 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.852 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:21.852 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:12:21.853 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.854 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:21.855 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:12:21.856 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.858 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:21.859 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:12:21.860 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.861 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:21.862 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:12:21.863 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.865 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:21.865 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:12:21.866 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.867 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:21.867 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:12:21.868 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.869 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:21.869 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:21.869 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:21.870 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:21.870 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:21.870 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:12:21.870 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:21.870 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.870 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:21.871 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:21.871 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:21.872 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:21.872 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:21.872 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:12:21.872 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:21.873 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:21.873 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:12:21.874 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:21.874 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:21.875 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:21.875 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:21.875 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:21.875 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:12:21.876 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:21.876 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:12:21.876 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.877 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:21.877 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:12:21.877 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:21.878 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:12:21.878 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:21.878 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:12:21.879 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.880 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:12:21.880 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:21.881 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:21.881 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:12:21.882 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:12:21.884 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:21.884 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:21.885 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:21.885 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:21.886 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.886 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 48(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1171},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":8}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:21.885 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:12:21.887 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:21.887 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:21.888 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:21.889 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.889 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:12:21.890 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:12:21.891 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:12:21.893 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:21.893 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:21.894 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:12:21.894 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 13(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:21.895 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.896 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:21.896 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:12:21.897 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.898 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:21.899 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:12:21.899 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:21.899 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.900 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:21.901 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:21.901 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:12:21.903 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.904 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:21.905 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:12:21.907 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.908 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:21.909 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:12:21.910 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:21.911 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:12:21.914 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:21.915 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 36(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:21.917 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:27.628 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:27.629 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:27.629 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:27.630 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:27.630 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:27.631 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:27.721 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:27.722 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:27.723 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:27.724 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:27.725 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:27.726 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:27.731 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:12:27.732 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:12:27.734 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:27.735 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:12:27.736 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:27.737 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:27.738 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:12:27.739 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:27.740 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:12:27.742 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:12:27.743 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:12:27.745 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:12:27.749 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:27.749 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 19(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":8},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:27.751 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:27.977 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:27.978 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:27.979 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:27.980 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:27.980 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:27.981 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:28.021 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:28.021 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:28.022 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:28.022 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:28.022 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:28.023 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:28.023 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:28.023 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:28.024 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:28.024 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:28.024 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:28.025 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:28.152 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:28.153 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:28.153 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:28.154 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:28.154 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:28.155 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:28.157 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:12:28.158 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:12:28.158 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:12:28.159 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:12:28.160 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:12:28.160 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:12:28.162 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:28.162 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:28.166 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:28.198 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:28.198 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:28.198 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:28.198 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:28.199 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:28.199 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:28.200 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:28.200 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:28.200 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:28.200 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:28.201 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:28.201 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:28.203 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:12:28.203 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:12:28.203 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:12:28.203 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:28.204 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:12:28.204 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:28.205 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:12:28.205 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:28.206 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:28.206 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:28.207 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:28.207 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:12:28.207 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:28.208 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:28.208 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:28.209 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:12:28.209 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:28.209 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:12:28.210 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:28.210 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:28.211 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:28.211 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:28.211 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:12:28.211 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:28.212 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:28.213 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:28.213 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:12:28.214 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:28.216 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:28.216 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:12:28.217 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:28.218 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:28.219 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:12:28.220 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:28.221 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:12:28.223 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:28.224 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 21(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:28.227 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:31.270 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:31.272 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:31.274 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:31.275 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:31.275 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:31.276 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:31.315 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:31.315 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:31.315 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:31.316 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:31.316 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:31.316 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:31.316 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:31.316 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:31.316 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:31.317 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:31.317 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:31.317 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:31.318 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:31.318 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:31.318 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:31.318 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:31.318 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:31.319 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:31.446 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:31.446 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:31.447 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:31.448 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:31.448 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:31.449 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:31.452 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:12:31.452 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:31.453 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:12:31.453 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:12:31.455 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:31.456 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:31.457 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.458 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:31.458 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:31.459 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.460 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:31.460 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:31.461 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.462 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:31.463 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:31.463 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.464 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:31.465 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:12:31.465 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.466 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:31.467 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:12:31.467 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.468 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:31.469 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:12:31.470 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.471 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:31.471 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:12:31.472 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.474 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:31.474 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:12:31.475 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.476 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:31.477 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:12:31.478 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.479 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:31.479 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:12:31.480 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.481 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:31.482 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:12:31.483 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.484 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:31.484 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:12:31.485 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.486 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:31.487 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:12:31.488 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:12:31.490 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:31.490 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:12:31.491 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.492 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:31.492 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:31.493 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:31.493 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:31.493 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:31.493 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:31.493 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:12:31.494 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:31.494 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.494 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:31.494 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:12:31.495 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:31.495 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:31.495 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:31.497 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:31.496 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:31.499 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:31.498 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:31.500 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:31.496 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:31.501 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:12:31.501 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 45(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1171},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:31.501 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:31.502 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:12:31.502 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:31.503 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:31.503 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:12:31.507 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:31.508 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:31.508 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:31.509 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:12:31.510 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:31.511 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:31.512 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:12:31.513 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:12:31.515 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:31.516 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:12:31.517 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.518 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:31.519 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:12:31.520 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.522 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:31.523 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:12:31.524 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.526 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:31.527 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:12:31.528 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.527 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:12:31.529 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:12:31.530 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:31.530 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:12:31.531 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.531 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:31.533 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:31.532 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:31.533 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:12:31.534 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.534 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.535 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:12:31.535 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:31.536 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:31.537 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:31.537 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:31.538 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:12:31.538 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 30(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:31.541 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:31.541 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:31.541 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 30(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:31.544 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:33.652 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:33.653 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:33.654 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:33.655 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:33.656 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:33.657 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:33.747 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:33.747 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:33.748 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:33.748 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:33.749 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:33.749 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:33.752 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:12:33.753 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 4(String)
2020-05-14 18:12:33.754 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:33.755 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:33.756 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:33.758 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:33.758 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:33.759 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:33.760 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:12:33.760 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:12:33.761 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 4(String)
2020-05-14 18:12:33.761 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:12:33.767 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:33.767 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/4(String), [4](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$9b26d832.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 16(Long), {"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1171},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:33.770 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:34.002 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:34.002 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:34.003 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:34.003 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:34.004 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:34.004 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:34.046 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:34.046 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:34.047 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:34.047 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:34.047 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:34.047 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:34.048 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:34.048 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:34.049 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:34.049 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:34.049 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:34.049 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:34.176 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:34.177 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:34.177 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:34.178 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:34.179 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:34.179 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:34.182 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:12:34.182 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:34.183 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:12:34.184 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:12:34.185 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:34.185 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:12:34.186 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:34.188 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:34.188 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:12:34.189 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:34.190 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:34.190 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:12:34.191 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:34.192 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:34.192 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:12:34.193 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:34.194 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:34.194 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:12:34.195 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:34.196 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:34.197 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:12:34.197 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:34.198 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:12:34.199 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:34.200 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 18(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:34.203 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:34.221 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:34.221 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:34.221 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:34.221 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:34.222 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:34.222 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:34.223 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:34.223 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:34.223 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:34.223 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:34.224 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:34.224 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:34.227 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:12:34.227 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:12:34.228 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 4(String)
2020-05-14 18:12:34.228 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:12:34.229 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 18:12:34.230 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:34.230 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:34.231 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:34.231 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:34.232 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/4(String), [4](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:34.232 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:34.233 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:34.234 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:34.234 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:34.234 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:12:34.237 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:34.238 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:34.240 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:52.008 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.008 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.009 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.043 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.043 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.044 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.135 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.135 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.136 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.137 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.138 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.139 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.143 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:52.144 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 1(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:52.146 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:52.389 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.390 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.390 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.391 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.391 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.392 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.433 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.433 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.434 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.435 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.435 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.436 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.563 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.563 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.564 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.566 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.566 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.567 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.570 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:12:52.570 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 4(String)
2020-05-14 18:12:52.571 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 0
2020-05-14 18:12:52.573 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:52.573 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/4(String), [4](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:52.577 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:52.607 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.607 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.608 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.609 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.609 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.610 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.613 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:12:52.614 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 4(String)
2020-05-14 18:12:52.615 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:52.616 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:52.617 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.617 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:52.618 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:12:52.619 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.619 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:12:52.620 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:12:52.620 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 4(String)
2020-05-14 18:12:52.621 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:12:52.625 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:52.625 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/4(String), [4](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1172},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:52.627 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:52.651 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.651 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.652 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.653 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.653 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.654 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.695 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.696 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.696 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.697 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.697 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.698 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.826 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.827 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.828 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.829 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.829 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.830 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.833 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:12:52.833 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:12:52.835 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:12:52.835 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:52.836 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.837 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:12:52.837 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:12:52.838 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.839 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:12:52.840 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:52.841 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:52.844 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:12:52.869 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:12:52.870 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:12:52.870 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:12:52.870 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:12:52.871 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:12:52.872 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:12:52.876 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:12:52.876 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:12:52.878 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:12:52.878 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:12:52.880 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:52.881 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:12:52.882 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.884 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:52.884 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:12:52.885 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.887 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:52.887 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:12:52.888 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.890 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:52.891 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:12:52.892 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.894 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:52.894 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:12:52.895 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.897 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:12:52.898 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:12:52.899 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:12:52.900 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:12:52.903 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:12:52.904 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 28(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:12:52.908 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:21.783 DEBUG [main]cn.codexing.blog.BlogApplication.logStarting:56 -Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-05-14 18:13:26.940 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'jwtAuthenticationFilter' configured for use
2020-05-14 18:13:26.941 DEBUG [main]cn.codexing.blog.common.filter.ImageCodeFilter.init:242 -Filter 'imageCodeFilter' configured for use
2020-05-14 18:13:26.941 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'authenticationTokenFilterBean' configured for use
2020-05-14 18:13:45.048 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.047 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.047 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.047 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.052 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.073 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.073 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.073 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.073 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.073 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.097 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.097 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.097 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.097 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.097 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.101 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.101 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.101 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.101 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.101 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.102 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.102 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.102 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.107 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.108 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.108 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.110 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.111 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.111 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.113 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.253 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.254 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.255 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.257 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.257 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.259 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.297 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.297 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.298 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.300 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.300 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.301 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.302 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.303 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.299 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.304 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.304 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.304 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.305 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.306 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.302 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.306 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.307 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.310 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.311 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.312 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.314 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.321 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.321 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.323 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.329 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:13:45.330 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:13:45.338 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:13:45.339 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:13:45.340 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:13:45.372 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.373 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:45.373 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:45.374 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 34(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:45.377 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.379 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:45.379 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.380 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:45.385 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.387 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:45.389 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:45.389 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:13:45.398 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:45.421 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:45.422 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 64(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:45.425 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:45.445 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:13:45.446 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:13:45.446 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:13:45.447 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:13:45.455 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:13:45.455 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:13:45.456 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:13:45.456 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:13:45.459 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:45.460 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.460 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:13:45.461 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:13:45.462 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.464 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:45.465 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.466 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:13:45.466 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.467 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:13:45.467 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.470 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:45.471 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:13:45.473 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.473 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.475 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:45.476 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:13:45.478 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.475 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.480 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:45.481 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:45.481 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:13:45.482 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.483 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.484 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.485 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:45.485 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:13:45.485 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:45.487 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.487 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.488 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:13:45.490 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.491 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:13:45.492 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.494 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.496 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:13:45.497 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.499 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.500 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:13:45.500 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:45.501 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.502 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 136(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:45.503 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.504 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:13:45.506 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.508 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.509 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:13:45.506 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:45.510 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.512 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.535 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:13:45.542 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.549 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.551 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:13:45.554 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.557 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.558 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:13:45.562 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.566 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.567 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:13:45.568 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.570 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.571 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:13:45.573 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:13:45.575 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.577 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:13:45.579 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.581 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.582 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:13:45.585 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.586 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:13:45.599 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:45.603 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 236(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:45.624 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:45.809 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.810 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.811 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.812 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.813 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.815 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.908 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:45.909 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:45.910 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:45.911 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:45.912 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:45.913 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:45.922 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:13:45.923 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:13:45.924 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:13:45.925 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:13:45.927 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.928 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:13:45.929 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.932 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.933 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:13:45.935 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.937 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.938 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:45.939 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.941 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.941 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:45.943 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.945 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.946 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:13:45.948 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.949 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.950 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:13:45.952 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.954 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.955 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:13:45.956 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.958 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.959 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:13:45.960 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.962 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.963 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:13:45.965 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.967 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.968 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:13:45.970 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.972 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.973 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:13:45.975 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.977 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.978 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:13:45.980 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.983 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.984 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:13:45.986 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.988 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.989 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:13:45.990 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:13:45.993 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:45.994 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:13:45.995 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:45.997 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:45.998 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:13:46.000 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:46.002 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:13:46.007 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:46.009 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 87(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:46.020 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:46.105 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:46.107 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:46.108 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:46.109 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:46.109 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:46.111 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:46.150 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:46.150 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:46.151 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:46.153 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:46.153 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:46.154 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:46.193 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:46.194 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:46.195 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:46.196 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:46.196 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:46.197 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:46.280 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:46.281 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:46.283 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:46.284 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:46.285 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:46.286 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:46.289 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:13:46.290 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:13:46.291 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:13:46.292 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:13:46.294 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:46.294 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:13:46.296 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:46.298 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:46.298 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:13:46.299 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:46.301 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:46.301 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:13:46.302 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:46.303 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:46.304 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:13:46.305 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:46.306 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:46.307 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:13:46.309 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:46.310 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:46.310 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:13:46.311 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:46.312 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:13:46.315 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:46.316 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 25(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:46.320 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:46.324 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:46.325 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:46.326 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:46.327 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:46.328 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:46.329 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:46.333 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:13:46.334 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:13:46.336 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:46.337 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:46.338 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:46.339 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:46.340 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:46.341 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:46.341 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:13:46.344 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:46.345 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:46.348 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:46.366 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:46.366 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:46.367 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:46.368 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:46.368 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:46.369 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:46.372 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:13:46.372 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:13:46.373 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:13:46.376 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:46.377 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:46.387 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:53.799 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:53.800 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:53.801 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:53.802 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:53.803 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:53.804 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:53.843 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:53.843 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:53.845 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:53.846 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:53.847 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:53.849 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:53.972 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:53.972 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:53.974 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:53.975 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:53.975 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:53.976 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:53.989 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:13:53.989 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:13:53.991 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:53.992 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:13:53.993 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:53.994 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:53.995 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:13:53.996 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:53.997 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:13:53.998 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:13:53.999 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:13:54.000 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:13:54.007 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:54.008 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 24(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:54.011 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:54.017 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:54.018 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:54.020 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:54.022 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:54.023 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:54.024 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:54.027 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:13:54.029 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:13:54.030 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:13:54.031 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:13:54.033 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:54.033 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:13:54.034 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:54.035 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:54.036 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:13:54.037 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:54.038 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:54.038 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:13:54.039 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:54.040 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:54.040 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:13:54.041 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:54.043 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:54.045 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:13:54.046 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:54.048 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:13:54.048 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:13:54.049 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:13:54.050 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:13:54.051 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:54.052 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 25(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:54.055 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:54.103 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:54.104 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:54.105 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:54.106 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:54.106 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:54.107 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:54.147 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:54.147 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:54.148 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:54.149 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:54.149 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:54.150 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:54.278 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:54.279 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:54.280 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:54.281 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:54.281 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:54.282 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:54.284 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:13:54.285 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:13:54.287 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:13:54.287 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:54.288 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:54.289 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:13:54.290 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:13:54.291 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:13:54.291 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:13:54.293 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:54.293 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:54.297 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:13:54.321 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:13:54.322 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:13:54.323 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:13:54.323 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:13:54.324 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:13:54.325 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:13:54.332 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:13:54.333 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:13:54.335 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:13:54.345 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:13:54.346 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 18:13:54.347 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:13:54.351 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:13:54.352 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 21(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:13:54.355 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:01.124 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:01.125 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:01.126 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:01.127 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:01.127 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:01.128 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:01.218 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:01.219 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:01.220 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:01.221 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:01.222 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:01.223 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:01.230 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:01.232 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 3(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:01.236 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:01.497 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:01.497 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:01.498 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:01.499 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:01.500 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:01.501 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:01.539 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:01.539 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:01.540 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:01.541 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:01.541 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:01.542 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:01.669 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:01.669 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:01.670 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:01.671 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:01.671 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:01.672 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:01.678 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:14:01.679 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:14:01.682 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:14:01.682 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:14:01.684 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.686 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:14:01.686 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:14:01.688 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.688 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:14:01.690 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:14:01.691 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:14:01.692 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:14:01.699 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:01.700 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 23(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":62},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:01.702 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:01.713 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:01.713 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:01.714 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:01.715 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:01.716 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:01.717 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:01.722 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:14:01.723 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:14:01.724 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:14:01.725 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:14:01.727 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:01.728 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:14:01.730 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.731 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:01.732 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:14:01.733 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.735 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:01.735 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:14:01.737 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.738 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:01.738 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:14:01.739 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.741 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:01.742 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:14:01.744 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.745 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:01.746 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:14:01.747 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.748 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:14:01.751 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:01.753 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 30(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:01.755 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:01.801 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:01.802 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:01.803 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:01.804 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:01.804 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:01.805 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:01.844 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:01.845 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:01.846 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:01.846 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:01.847 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:01.847 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:01.973 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:01.974 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:01.975 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:01.976 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:01.977 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:01.978 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:01.980 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:14:01.980 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:14:01.982 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:14:01.983 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:14:01.984 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.985 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:14:01.986 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:14:01.987 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:14:01.987 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:14:01.989 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:01.990 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:01.999 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:02.017 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:02.018 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:02.019 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:02.020 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:02.020 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:02.021 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:02.024 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:14:02.025 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:14:02.027 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:14:02.028 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:14:02.029 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 18:14:02.030 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:14:02.032 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:02.033 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:02.035 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:38.065 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:38.066 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:38.068 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:38.069 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:38.069 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:38.070 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:38.161 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:38.162 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:38.163 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:38.165 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:38.165 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:38.167 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:38.173 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:38.174 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 3(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:38.178 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:38.429 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:38.430 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:38.433 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:38.434 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:38.435 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:38.436 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:38.529 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:38.529 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:38.530 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:38.532 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:38.533 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:38.535 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:38.540 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:14:38.541 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:14:38.543 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:14:38.544 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:14:38.546 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:14:38.547 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:14:38.548 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:14:38.550 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:14:38.551 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:14:38.553 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:14:38.554 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:14:38.556 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:14:38.562 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:38.563 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 24(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":63},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:38.565 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:38.791 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:38.792 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:38.793 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:38.795 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:38.795 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:38.797 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:38.836 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:38.837 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:38.837 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:38.838 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:38.838 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:38.839 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:38.840 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:38.839 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:38.841 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:38.841 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:38.842 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:38.843 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:38.966 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:38.966 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:38.968 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:38.969 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:38.970 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:38.971 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:38.977 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:14:38.978 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:14:38.981 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:14:38.983 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:14:38.984 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 18:14:38.985 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:14:38.989 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:38.990 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:38.994 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:39.011 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:39.012 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:39.012 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:14:39.013 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:14:39.013 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:39.014 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:14:39.015 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:39.015 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:14:39.016 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:39.016 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:14:39.017 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:39.017 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:14:39.024 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:14:39.025 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:14:39.026 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:14:39.026 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:14:39.027 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:14:39.028 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:14:39.030 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:14:39.030 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:14:39.031 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:14:39.032 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:14:39.033 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:14:39.034 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:39.034 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:14:39.035 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:14:39.035 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:14:39.036 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:39.037 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:39.038 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:39.038 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:14:39.039 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 18(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:39.039 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:39.040 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:39.041 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:14:39.041 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:14:39.042 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:39.044 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:39.045 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:14:39.046 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:39.049 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:39.049 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:14:39.051 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:39.053 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:14:39.053 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:14:39.055 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:14:39.056 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:14:39.058 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:14:39.059 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 38(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:14:39.062 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:04.330 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:04.331 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:04.332 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:04.333 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:04.334 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:04.335 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:04.426 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:04.427 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:04.427 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:04.428 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:04.428 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:04.429 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:04.433 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:15:04.434 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:15:04.435 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:04.436 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:15:04.436 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:04.437 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:04.438 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:15:04.439 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:04.440 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:15:04.441 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:15:04.442 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:15:04.443 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:15:04.448 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:04.449 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 17(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":64},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:04.451 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:04.514 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:04.514 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:04.515 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:04.517 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:04.517 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:04.518 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:04.609 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:04.610 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:04.611 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:04.612 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:04.612 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:04.613 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:04.616 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:15:04.616 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251776651612700674(String)
2020-05-14 18:15:04.617 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:15:04.618 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:15:04.618 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 22(Integer)
2020-05-14 18:15:04.619 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:15:04.621 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:04.622 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251776651612700674(String), [1251776651612700674](String), 1(Integer), GET(String), 6(Long), {"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:04.625 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:12.892 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:12.892 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:12.893 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:12.894 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:12.894 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:12.895 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:12.936 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:12.937 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:12.936 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:12.938 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:12.938 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:12.939 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:12.939 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:12.940 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:12.941 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:12.941 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:12.942 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:12.944 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:12.947 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:12.947 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:12.948 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:12.949 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:12.949 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:12.950 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:13.066 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:13.066 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:13.067 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:13.068 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:13.068 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:13.069 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:13.072 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:15:13.073 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:15:13.075 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:13.076 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:15:13.078 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.079 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:13.080 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:15:13.082 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.083 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:15:13.084 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:13.085 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:13.087 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:13.109 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:13.109 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:13.109 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:13.110 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:13.110 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:13.110 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:13.111 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:13.111 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:13.111 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:13.112 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:13.112 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:13.112 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:13.113 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:13.113 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:13.113 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:13.114 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:13.114 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:13.114 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:13.117 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:15:13.117 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:15:13.118 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:15:13.118 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:15:13.119 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:15:13.119 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:15:13.120 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:15:13.121 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:15:13.121 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:15:13.121 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:15:13.122 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:15:13.123 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:13.123 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:13.124 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:15:13.124 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:13.124 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:13.125 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:15:13.125 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.126 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.127 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:13.126 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:13.127 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:15:13.128 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:13.128 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:15:13.129 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.129 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.130 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:13.130 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:13.131 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:15:13.131 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:15:13.132 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.132 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.133 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:13.133 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:13.134 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:15:13.134 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:15:13.135 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.135 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.137 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:13.137 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:13.138 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:15:13.138 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:15:13.139 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.139 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.141 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:13.141 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:13.141 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:15:13.141 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:15:13.142 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.142 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.143 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:15:13.144 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:13.145 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:15:13.147 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.147 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:13.148 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:13.148 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 29(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:13.149 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:15:13.151 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:13.152 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.153 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:13.154 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:15:13.156 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.157 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:13.158 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:15:13.160 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.161 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:13.162 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:15:13.164 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.166 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:13.167 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:15:13.168 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.170 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:13.171 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:15:13.172 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.174 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:13.175 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:15:13.177 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:15:13.178 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:13.179 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:15:13.180 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.182 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:13.183 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:15:13.185 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:13.186 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:15:13.192 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:13.193 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 72(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:13.198 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:17.445 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:17.446 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:17.447 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:17.447 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:17.448 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:17.448 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:17.489 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:17.489 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:17.490 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:17.491 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:17.491 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:17.492 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:17.621 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:17.622 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:17.622 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:17.623 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:17.624 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:17.624 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:17.629 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:15:17.630 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:15:17.631 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:15:17.632 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:15:17.633 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:17.634 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:15:17.635 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.637 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:17.637 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:15:17.639 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.641 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:17.641 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:15:17.642 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.643 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:17.644 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:15:17.645 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.646 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:17.646 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:15:17.647 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.649 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:15:17.649 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:15:17.650 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.651 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:15:17.654 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:17.655 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 26(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:17.659 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:17.664 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:17.665 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:17.666 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:17.667 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:17.667 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:17.668 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:17.674 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:15:17.674 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 18:15:17.676 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:17.677 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:15:17.678 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.680 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:17.680 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:15:17.681 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.682 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:15:17.684 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:15:17.685 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 18:15:17.687 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:15:17.692 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:17.693 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:17.695 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:17.752 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:17.752 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:17.753 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:17.754 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:17.755 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:17.755 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:17.795 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:17.796 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:17.797 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:17.798 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:17.799 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:17.800 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:17.926 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:17.927 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:17.928 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:17.929 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:17.929 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:17.930 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:17.934 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:15:17.935 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:15:17.936 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:15:17.937 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:15:17.938 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.939 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:15:17.940 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:15:17.941 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:15:17.942 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:15:17.943 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:17.944 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:17.948 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:15:17.971 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:15:17.971 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:15:17.973 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:15:17.974 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:15:17.975 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:15:17.976 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:15:17.980 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:15:17.981 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 18:15:17.983 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:15:17.984 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:15:17.984 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 18:15:17.986 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:15:17.987 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:15:17.988 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 18:15:17.989 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:15:17.991 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:15:17.991 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:15:17.994 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:03.687 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:03.687 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:03.689 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:03.690 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:03.691 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:03.692 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:03.731 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:03.731 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:03.731 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:03.732 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:03.732 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:03.732 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:03.732 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:03.732 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:03.732 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:03.733 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:03.733 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:03.733 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:03.733 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:03.733 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:03.733 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:03.734 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:03.734 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:03.734 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:03.862 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:03.862 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:03.863 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:03.864 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:03.864 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:03.865 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:03.875 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:16:03.876 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:16:03.877 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:16:03.878 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:16:03.880 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:03.880 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:16:03.881 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.883 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:03.883 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:16:03.884 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.886 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:03.886 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:03.888 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.889 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:03.890 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:03.892 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.893 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:03.894 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:16:03.896 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.897 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:03.898 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:16:03.900 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.901 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:03.902 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:16:03.903 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.904 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:03.905 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:16:03.905 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:03.906 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:03.906 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:03.906 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:03.906 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.907 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:03.907 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:03.908 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:03.909 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:03.909 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:16:03.909 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:03.910 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:03.910 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.911 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:03.912 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:16:03.913 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:03.913 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:03.913 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.914 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:03.914 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:03.915 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:03.916 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:03.916 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:03.916 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:03.915 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:16:03.917 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:03.917 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:03.917 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.919 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:03.919 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:16:03.920 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.920 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:16:03.922 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:16:03.922 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:16:03.922 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:03.922 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:16:03.923 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:16:03.924 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:16:03.924 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.926 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:03.926 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:03.926 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:03.927 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:03.927 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:16:03.927 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 6(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:03.928 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:16:03.930 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:03.931 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:03.931 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:16:03.932 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.932 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.935 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:03.935 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:03.928 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:16:03.935 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:16:03.935 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:03.936 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:16:03.937 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:16:03.938 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:16:03.937 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.939 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:16:03.939 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.940 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:03.940 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:16:03.940 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:16:03.941 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.943 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:03.943 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:03.944 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:03.944 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 23(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:03.944 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:16:03.945 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.945 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 74(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":27},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:03.947 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:03.947 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:03.948 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:16:03.949 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.949 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:03.950 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:03.951 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:16:03.952 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.954 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:03.955 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:16:03.956 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.958 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:03.959 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:16:03.961 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:03.962 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:16:03.965 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:03.966 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 51(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:03.968 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:13.530 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:13.530 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:13.531 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:13.531 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:13.532 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:13.532 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:13.622 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:13.623 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:13.623 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:13.624 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:13.624 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:13.625 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:13.629 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:16:13.629 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 18:16:13.630 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:13.631 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:16:13.632 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:13.633 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:13.633 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:16:13.635 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:13.678 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:16:13.678 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:16:13.679 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 18:16:13.680 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:16:13.685 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:13.686 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 57(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":27},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:13.689 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:13.879 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:13.879 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:13.880 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:13.881 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:13.881 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:13.882 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:13.923 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:13.923 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:13.923 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:13.923 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:13.924 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:13.924 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:13.925 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:13.925 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:13.925 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:13.925 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:13.926 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:13.926 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:14.052 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:14.053 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:14.054 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:14.055 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:14.055 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:14.056 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:14.060 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:16:14.060 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 18:16:14.064 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:16:14.065 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:16:14.066 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 18:16:14.067 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:16:14.068 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:16:14.069 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 18:16:14.069 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:16:14.071 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:14.072 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:14.075 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:14.097 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:14.097 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:14.097 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:14.097 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:14.098 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:14.098 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:14.099 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:14.099 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:14.100 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:14.100 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:14.101 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:14.101 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:14.105 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:16:14.105 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:16:14.107 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:16:14.107 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:16:14.107 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:14.108 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:14.109 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:16:14.110 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:14.110 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:16:14.111 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:14.112 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:14.113 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:14.113 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:14.113 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:16:14.114 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:16:14.115 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:14.116 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:14.116 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:14.117 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:16:14.117 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:14.118 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:14.120 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:14.120 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:14.121 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:16:14.122 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:14.124 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:14.125 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:16:14.126 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:14.128 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:14.129 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:16:14.131 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:14.132 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:14.133 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:16:14.134 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:14.135 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:16:14.138 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:14.139 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 33(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:14.141 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:17.710 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:17.710 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:17.711 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:17.712 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:17.713 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:17.714 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:17.753 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:17.753 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:17.753 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:17.753 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:17.753 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:17.753 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:17.754 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:17.754 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:17.754 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:17.755 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:17.755 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:17.755 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:17.756 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:17.756 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:17.756 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:17.756 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:17.756 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:17.756 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:17.884 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:17.885 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:17.886 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:17.887 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:17.887 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:17.888 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:17.892 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:16:17.893 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:16:17.894 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:16:17.894 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:16:17.896 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:17.897 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:16:17.897 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.898 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:17.899 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:16:17.899 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.901 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:17.901 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:17.902 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.903 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:17.904 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:17.905 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.906 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:17.906 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:16:17.907 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.908 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:17.908 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:16:17.909 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.910 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:17.911 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:16:17.912 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.913 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:17.913 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:16:17.914 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.915 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:17.915 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:16:17.916 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.917 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:17.918 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:16:17.919 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.920 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:17.921 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:16:17.922 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.923 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:17.923 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:16:17.924 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.925 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:17.926 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:16:17.927 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.927 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:17.927 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:17.928 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:17.928 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:17.928 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:16:17.929 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:17.929 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:17.929 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:17.929 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:16:17.930 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:17.930 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:17.928 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:17.930 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:17.930 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:17.931 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:17.931 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:16:17.932 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.933 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:17.933 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:17.934 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:17.935 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:17.935 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:16:17.936 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.936 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:16:17.936 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:16:17.937 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:16:17.938 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:16:17.938 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:16:17.938 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:17.940 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:17.940 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:17.941 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:17.941 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:16:17.941 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:17.942 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:17.942 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.942 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 48(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":28},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:17.943 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:17.945 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:16:17.946 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.946 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:16:17.947 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:17.947 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:16:17.947 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:16:17.948 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:16:17.948 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.949 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:17.949 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:16:17.949 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:16:17.950 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:17.950 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:16:17.951 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:17.953 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:17.954 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.956 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:17.956 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:17.956 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:17.956 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:17.956 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:16:17.957 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.957 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.959 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:17.959 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:17.960 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:16:17.960 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:17.961 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.961 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:17.962 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:16:17.961 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:16:17.964 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:17.964 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:17.965 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 29(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:17.965 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 26(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:17.967 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:17.975 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:20.950 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:20.951 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:20.953 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:20.954 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:20.954 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:20.955 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:21.045 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:21.045 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:21.046 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:21.047 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:21.048 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:21.049 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:21.055 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:16:21.056 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251780392676016129(String)
2020-05-14 18:16:21.058 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:21.058 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:21.059 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.060 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:21.061 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:21.062 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.063 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:16:21.064 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:16:21.064 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251780392676016129(String)
2020-05-14 18:16:21.065 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:16:21.074 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:21.076 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251780392676016129(String), [1251780392676016129](String), 1(Integer), GET(String), 19(Long), {"code":20000,"data":{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:21.087 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:21.300 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:21.301 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:21.301 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:21.302 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:21.302 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:21.303 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:21.343 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:21.343 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:21.343 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:21.343 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:21.344 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:21.344 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:21.344 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:21.344 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:21.345 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:21.345 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:21.345 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:21.345 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:21.472 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:21.473 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:21.473 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:21.474 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:21.474 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:21.475 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:21.478 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:16:21.478 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251780392676016129(String)
2020-05-14 18:16:21.479 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:16:21.480 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:16:21.480 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 18(Integer)
2020-05-14 18:16:21.481 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:16:21.483 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:21.484 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251780392676016129(String), [1251780392676016129](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"articleId":"1251780392676016129","createTime":"2020-04-24 10:50:30","id":18,"message":"不错不错，✌爱了","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:21.486 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:21.517 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:21.517 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:21.517 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:21.517 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:21.518 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:21.518 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:21.519 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:21.520 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:21.520 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:21.520 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:21.521 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:21.521 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:21.524 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:16:21.525 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:16:21.525 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:16:21.526 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:16:21.527 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:21.527 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:21.529 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:16:21.529 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.530 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:16:21.530 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:21.531 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:21.532 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:21.532 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:16:21.533 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.534 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.534 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:16:21.536 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:21.536 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:16:21.536 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:21.537 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.537 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:21.538 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:21.539 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:16:21.540 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:21.540 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.541 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:21.542 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:16:21.543 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.544 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:21.545 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:16:21.546 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.547 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:21.548 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:16:21.548 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:21.549 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:16:21.552 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:21.552 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 27(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:21.555 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:29.223 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:29.224 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:29.225 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:29.225 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:29.225 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:29.226 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:29.322 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:29.322 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:29.323 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:29.324 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:29.325 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:29.326 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:29.331 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:29.333 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 2(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:29.336 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:29.598 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:29.599 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:29.600 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:29.600 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:29.601 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:29.601 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:29.639 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:29.640 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:29.640 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:29.641 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:29.641 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:29.642 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:29.772 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:29.772 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:29.773 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:29.774 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:29.774 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:29.775 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:29.778 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:16:29.779 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:16:29.780 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:29.781 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:16:29.782 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:29.782 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:29.783 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:16:29.784 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:29.784 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:16:29.785 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:16:29.786 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:16:29.787 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:16:29.800 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:29.801 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 23(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:29.803 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:29.818 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:29.819 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:29.820 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:29.821 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:29.821 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:29.822 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:29.825 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:16:29.826 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:16:29.827 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:16:29.828 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:16:29.829 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:16:29.830 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:16:29.832 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:16:29.833 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:16:29.834 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:16:29.840 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:29.840 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:29.842 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:29.905 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:29.905 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:29.906 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:29.907 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:29.907 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:29.908 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:29.952 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:29.953 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:29.954 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:29.955 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:29.955 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:29.956 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:30.144 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:30.145 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:30.146 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:30.148 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:30.148 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:30.149 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:30.155 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:16:30.155 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:16:30.155 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:16:30.156 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:16:30.159 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:30.159 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:16:30.159 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:30.161 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:30.161 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:16:30.163 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:30.165 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:30.165 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:16:30.166 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:30.168 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:30.169 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:16:30.170 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:30.171 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:30.171 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:16:30.172 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:30.173 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:16:30.174 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:16:30.175 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:16:30.176 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:16:30.177 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:30.178 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 25(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:30.182 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:16:30.191 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:16:30.192 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:16:30.193 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:16:30.194 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:16:30.195 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:16:30.196 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:16:30.200 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:16:30.200 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:16:30.203 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:16:30.204 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:30.205 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:30.206 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:16:30.207 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:16:30.208 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:16:30.209 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:16:30.211 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:16:30.211 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:16:30.214 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:17:20.618 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:17:20.619 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:17:20.620 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:17:20.621 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:17:20.621 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:17:20.622 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:17:20.714 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:17:20.714 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:17:20.716 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:17:20.717 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:17:20.717 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:17:20.718 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:17:20.722 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:17:20.722 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:17:20.724 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:17:20.724 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:17:20.725 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:17:20.726 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:17:20.726 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:17:20.728 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:17:20.728 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:17:20.729 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:17:20.729 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:17:20.730 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:17:20.743 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:17:20.744 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 23(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":10},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:17:20.746 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:17:20.834 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:17:20.834 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:17:20.836 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:17:20.837 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:17:20.837 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:17:20.838 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:17:20.943 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:17:20.944 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:17:20.945 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:17:20.946 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:17:20.947 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:17:20.947 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:17:20.952 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:17:20.953 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:17:20.954 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:17:20.955 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:17:20.955 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:17:20.957 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:17:20.958 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:17:20.959 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:17:20.960 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:17:20.962 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:17:20.963 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:17:20.967 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:17:27.975 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:17:27.976 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:17:27.977 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:17:27.978 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:17:27.980 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:17:27.981 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:17:28.074 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:17:28.074 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:17:28.075 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:17:28.075 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:17:28.076 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:17:28.077 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:17:28.081 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:17:28.081 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:17:28.083 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:17:28.084 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:17:28.085 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:17:28.086 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:17:28.086 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:17:28.087 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:17:28.088 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:17:28.088 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:17:28.089 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:17:28.090 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:17:28.096 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:17:28.097 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 17(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":11},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:17:28.099 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:17:28.174 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:17:28.174 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:17:28.175 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:17:28.176 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:17:28.176 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:17:28.177 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:17:28.270 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:17:28.270 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:17:28.271 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:17:28.272 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:17:28.272 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:17:28.273 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:17:28.275 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:17:28.275 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:17:28.276 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:17:28.277 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:17:28.277 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:17:28.277 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:17:28.278 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:17:28.280 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:17:28.280 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:17:28.282 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:17:28.284 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:17:28.287 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:18:45.593 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:18:45.593 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:18:45.594 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:18:45.595 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:18:45.595 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:18:45.596 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:18:45.686 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:18:45.686 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:18:45.687 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:18:45.688 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:18:45.688 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:18:45.690 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:18:45.695 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:18:45.696 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:18:45.697 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:18:45.698 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:18:45.699 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:18:45.701 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:18:45.701 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:18:45.703 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:18:45.704 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:18:45.705 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:18:45.706 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:18:45.707 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:18:45.714 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:18:45.715 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":12},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:18:45.717 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:18:45.815 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:18:45.815 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:18:45.816 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:18:45.816 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:18:45.817 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:18:45.817 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:18:45.907 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:18:45.907 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:18:45.908 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:18:45.909 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:18:45.909 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:18:45.909 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:18:45.912 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:18:45.912 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:18:45.914 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:18:45.915 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:18:45.915 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:18:45.916 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:18:45.917 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:18:45.917 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:18:45.918 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:18:45.920 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:18:45.921 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:18:45.925 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:19:21.829 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:19:21.830 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:19:21.831 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:19:21.832 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:19:21.832 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:19:21.833 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:19:21.923 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:19:21.923 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:19:21.924 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:19:21.925 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:19:21.925 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:19:21.926 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:19:21.932 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:19:21.932 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:19:21.933 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:19:21.934 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:19:21.935 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:19:21.936 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:19:21.936 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:19:21.937 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:19:21.938 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:19:21.938 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:19:21.939 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:19:21.940 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:19:21.945 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:19:21.946 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 16(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":13},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:19:21.948 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:19:22.072 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:19:22.072 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:19:22.073 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:19:22.074 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:19:22.075 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:19:22.076 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:19:22.167 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:19:22.167 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:19:22.168 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:19:22.170 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:19:22.170 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:19:22.171 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:19:22.176 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:19:22.177 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:19:22.178 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:19:22.180 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:19:22.181 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:19:22.182 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:19:22.184 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:19:22.185 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:19:22.186 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:19:22.189 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:19:22.190 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:19:22.194 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:19:35.904 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:19:35.905 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:19:35.907 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:19:35.908 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:19:35.908 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:19:35.910 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:19:35.999 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:19:36.000 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:19:36.000 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:19:36.001 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:19:36.002 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:19:36.002 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:19:36.007 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:19:36.008 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:19:36.009 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:19:36.010 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:19:36.011 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:19:36.012 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:19:36.012 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:19:36.013 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:19:36.014 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:19:36.015 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:19:36.015 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:19:36.016 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:19:36.022 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:19:36.023 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 16(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":14},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:19:36.025 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:19:36.123 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:19:36.123 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:19:36.124 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:19:36.125 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:19:36.126 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:19:36.126 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:19:36.216 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:19:36.217 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:19:36.217 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:19:36.218 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:19:36.219 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:19:36.219 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:19:36.222 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:19:36.222 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:19:36.223 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:19:36.224 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:19:36.225 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:19:36.225 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:19:36.226 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:19:36.227 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:19:36.227 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:19:36.229 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:19:36.229 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:19:36.233 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:20:49.190 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:49.191 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:49.192 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:49.193 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:49.193 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:49.194 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:49.286 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:49.287 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:49.288 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:49.289 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:49.290 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:49.291 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:49.298 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:20:49.299 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:20:49.304 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:20:49.670 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:49.670 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:49.671 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:49.672 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:49.673 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:49.674 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:49.767 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:49.768 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:49.769 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:49.769 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:49.770 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:49.770 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:49.775 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:20:49.776 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:20:49.778 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:20:49.778 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:20:49.779 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:20:49.780 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:20:49.781 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:20:49.783 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:20:49.784 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:20:49.785 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:20:49.786 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:20:49.787 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:20:49.788 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:20:49.789 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:20:49.790 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:20:49.791 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:20:49.792 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:20:49.793 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:20:49.794 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:20:49.795 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:20:49.795 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:20:49.796 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:20:49.797 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:20:49.800 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:20:49.801 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 26(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:20:49.805 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:20:50.022 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:50.023 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:50.023 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:50.024 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:50.025 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:50.025 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:50.066 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:50.066 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:50.067 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:50.068 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:50.069 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:50.070 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:50.070 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:50.071 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:50.072 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:50.073 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:50.073 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:50.074 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:50.195 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:50.196 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:50.197 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:50.198 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:50.198 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:50.199 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:50.204 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:20:50.204 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:20:50.206 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:20:50.206 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:20:50.207 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:20:50.208 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:20:50.209 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:20:50.210 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:20:50.211 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:20:50.211 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:20:50.212 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:20:50.213 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:20:50.218 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:20:50.218 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 16(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":15},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:20:50.220 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:20:50.239 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:50.240 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:20:50.240 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:50.240 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:20:50.241 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:50.241 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:20:50.242 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:50.242 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:20:50.243 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:50.243 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:20:50.243 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:50.243 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:20:50.247 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:20:50.247 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:20:50.247 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:20:50.247 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:20:50.249 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:20:50.249 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:20:50.250 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:20:50.251 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:20:50.252 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:20:50.252 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:20:50.253 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:20:50.253 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:20:50.254 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:20:50.254 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:20:50.254 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:20:50.255 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:20:50.255 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:20:50.256 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:20:50.256 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:20:50.257 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:20:50.258 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:20:50.259 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:20:50.259 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:20:50.261 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:21:30.301 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:21:30.301 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:21:30.302 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:21:30.303 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:21:30.303 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:21:30.304 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:21:30.394 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:21:30.395 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:21:30.396 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:21:30.397 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:21:30.397 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:21:30.398 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:21:30.404 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:21:30.406 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:21:30.408 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:21:30.408 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:21:30.410 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:21:30.411 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:21:30.412 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:21:30.413 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:21:30.414 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:21:30.415 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:21:30.416 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:21:30.417 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:21:30.423 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:21:30.423 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":16},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:21:30.426 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:21:30.528 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:21:30.528 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:21:30.529 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:21:30.530 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:21:30.530 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:21:30.531 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:21:30.621 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:21:30.622 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:21:30.623 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:21:30.624 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:21:30.625 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:21:30.626 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:21:30.630 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:21:30.631 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:21:30.632 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:21:30.634 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:21:30.635 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:21:30.637 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:21:30.638 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:21:30.639 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:21:30.640 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:21:30.643 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:21:30.644 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:21:30.648 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:23:19.273 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:23:19.273 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:23:19.275 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:23:19.275 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:23:19.276 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:23:19.277 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:23:19.277 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:23:19.278 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:23:19.279 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:23:19.280 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:23:19.280 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:23:19.281 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:23:19.286 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:23:19.287 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 18(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":17},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:23:19.289 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:23:19.492 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:23:19.493 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:23:19.494 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:23:19.495 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:23:19.495 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:23:19.496 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:23:19.497 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:23:19.498 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:23:19.498 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:23:19.500 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:23:19.501 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:23:19.504 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:23:24.676 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:23:24.677 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:23:24.678 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:23:24.679 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:23:24.680 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:23:24.680 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:23:24.681 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:23:24.682 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:23:24.682 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:23:24.683 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:23:24.683 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:23:24.684 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:23:24.690 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:23:24.690 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":18},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:23:24.692 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:23:24.981 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:23:24.981 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:23:24.982 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:23:24.983 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:23:24.983 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:23:24.984 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:23:24.985 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:23:24.986 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:23:24.986 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:23:24.988 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:23:24.988 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:23:24.993 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:23:38.694 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:23:38.695 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:23:38.697 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:23:38.698 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:23:38.700 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:23:38.702 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:23:38.702 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:23:38.704 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:23:38.705 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:23:38.706 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:23:38.707 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:23:38.708 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:23:38.716 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:23:38.717 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 24(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":19},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:23:38.719 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:23:38.913 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:23:38.914 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:23:38.915 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:23:38.916 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:23:38.917 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:23:38.917 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:23:38.918 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:23:38.919 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:23:38.920 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:23:38.921 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:23:38.922 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:23:38.925 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:24:00.521 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:24:00.522 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:24:00.524 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:24:00.525 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:24:00.526 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:24:00.528 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:24:00.529 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:24:00.530 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:24:00.531 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:24:00.532 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:24:00.532 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:24:00.533 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:24:00.540 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:24:00.541 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":20},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:24:00.544 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:24:00.733 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:24:00.733 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:24:00.734 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:24:00.735 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:24:00.736 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:24:00.736 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:24:00.737 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:24:00.738 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:24:00.738 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:24:00.741 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:24:00.741 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:24:00.745 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:24:18.044 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:24:18.045 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:24:18.046 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:24:18.046 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:24:18.047 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:24:18.048 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:24:18.049 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:24:18.049 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:24:18.050 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:24:18.051 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:24:18.052 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:24:18.053 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:24:18.058 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:24:18.059 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":21},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:24:18.061 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:24:18.269 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:24:18.269 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:24:18.270 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:24:18.271 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:24:18.271 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:24:18.272 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:24:18.273 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:24:18.273 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:24:18.274 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:24:18.275 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:24:18.276 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:24:18.279 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:02.854 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:27:02.855 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:02.857 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:27:02.857 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:27:02.858 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:02.859 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:27:02.859 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:27:02.860 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:02.861 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:27:02.862 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:27:02.862 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:02.863 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:27:02.869 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:02.869 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 19(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":22},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:02.871 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:03.081 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:27:03.082 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:03.083 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:27:03.084 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:27:03.085 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:27:03.086 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:27:03.087 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:27:03.087 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:27:03.088 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:27:03.090 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:03.091 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:03.095 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:14.182 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:14.183 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 0(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 14(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":18},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:14.187 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:14.447 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:14.449 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 3(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 18:27:14.453 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:27.236 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:27.236 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:27.237 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:27.239 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:27.239 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:27.240 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:27.512 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:27.513 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:27.513 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:27.514 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:27.514 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:27.515 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:27.605 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:27.605 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:27.606 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:27.607 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:27.607 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:27.610 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:27.617 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:27.618 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 3(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:27.622 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:28.190 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:28.191 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:28.193 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:28.194 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:28.194 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:28.195 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:28.235 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:28.235 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:28.236 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:28.237 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:28.237 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:28.238 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:28.241 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:28.262 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:28.261 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:28.263 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:28.264 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:28.264 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:28.265 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:28.265 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:28.265 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:28.265 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:28.266 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:28.266 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:28.364 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:28.365 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:28.365 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:28.366 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:28.366 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:28.367 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:28.372 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:27:28.373 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:28.375 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:27:28.376 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:27:28.377 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.378 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:27:28.379 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:27:28.380 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.381 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:27:28.382 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:27:28.383 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:28.384 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:27:28.390 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:28.391 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 20(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":23},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:28.394 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:28.407 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:28.408 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:28.409 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:28.409 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:28.409 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:28.410 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:28.411 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:28.412 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:28.412 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:28.413 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:28.407 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:28.411 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:28.416 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:28.417 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:28.417 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:28.417 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:27:28.418 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:27:28.418 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:28.418 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:28.419 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:28.419 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:27:28.420 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:27:28.423 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.425 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:27:28.425 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:27:28.427 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.427 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:27:28.430 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:28.421 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:27:28.431 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:28.431 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:28.432 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:27:28.433 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:28.434 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:27:28.434 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:27:28.435 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:27:28.437 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:27:28.437 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:27:28.438 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:27:28.441 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:28.442 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:27:28.442 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 21(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:28.443 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:27:28.444 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:28.445 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:27:28.446 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:27:28.450 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:27:28.451 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:27:28.452 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.454 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:27:28.454 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:27:28.456 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.457 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:27:28.458 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:27:28.459 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.461 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:27:28.462 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:27:28.463 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.464 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:27:28.465 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:27:28.466 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.468 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:27:28.469 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:27:28.470 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:27:28.471 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:27:28.473 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:28.474 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 51(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:28.477 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:46.481 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:46.482 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:46.483 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:46.483 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:46.484 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:46.484 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:46.574 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:46.575 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:46.576 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:46.577 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:46.577 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:46.578 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:46.583 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:27:46.584 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:46.585 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:27:46.586 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:27:46.587 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:46.589 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:27:46.589 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:27:46.590 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:46.591 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:27:46.592 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:27:46.592 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:46.593 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:27:46.598 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:46.599 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 17(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":24},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:46.601 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:46.711 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:46.711 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:46.712 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:46.713 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:46.713 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:46.714 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:46.803 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:46.803 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:46.804 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:46.805 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:46.805 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:46.805 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:46.808 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:27:46.808 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:46.809 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:27:46.809 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:27:46.810 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:27:46.811 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:27:46.811 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:27:46.812 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:27:46.812 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:27:46.814 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:46.814 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:46.818 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:58.199 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:58.200 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:58.200 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:58.201 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:58.201 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:58.202 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:58.291 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:58.291 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:58.292 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:58.293 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:58.293 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:58.293 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:58.296 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:27:58.296 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:58.297 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:27:58.298 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:27:58.299 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:58.300 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:27:58.300 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:27:58.301 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:27:58.301 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:27:58.302 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:27:58.302 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:58.303 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:27:58.308 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:58.309 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 13(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":25},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:58.311 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:27:58.434 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:58.434 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:58.435 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:58.435 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:58.436 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:58.436 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:58.525 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:27:58.526 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:27:58.526 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:27:58.527 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:27:58.527 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:27:58.528 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:27:58.530 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:27:58.530 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:27:58.531 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:27:58.532 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:27:58.532 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:27:58.533 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:27:58.534 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:27:58.534 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:27:58.535 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:27:58.536 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:27:58.537 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:27:58.541 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:05.637 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:05.637 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:05.638 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:05.639 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:05.639 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:05.639 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:05.728 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:05.729 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:05.730 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:05.730 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:05.731 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:05.731 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:05.735 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:28:05.735 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:28:05.736 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:05.737 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:28:05.738 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:05.739 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:05.740 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:28:05.741 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:05.741 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:28:05.742 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:28:05.743 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:28:05.744 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:28:05.750 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:05.750 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 16(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":26},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:05.752 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:05.844 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:05.845 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:05.845 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:05.846 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:05.846 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:05.847 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:05.936 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:05.936 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:05.937 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:05.937 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:05.938 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:05.938 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:05.940 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:28:05.941 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:28:05.942 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:28:05.943 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:28:05.943 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:28:05.944 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:28:05.944 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:28:05.945 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:28:05.946 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:28:05.947 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:05.948 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:05.951 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:31.313 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:31.313 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:31.314 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:31.315 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:31.315 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:31.316 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:31.357 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:31.358 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:31.362 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:31.363 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:31.363 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:31.363 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:31.364 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:31.364 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:31.365 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:31.366 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:31.365 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:31.366 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:31.366 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:31.367 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:31.367 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:31.368 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:31.368 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:31.369 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:31.487 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:31.487 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:31.488 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:31.489 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:31.490 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:31.491 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:31.494 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:28:31.495 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:28:31.496 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:28:31.497 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:28:31.499 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:31.499 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:28:31.500 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.501 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:31.501 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:28:31.502 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.503 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:31.504 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:31.504 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.506 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:31.506 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:31.507 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.508 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:31.508 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:28:31.509 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.510 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:31.510 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:28:31.511 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.512 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:31.512 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:28:31.513 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.514 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:31.514 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:28:31.515 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.516 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:31.517 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:28:31.517 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.518 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:31.519 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:28:31.520 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.521 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:31.521 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:28:31.522 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.523 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:31.524 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:28:31.525 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.526 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:31.526 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:28:31.527 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.528 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:31.529 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:28:31.530 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:28:31.530 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:31.530 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:31.530 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:31.531 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:31.531 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:31.531 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:31.532 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:28:31.532 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:31.532 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:31.532 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:31.533 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:31.533 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.533 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:31.534 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:31.534 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:31.535 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:31.535 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:28:31.535 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:31.536 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:31.536 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.536 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:31.537 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:28:31.537 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:31.537 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:28:31.537 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:31.537 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:28:31.538 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:31.539 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:31.539 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:31.540 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:31.540 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.541 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:31.542 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:28:31.542 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:28:31.542 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:31.541 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 45(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":28},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":27}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:31.543 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.544 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:28:31.544 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:28:31.545 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:31.545 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:31.546 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:31.546 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:31.546 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:31.547 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:28:31.547 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:28:31.549 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:31.549 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:28:31.550 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:28:31.550 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:31.551 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:31.552 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:28:31.553 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.555 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:31.556 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:28:31.557 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.559 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:31.559 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:28:31.560 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.561 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:31.561 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:28:31.562 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.563 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:31.563 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:28:31.564 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.565 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:31.566 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:28:31.567 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:31.568 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:28:31.570 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:31.570 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 28(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:31.572 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:35.388 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:35.389 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:35.390 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:35.391 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:35.391 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:35.392 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:35.432 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:35.432 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:35.433 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:35.433 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:35.433 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:35.434 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:35.561 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:35.562 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:35.563 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:35.564 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:35.565 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:35.566 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:35.568 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:28:35.569 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:28:35.571 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:35.571 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:28:35.572 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.573 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:35.574 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:28:35.574 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.575 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:28:35.575 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:28:35.576 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:28:35.577 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:28:35.582 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:35.582 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":27},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:35.584 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:35.606 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:35.606 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:35.607 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:35.608 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:35.608 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:35.609 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:35.615 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:28:35.615 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:28:35.617 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:28:35.617 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:28:35.619 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:35.620 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:28:35.622 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.623 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:35.624 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:28:35.625 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.626 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:35.626 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:28:35.627 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.628 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:35.629 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:28:35.630 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.631 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:35.631 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:28:35.632 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.633 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:35.634 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:28:35.635 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.635 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:28:35.638 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:35.639 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 25(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:35.643 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:35.693 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:35.694 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:35.694 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:35.695 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:35.695 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:35.696 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:35.738 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:35.738 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:35.739 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:35.739 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:35.740 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:35.740 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:35.868 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:35.868 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:35.869 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:35.869 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:35.870 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:35.871 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:35.874 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:28:35.875 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:28:35.876 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:35.877 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:35.878 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.879 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:35.879 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:35.880 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:35.881 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:28:35.883 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:35.884 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:35.888 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:35.911 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:35.912 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:35.913 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:35.914 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:35.914 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:35.915 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:35.919 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:28:35.920 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:28:35.921 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:28:35.922 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:28:35.923 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:28:35.924 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:28:35.925 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:28:35.926 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:28:35.927 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:28:35.929 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:35.929 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 11(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:35.932 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:40.868 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:40.869 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:40.870 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:40.871 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:40.871 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:40.872 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:40.961 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:40.961 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:40.962 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:40.962 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:40.963 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:40.964 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:40.967 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:40.967 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 2(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:40.969 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:41.261 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:41.261 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:41.262 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:41.262 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:41.263 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:41.263 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:41.305 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:41.305 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:41.306 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:41.307 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:41.307 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:41.308 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:41.436 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:41.437 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:41.438 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:41.439 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:41.439 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:41.440 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:41.443 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:28:41.444 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:28:41.445 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:28:41.445 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:28:41.446 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:41.447 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:28:41.448 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.448 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:41.449 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:28:41.450 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.450 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:41.451 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:41.452 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.453 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:41.454 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:41.455 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.456 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:41.457 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:28:41.457 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.458 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:41.459 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:28:41.460 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.461 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:41.461 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:28:41.462 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.463 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:41.463 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:28:41.464 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.465 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:41.466 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:28:41.467 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.468 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:41.468 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:28:41.470 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.471 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:41.472 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:28:41.473 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.473 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:41.474 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:28:41.475 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.475 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:41.476 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:28:41.477 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.477 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:41.478 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:41.478 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:28:41.479 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:41.479 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:41.479 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:28:41.480 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:41.480 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:41.480 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:41.480 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:28:41.481 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:41.481 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.482 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:41.482 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:28:41.483 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.484 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:28:41.485 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:28:41.485 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:28:41.487 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:28:41.488 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:28:41.488 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:41.489 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 44(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":28},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":28}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:41.489 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:41.490 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:28:41.491 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.492 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:41.492 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:28:41.493 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.494 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:41.494 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:28:41.495 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:41.495 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.496 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:41.498 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:28:41.499 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.500 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:41.501 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:28:41.502 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.503 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:28:41.504 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:28:41.505 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.505 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:28:41.507 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:41.508 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 24(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:41.510 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:41.564 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:41.564 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:41.565 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:41.565 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:41.565 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:41.566 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:41.609 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:41.609 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:41.610 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:41.611 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:41.612 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:41.612 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:41.739 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:41.740 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:41.741 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:41.742 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:41.743 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:41.744 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:41.748 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:28:41.748 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:28:41.750 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:28:41.750 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:41.752 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.753 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:28:41.753 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:28:41.754 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:28:41.755 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:28:41.756 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:41.757 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:41.761 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:28:41.783 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:28:41.783 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:28:41.784 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:28:41.784 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:28:41.785 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:28:41.786 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:28:41.791 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:28:41.792 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:28:41.795 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:28:41.797 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:28:41.798 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:28:41.800 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:30:19.209 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:19.209 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:19.210 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:19.211 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:19.211 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:19.211 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:19.300 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:19.301 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:19.302 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:19.302 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:19.303 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:19.303 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:19.308 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:30:19.308 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 18:30:19.309 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:30:19.310 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:30:19.311 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.311 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:30:19.312 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:30:19.312 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.313 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:30:19.314 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:30:19.314 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 18:30:19.315 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:30:19.321 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:30:19.321 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":28},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:30:19.324 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:30:19.559 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:19.559 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:19.560 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:19.560 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:19.561 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:19.561 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:19.601 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:19.602 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:19.602 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:19.603 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:19.603 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:19.605 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:19.605 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:19.605 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:19.606 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:19.607 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:19.608 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:19.608 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:19.731 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:19.731 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:19.732 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:19.733 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:19.733 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:19.733 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:19.736 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:30:19.737 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:30:19.738 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:30:19.738 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:30:19.739 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:19.739 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:30:19.740 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.741 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:19.741 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:30:19.742 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.743 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:19.743 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:30:19.744 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.745 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:19.745 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:30:19.746 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.747 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:19.747 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:30:19.748 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.748 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:19.749 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:30:19.749 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.750 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:30:19.751 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:30:19.752 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 17(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:30:19.756 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:30:19.775 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:19.775 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:19.776 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:19.776 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:19.776 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:19.776 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:19.777 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:19.777 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:19.777 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:19.777 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:19.778 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:19.778 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:19.780 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:30:19.780 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:30:19.780 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:30:19.781 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 1251750614375907330(String)
2020-05-14 18:30:19.781 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:30:19.781 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:30:19.782 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:30:19.782 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:30:19.783 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 21(Integer)
2020-05-14 18:30:19.783 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.783 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:30:19.784 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:30:19.784 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:30:19.785 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 20(Integer)
2020-05-14 18:30:19.785 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:30:19.785 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:30:19.785 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:30:19.786 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:30:19.787 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:30:19.787 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:30:19.787 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:30:19.787 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/1251750614375907330(String), [1251750614375907330](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:30:19.790 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:30:19.791 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:30:25.989 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:25.990 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:25.991 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:25.991 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:25.991 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:25.992 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.081 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:26.081 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:26.082 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:26.083 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:26.083 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:26.084 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.090 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:30:26.091 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 3(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:30:26.093 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:30:26.365 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:26.366 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:26.366 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:26.367 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:26.367 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:26.368 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.409 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:26.409 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:26.410 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:26.410 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:26.411 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:26.411 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.539 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:26.539 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:26.540 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:26.541 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:26.541 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:26.542 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.544 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:30:26.545 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:30:26.549 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:30:26.550 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:30:26.550 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:30:26.551 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:30:26.551 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:30:26.552 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:30:26.553 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:30:26.555 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:30:26.555 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:30:26.557 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:30:26.584 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:26.584 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:26.586 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:26.586 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:26.587 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:26.587 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.590 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:30:26.590 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:30:26.591 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:30:26.592 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:30:26.593 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.593 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:30:26.594 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:30:26.595 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.595 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:30:26.596 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:30:26.597 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:30:26.597 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:30:26.601 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:30:26.601 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":28},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:30:26.603 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:30:26.627 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:26.628 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:26.628 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:26.629 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:26.629 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:26.630 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.671 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:26.672 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:26.673 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:26.674 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:26.674 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:26.675 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.801 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:26.801 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:26.803 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:26.805 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:26.805 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:26.806 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.811 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:30:26.811 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:30:26.813 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:30:26.814 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:30:26.815 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.816 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:30:26.817 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:30:26.818 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.819 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:30:26.822 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:30:26.823 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:30:26.827 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:30:26.845 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:30:26.846 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:30:26.847 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:30:26.848 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:30:26.849 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:30:26.850 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:30:26.855 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:30:26.855 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:30:26.857 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:30:26.858 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:30:26.860 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:26.861 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:30:26.862 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.864 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:26.864 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:30:26.865 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.867 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:26.867 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:30:26.868 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.870 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:26.871 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:30:26.872 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.874 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:26.875 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:30:26.875 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.876 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:30:26.877 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:30:26.878 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:30:26.878 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:30:26.880 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:30:26.881 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 28(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:30:26.884 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:33:27.405 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:33:27.406 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:33:27.407 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:33:27.408 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:33:27.408 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:33:27.409 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:33:27.497 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:33:27.497 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:33:27.498 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:33:27.499 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:33:27.499 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:33:27.500 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:33:27.503 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:33:27.504 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:33:27.505 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:33:27.506 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:33:27.507 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:33:27.507 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:33:27.508 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:33:27.508 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:33:27.509 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:33:27.510 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:33:27.510 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:33:27.511 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:33:27.517 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:33:27.518 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":29},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:33:27.520 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:33:27.607 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:33:27.608 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:33:27.609 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:33:27.609 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:33:27.610 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:33:27.611 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:33:27.700 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:33:27.700 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:33:27.701 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:33:27.702 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:33:27.702 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:33:27.703 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:33:27.705 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:33:27.706 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:33:27.707 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:33:27.708 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:33:27.708 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:33:27.709 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:33:27.710 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:33:27.710 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:33:27.711 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:33:27.713 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:33:27.713 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:33:27.717 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:33:42.616 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:33:42.617 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:33:42.618 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:33:42.619 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:33:42.620 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:33:42.621 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:33:42.711 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:33:42.711 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:33:42.712 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:33:42.714 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:33:42.714 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:33:42.716 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:33:42.721 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:33:42.721 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:33:42.723 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:33:42.724 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:33:42.725 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:33:42.727 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:33:42.727 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:33:42.729 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:33:42.730 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:33:42.731 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:33:42.732 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:33:42.733 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:33:42.739 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:33:42.740 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 21(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":30},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:33:42.743 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:33:42.829 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:33:42.830 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:33:42.830 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:33:42.831 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:33:42.831 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:33:42.832 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:33:42.921 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:33:42.921 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:33:42.922 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:33:42.923 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:33:42.923 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:33:42.923 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:33:42.926 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:33:42.927 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:33:42.928 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:33:42.928 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:33:42.929 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:33:42.930 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:33:42.930 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:33:42.931 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:33:42.931 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:33:42.933 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:33:42.933 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:33:42.937 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:34:14.408 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:34:14.409 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:34:14.410 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:34:14.411 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:34:14.411 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:34:14.412 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:34:14.502 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:34:14.502 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:34:14.503 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:34:14.504 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:34:14.504 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:34:14.505 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:34:14.507 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:34:14.508 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:34:14.509 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:34:14.510 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:34:14.510 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:34:14.511 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:34:14.512 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:34:14.512 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:34:14.513 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:34:14.514 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:34:14.514 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:34:14.515 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:34:14.520 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:34:14.521 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":31},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:34:14.523 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:34:14.588 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:34:14.589 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:34:14.590 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:34:14.591 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:34:14.591 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:34:14.592 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:34:14.682 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:34:14.682 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:34:14.683 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:34:14.684 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:34:14.685 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:34:14.686 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:34:14.690 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:34:14.690 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:34:14.691 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:34:14.692 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:34:14.693 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:34:14.694 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:34:14.695 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:34:14.696 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:34:14.697 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:34:14.699 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:34:14.699 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 10(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:34:14.703 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:34:59.363 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:34:59.364 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:34:59.365 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:34:59.365 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:34:59.365 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:34:59.366 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:34:59.457 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:34:59.458 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:34:59.458 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:34:59.459 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:34:59.459 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:34:59.460 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:34:59.463 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:34:59.463 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:34:59.464 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:34:59.465 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:34:59.466 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:34:59.466 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:34:59.467 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:34:59.468 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:34:59.468 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:34:59.469 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:34:59.469 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:34:59.473 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:34:59.477 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:34:59.477 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":32},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:34:59.487 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:34:59.595 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:34:59.595 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:34:59.596 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:34:59.597 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:34:59.597 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:34:59.597 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:34:59.685 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:34:59.686 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:34:59.687 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:34:59.688 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:34:59.688 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:34:59.689 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:34:59.691 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:34:59.691 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:34:59.692 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:34:59.693 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:34:59.693 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:34:59.694 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:34:59.695 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:34:59.695 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:34:59.696 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:34:59.697 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:34:59.698 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:34:59.701 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:35:02.509 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:02.511 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:02.512 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:02.513 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:02.513 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:02.514 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:02.604 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:02.604 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:02.605 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:02.606 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:02.606 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:02.607 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:02.609 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:35:02.610 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:35:02.611 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:35:02.611 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:35:02.612 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:35:02.613 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:35:02.614 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:35:02.614 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:35:02.614 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:35:02.615 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:35:02.615 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:35:02.616 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:35:02.621 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:35:02.622 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":33},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:35:02.624 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:35:02.808 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:02.808 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:02.809 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:02.809 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:02.809 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:02.810 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:02.899 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:02.899 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:02.900 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:02.901 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:02.901 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:02.902 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:02.904 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:35:02.905 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:35:02.906 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 1
2020-05-14 18:35:02.906 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:35:02.907 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:35:02.908 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:35:02.908 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:35:02.909 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:35:02.909 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:35:02.911 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:35:02.911 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:35:02.915 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:35:19.775 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:19.775 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:19.776 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:19.776 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:19.777 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:19.777 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:19.866 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:19.867 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:19.868 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:19.868 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:19.868 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:19.869 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:19.874 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==>  Preparing: INSERT INTO article_comment ( user, article_id, message ) VALUES ( ?, ?, ? ) 
2020-05-14 18:35:19.875 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==> Parameters: admin(String), 3(String), hahaha(String)
2020-05-14 18:35:19.875 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:35:19.876 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==>  Preparing: UPDATE article SET comment_count = comment_count + 1 WHERE id = ?; 
2020-05-14 18:35:19.877 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:35:19.878 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -<==    Updates: 1
2020-05-14 18:35:19.883 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:35:19.883 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/save(String), [ArticleComment(id=null, user=admin, articleId=3, parentId=null, message=hahaha, createTime=null)](String), 1(Integer), POST(String), 10(Long), {"code":20000,"msg":"评论成功"}(String), 127.0.0.1(String)
2020-05-14 18:35:19.886 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:35:20.027 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:20.028 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:20.029 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:20.030 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:20.030 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:20.031 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:20.123 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:20.124 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:20.124 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:20.125 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:20.126 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:20.127 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:20.132 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:35:20.133 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:35:20.134 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:35:20.135 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:35:20.135 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 123(Integer)
2020-05-14 18:35:20.136 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:35:20.137 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:35:20.137 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:35:20.138 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:35:20.140 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:35:20.140 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:35:20.141 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:35:20.143 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:35:20.144 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 13(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:35:20.149 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:35:37.950 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:37.951 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:37.952 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:37.952 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:37.952 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:37.953 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:38.243 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:38.324 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:38.325 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:38.326 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:38.326 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:38.326 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:38.330 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==>  Preparing: INSERT INTO article_comment ( user, article_id, message ) VALUES ( ?, ?, ? ) 
2020-05-14 18:35:38.330 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -==> Parameters: admin(String), 3(String), 三楼(String)
2020-05-14 18:35:38.331 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleCommentMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:35:38.332 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==>  Preparing: UPDATE article SET comment_count = comment_count + 1 WHERE id = ?; 
2020-05-14 18:35:38.333 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:35:38.334 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateCommentTotal.debug:143 -<==    Updates: 1
2020-05-14 18:35:38.338 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:35:38.339 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/save(String), [ArticleComment(id=null, user=admin, articleId=3, parentId=null, message=三楼, createTime=null)](String), 1(Integer), POST(String), 10(Long), {"code":20000,"msg":"评论成功"}(String), 127.0.0.1(String)
2020-05-14 18:35:38.341 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:35:38.567 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:38.568 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:38.568 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:38.569 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:38.569 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:38.570 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:38.850 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:35:38.850 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:35:38.851 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:35:38.851 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:35:38.852 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:35:38.852 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:35:38.855 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:35:38.855 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:35:38.856 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 3
2020-05-14 18:35:38.857 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:35:38.857 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 124(Integer)
2020-05-14 18:35:38.858 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:35:38.858 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:35:38.859 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 123(Integer)
2020-05-14 18:35:38.859 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:35:38.860 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:35:38.860 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:35:38.861 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:35:38.862 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:35:38.862 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:35:38.863 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:35:38.864 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:35:38.865 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":-1,"reply":[],"user":"admin"},{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:35:38.868 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:10.627 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:10.628 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:10.629 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:10.630 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:10.631 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:10.632 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:10.722 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:10.723 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:10.723 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:10.724 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:10.725 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:10.726 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:10.732 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:10.733 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 2(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:10.737 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:11.005 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:11.006 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:11.006 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:11.007 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:11.007 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:11.008 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:11.049 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:11.049 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:11.050 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:11.050 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:11.051 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:11.051 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:11.179 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:11.180 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:11.181 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:11.182 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:11.182 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:11.183 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:11.186 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:36:11.186 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:36:11.187 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:36:11.187 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:36:11.189 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:11.189 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:36:11.190 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.191 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:11.191 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:36:11.192 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.193 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:11.194 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:36:11.196 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.197 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:11.197 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:36:11.198 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.199 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:11.200 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:36:11.201 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.201 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:11.202 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:36:11.203 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.203 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:36:11.204 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:11.205 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), POST(String), 19(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:11.209 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:11.224 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:11.224 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:11.225 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:11.225 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:11.225 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:11.226 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:11.229 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:36:11.230 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:36:11.231 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:11.232 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:11.233 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.235 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:11.235 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:11.237 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.238 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:36:11.239 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:36:11.240 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:36:11.241 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:36:11.244 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:11.245 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 16(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":34},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:11.248 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:11.310 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:11.311 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:11.312 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:11.313 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:11.313 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:11.314 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:11.353 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:11.354 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:11.354 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:11.355 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:11.356 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:11.356 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:11.483 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:11.483 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:11.483 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:11.484 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:11.484 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:11.485 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:11.487 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:36:11.488 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:36:11.489 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:36:11.489 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:36:11.490 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 123(Integer)
2020-05-14 18:36:11.491 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:36:11.491 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:36:11.492 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 124(Integer)
2020-05-14 18:36:11.492 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:36:11.493 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:36:11.494 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:36:11.495 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:36:11.496 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:36:11.497 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:36:11.498 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:36:11.499 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:11.500 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:11.504 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:11.526 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:11.526 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:11.527 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:11.527 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:11.528 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:11.529 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:11.533 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:36:11.533 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:36:11.534 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:11.535 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:11.536 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.537 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:11.537 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:11.538 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:11.538 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:36:11.540 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:11.540 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:11.543 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:38.150 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:38.150 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:38.151 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:38.151 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:38.152 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:38.152 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:38.193 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:38.194 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:38.194 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:38.195 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:38.195 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:38.196 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:38.197 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:38.198 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:38.198 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:38.199 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:38.199 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:38.199 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:38.199 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:38.199 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:38.200 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:38.200 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:38.200 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:38.201 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:38.324 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:38.324 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:38.325 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:38.325 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:38.325 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:38.326 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:38.329 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:36:38.330 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:36:38.331 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:36:38.331 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:36:38.333 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:38.333 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:36:38.334 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.335 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:38.335 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:36:38.336 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.337 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:38.337 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:38.338 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.339 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:38.339 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:38.340 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.341 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:38.341 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:36:38.342 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.343 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:38.343 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:36:38.344 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.345 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:38.345 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:36:38.346 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.347 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:38.347 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:36:38.348 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.349 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:38.349 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:36:38.350 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.351 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:38.351 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:36:38.352 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.353 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:38.354 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:36:38.355 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.356 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:38.356 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:36:38.357 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.358 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:38.358 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:36:38.359 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.360 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:38.361 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:36:38.362 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:36:38.362 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:38.363 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:38.364 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.364 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:38.365 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:38.365 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.366 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:36:38.367 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:38.367 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:38.367 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:38.367 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:38.368 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:38.368 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:38.368 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:38.369 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:38.369 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:38.368 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:38.369 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:38.369 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:38.369 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:38.370 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:38.370 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:38.370 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:38.373 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:38.373 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:38.374 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:38.375 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:36:38.375 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:36:38.374 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 39(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":35}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:38.376 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:36:38.376 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:36:38.377 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:36:38.377 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:38.378 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:36:38.378 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:38.378 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:36:38.378 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.379 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:36:38.379 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:38.379 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:36:38.379 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:38.379 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:36:38.380 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:38.380 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.381 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:38.381 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.381 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:36:38.381 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:38.381 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:38.382 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:38.382 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:36:38.383 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:38.383 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.384 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:38.384 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:38.384 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:38.385 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:36:38.386 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:38.386 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.388 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:38.389 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:36:38.390 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.391 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:38.392 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:36:38.393 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.394 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:38.395 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:36:38.396 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:38.396 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:36:38.398 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:38.399 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 26(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:38.401 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:46.992 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:46.992 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:46.993 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:46.993 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:46.994 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:46.994 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:47.036 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:47.036 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:47.037 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:47.037 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:47.037 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:47.037 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:47.038 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:47.038 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:47.038 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:47.038 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:47.039 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:47.039 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:47.039 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:47.040 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:47.040 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:47.040 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:47.040 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:47.041 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:47.169 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:47.169 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:47.170 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:47.171 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:47.171 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:47.172 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:47.174 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:36:47.175 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:36:47.176 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:36:47.176 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:36:47.177 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:47.178 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:36:47.178 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.179 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:47.180 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:36:47.180 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.181 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:47.181 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:36:47.182 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.183 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:47.183 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:36:47.184 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.185 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:47.186 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:36:47.187 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.187 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:47.188 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:36:47.189 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.189 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:36:47.190 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:47.191 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 17(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:47.194 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:47.213 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:47.213 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:47.213 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:47.213 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:47.213 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:47.213 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:47.214 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:47.214 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:47.214 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:47.215 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:47.215 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:47.215 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:47.215 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:47.215 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:47.215 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:47.216 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:47.216 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:47.216 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:47.219 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:36:47.219 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:36:47.219 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:36:47.219 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:36:47.219 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:36:47.220 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:36:47.220 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:36:47.221 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:47.221 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:47.221 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:47.221 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:36:47.221 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:47.222 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 123(Integer)
2020-05-14 18:36:47.222 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.222 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.223 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:36:47.223 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:47.223 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:47.223 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:36:47.223 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:47.224 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:47.224 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 124(Integer)
2020-05-14 18:36:47.224 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.224 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:36:47.224 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:47.225 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:36:47.225 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:36:47.225 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:36:47.226 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:36:47.226 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:36:47.226 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:36:47.226 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:47.227 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:36:47.227 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:36:47.227 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:47.227 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:36:47.228 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:36:47.229 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:36:47.230 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:47.230 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 12(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:47.238 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:47.238 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:47.238 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:47.239 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 21(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":35},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:47.241 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:51.029 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:51.029 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:51.030 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:51.031 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:51.031 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:51.032 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:51.120 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:51.120 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:51.121 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:51.121 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:51.122 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:51.123 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:51.126 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:36:51.127 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:36:51.128 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:36:51.128 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:36:51.129 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:51.130 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:36:51.131 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.132 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:51.133 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:36:51.135 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.136 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:51.137 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:51.138 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.140 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:51.140 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:51.141 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.142 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:51.143 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:36:51.143 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.144 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:51.145 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:36:51.145 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.146 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:51.147 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:36:51.148 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.149 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:51.150 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:36:51.151 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.152 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:51.153 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:36:51.154 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.155 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:51.156 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:36:51.157 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.158 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:51.158 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:36:51.159 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.160 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:51.160 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:36:51.161 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.162 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:51.163 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:36:51.164 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.164 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:51.165 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:36:51.166 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:36:51.168 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:51.168 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:51.169 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.171 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:51.171 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:51.172 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.172 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:36:51.175 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:51.175 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 49(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":36}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:51.182 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:51.374 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:51.375 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:51.376 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:51.377 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:51.377 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:51.378 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:51.418 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:51.419 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:51.419 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:51.420 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:51.421 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:51.421 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:51.421 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:51.422 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:51.422 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:51.423 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:51.423 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:51.424 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:51.548 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:51.548 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:51.550 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:51.551 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:51.551 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:51.552 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:51.558 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:36:51.559 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:36:51.560 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:36:51.561 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:36:51.562 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:51.563 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:36:51.564 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.566 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:51.567 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:36:51.568 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.570 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:51.571 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:36:51.572 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.574 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:51.574 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:36:51.576 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.577 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:51.578 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:36:51.579 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.581 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:51.581 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:36:51.583 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.584 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:36:51.587 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:51.588 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 31(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:51.591 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:51.591 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:51.591 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:51.591 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:51.592 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:51.592 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:51.592 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:51.593 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:51.593 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:51.594 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:51.594 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:51.595 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:51.595 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:51.598 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:36:51.598 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:36:51.599 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:36:51.599 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:36:51.600 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:36:51.601 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:51.601 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:51.602 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.603 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:51.603 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 6(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:51.604 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:51.605 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:51.606 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:51.606 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:51.607 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:36:51.610 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:51.610 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:51.613 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:56.630 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:56.631 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:56.632 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:56.633 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:56.633 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:56.634 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:56.722 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:56.722 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:56.723 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:56.724 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:56.725 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:56.726 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:56.730 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:56.731 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 2(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:56.734 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:57.043 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:57.043 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:57.044 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:57.045 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:57.046 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:57.047 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:57.086 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:57.087 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:57.087 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:57.088 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:57.089 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:57.089 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:57.217 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:57.217 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:57.218 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:57.219 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:57.220 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:57.221 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:57.224 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:36:57.225 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:36:57.226 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:36:57.226 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:36:57.228 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:57.228 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:36:57.229 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.231 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:57.231 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:36:57.233 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.234 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:57.234 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:57.235 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.236 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:57.236 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:57.237 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.238 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:57.239 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:36:57.239 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.240 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:57.240 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:36:57.241 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.242 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:57.242 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:36:57.243 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.244 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:57.245 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:36:57.245 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.246 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:57.247 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:36:57.248 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.250 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:57.251 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:36:57.252 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.253 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:57.253 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:36:57.254 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.255 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:57.256 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:36:57.257 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.258 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:57.258 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:36:57.259 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.260 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:57.260 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:57.260 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:57.261 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:57.261 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:36:57.261 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:57.262 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:57.261 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:36:57.262 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:57.263 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:57.263 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:57.264 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.266 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:57.267 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:36:57.267 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:36:57.267 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:36:57.268 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.269 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:36:57.269 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:36:57.269 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:36:57.271 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:57.272 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:36:57.273 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.273 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:57.274 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:57.274 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:36:57.274 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 47(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":36}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:57.275 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.276 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:57.276 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:36:57.277 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.278 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:57.278 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:57.278 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:36:57.279 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.282 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:57.283 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:36:57.284 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.285 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:36:57.286 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:36:57.287 DEBUG [http-nio-8088-exec-3]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.288 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:36:57.290 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:57.290 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 25(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:57.292 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:57.348 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:57.349 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:57.350 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:57.351 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:57.351 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:57.352 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:57.390 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:57.391 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:57.392 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:57.393 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:57.393 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:57.394 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:57.520 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:57.521 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:57.521 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:57.522 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:57.522 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:57.523 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:57.525 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:36:57.526 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:36:57.526 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:36:57.528 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:57.528 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 3(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:57.532 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:36:57.563 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:36:57.565 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:36:57.566 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:36:57.567 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:36:57.567 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:36:57.568 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:36:57.570 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:36:57.570 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:36:57.571 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:36:57.572 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:57.573 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.573 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:36:57.574 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:36:57.575 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:36:57.575 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:36:57.576 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:36:57.577 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:36:57.579 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:37:21.550 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:37:21.550 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:37:21.551 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:37:21.552 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:37:21.552 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:37:21.553 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:37:21.593 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:37:21.593 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:37:21.593 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:37:21.593 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:37:21.593 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:37:21.593 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:37:21.594 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:37:21.594 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:37:21.594 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:37:21.595 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:37:21.595 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:37:21.595 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:37:21.595 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:37:21.595 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:37:21.595 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:37:21.595 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:37:21.595 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:37:21.595 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:37:21.724 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:37:21.724 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:37:21.725 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:37:21.726 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:37:21.726 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:37:21.727 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:37:21.730 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:37:21.731 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:37:21.732 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:37:21.733 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:37:21.734 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.735 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:37:21.735 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:37:21.737 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.737 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:37:21.738 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:37:21.739 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:37:21.740 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:37:21.744 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:37:21.744 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":36},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:37:21.746 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:37:21.768 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:37:21.768 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:37:21.769 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:37:21.769 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:37:21.770 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:37:21.770 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:37:21.771 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:37:21.771 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:37:21.771 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:37:21.771 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:37:21.771 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:37:21.772 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:37:21.772 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:37:21.771 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:37:21.774 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:37:21.775 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:37:21.775 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:37:21.775 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:37:21.775 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:37:21.776 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:37:21.776 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:37:21.776 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:37:21.777 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:37:21.778 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:37:21.778 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:37:21.778 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:37:21.779 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 123(Integer)
2020-05-14 18:37:21.779 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.780 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:37:21.780 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:37:21.781 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:37:21.781 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:37:21.781 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:37:21.781 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:37:21.781 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 124(Integer)
2020-05-14 18:37:21.782 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.782 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:37:21.782 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:37:21.782 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:37:21.782 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:37:21.783 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:37:21.784 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:37:21.784 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:37:21.784 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:37:21.785 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:37:21.785 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:37:21.785 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:37:21.786 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:37:21.786 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:37:21.787 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:37:21.787 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.787 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:37:21.788 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:37:21.789 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:37:21.790 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:37:21.790 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.790 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:37:21.792 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:37:21.792 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:37:21.794 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.795 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:37:21.796 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:37:21.797 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.799 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:37:21.799 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:37:21.800 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:37:21.800 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.802 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:37:21.803 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:37:21.804 DEBUG [http-nio-8088-exec-5]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:37:21.805 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:37:21.807 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:37:21.808 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 28(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:37:21.811 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:05.091 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:05.092 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 0(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 12(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:05.096 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:05.231 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:05.233 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 3(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 18:38:05.237 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:13.331 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:13.331 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:13.332 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:13.332 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:13.333 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:13.333 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:13.908 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:13.908 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:13.909 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:13.910 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:13.910 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:13.911 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.000 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:14.000 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:14.001 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:14.002 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:14.002 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:14.003 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.005 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:14.006 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 1(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:14.010 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:14.178 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:14.178 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:14.179 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:14.179 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:14.180 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:14.180 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.269 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:14.269 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:14.269 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:14.270 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:14.270 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:14.271 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.273 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:38:14.275 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:38:14.276 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:38:14.277 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:38:14.277 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.278 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:38:14.279 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:38:14.280 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.280 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:38:14.281 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:38:14.281 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:38:14.282 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:38:14.287 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:14.288 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 15(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":37},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:14.290 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:14.526 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:14.527 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:14.527 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:14.528 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:14.529 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:14.530 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.568 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:14.568 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:14.569 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:14.569 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:14.570 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:14.570 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:14.570 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:14.570 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:14.570 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:14.571 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:14.571 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.571 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.699 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:14.699 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:14.700 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:14.700 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:14.700 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:14.701 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.703 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:38:14.704 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:38:14.704 DEBUG [http-nio-8088-exec-2]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.705 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:14.706 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 123(Integer)
2020-05-14 18:38:14.706 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 2
2020-05-14 18:38:14.707 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:14.707 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 125(Integer)
2020-05-14 18:38:14.708 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:38:14.709 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:14.709 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 124(Integer)
2020-05-14 18:38:14.710 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:38:14.710 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:14.711 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:38:14.711 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:38:14.712 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:14.712 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:38:14.713 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:38:14.714 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:14.715 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:38:01","id":125,"message":"我回复我自己","parentId":123,"user":"admin"},{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:14.719 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:14.742 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:14.743 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:14.743 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:14.743 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:14.744 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:14.744 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:14.744 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:14.744 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:14.744 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:14.745 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:14.745 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.745 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:14.748 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:38:14.749 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:38:14.749 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:38:14.749 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:38:14.750 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:38:14.750 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:38:14.751 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:38:14.751 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:38:14.752 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.753 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:14.753 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:38:14.753 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:38:14.754 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:38:14.754 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.754 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.755 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:38:14.755 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:14.756 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:38:14.757 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:14.757 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.758 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:14.759 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:14.759 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:38:14.760 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:14.760 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.762 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:14.762 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:38:14.763 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.765 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:14.765 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:38:14.766 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.768 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:14.768 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:38:14.769 DEBUG [http-nio-8088-exec-8]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:14.770 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:38:14.772 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:14.773 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 24(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:14.776 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:44.796 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:44.796 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:44.798 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:44.799 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:44.799 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:44.801 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:44.890 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:44.891 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:44.892 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:44.893 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:44.894 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:44.895 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:44.902 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:44.903 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/info(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:44.907 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:45.184 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:45.185 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:45.185 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:45.186 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:45.186 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:45.187 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:45.228 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:45.228 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:45.229 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:45.230 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:45.230 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:45.232 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:45.357 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:45.358 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:45.359 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:45.359 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:45.360 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:45.361 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:45.365 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:38:45.365 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:38:45.366 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:38:45.367 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:38:45.368 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.368 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:38:45.369 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:38:45.369 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.370 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:38:45.371 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:38:45.371 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:38:45.372 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:38:45.377 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:45.378 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":38},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:45.380 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:45.400 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:45.401 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:45.402 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:45.403 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:45.403 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:45.404 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:45.407 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:38:45.408 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:38:45.409 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:38:45.410 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:45.411 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 123(Integer)
2020-05-14 18:38:45.412 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 2
2020-05-14 18:38:45.413 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:45.413 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 125(Integer)
2020-05-14 18:38:45.414 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:38:45.415 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:45.416 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 124(Integer)
2020-05-14 18:38:45.417 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:38:45.418 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:45.418 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:38:45.419 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:38:45.420 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:38:45.420 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:38:45.421 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:38:45.423 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:45.423 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), GET(String), 17(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:38:01","id":125,"message":"我回复我自己","parentId":123,"user":"admin"},{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"我回复我自己----1","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:45.425 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:45.488 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:45.488 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:45.489 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:45.490 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:45.490 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:45.491 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:45.531 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:45.532 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:45.533 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:45.534 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:45.534 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:45.535 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:45.661 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:45.661 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:45.662 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:45.663 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:45.663 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:45.664 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:45.669 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:38:45.669 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:38:45.670 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:38:45.670 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:38:45.671 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:45.672 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:38:45.673 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.673 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:45.674 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:38:45.675 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.675 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:45.676 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:38:45.677 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.677 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:45.678 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:38:45.678 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.679 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:45.680 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:38:45.681 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.682 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:38:45.683 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:38:45.684 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.685 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:38:45.686 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:45.686 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 20(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:45.690 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:38:45.704 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:38:45.705 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:38:45.706 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:38:45.706 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:38:45.707 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:38:45.707 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:38:45.711 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:38:45.711 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:38:45.713 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:38:45.713 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:38:45.714 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.716 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:38:45.716 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:38:45.717 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:38:45.718 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:38:45.720 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:38:45.721 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:38:45.723 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:39:24.482 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:39:24.483 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:39:24.484 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:39:24.485 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:39:24.486 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:39:24.487 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:39:24.527 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:39:24.527 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:39:24.528 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:39:24.529 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:39:24.529 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:39:24.530 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:39:24.533 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:39:24.533 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:39:24.534 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:39:24.534 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:39:24.535 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:39:24.535 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:39:24.536 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:39:24.536 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:39:24.537 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:39:24.537 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:39:24.538 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:39:24.539 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:39:24.657 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:39:24.658 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:39:24.658 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:39:24.659 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:39:24.659 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:39:24.660 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:39:24.663 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:39:24.664 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:39:24.665 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:39:24.665 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:39:24.667 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:39:24.667 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:39:24.668 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.669 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:39:24.669 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:39:24.670 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.671 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:39:24.671 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:39:24.672 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.673 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:39:24.673 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:39:24.674 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.675 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:39:24.675 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:39:24.676 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.677 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:39:24.677 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:39:24.678 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.679 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:39:24.680 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:39:24.680 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.681 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:39:24.682 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:39:24.683 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.683 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:39:24.684 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:39:24.685 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.686 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:39:24.687 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:39:24.688 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.689 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:39:24.689 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:39:24.690 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.691 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:39:24.691 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:39:24.692 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.693 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:39:24.694 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:39:24.695 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.695 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:39:24.696 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:39:24.696 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:39:24.697 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:39:24.698 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:39:24.699 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.700 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:39:24.700 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:39:24.701 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.701 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:39:24.702 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:39:24.702 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:39:24.702 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:39:24.702 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:39:24.702 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:39:24.703 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:39:24.703 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:39:24.703 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:39:24.704 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:39:24.704 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:39:24.704 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:39:24.704 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:39:24.704 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:39:24.705 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:39:24.705 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:39:24.705 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:39:24.705 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:39:24.707 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:39:24.708 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:39:24.708 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:39:24.709 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:39:24.709 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:39:24.709 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:39:24.710 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:39:24.711 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:39:24.709 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 41(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":39}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:39:24.711 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:39:24.711 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:39:24.712 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:39:24.712 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.713 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:39:24.713 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:39:24.713 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 5(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:39:24.713 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:39:24.714 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:39:24.714 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:39:24.715 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.715 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:39:24.715 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:39:24.715 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:39:24.716 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:39:24.716 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.717 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:39:24.717 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:39:24.718 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:39:24.718 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:39:24.719 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.720 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:39:24.720 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:39:24.721 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:39:24.722 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.724 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:39:24.725 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:39:24.726 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.727 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:39:24.727 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:39:24.728 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.729 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:39:24.730 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:39:24.730 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:39:24.732 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:39:24.733 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:39:24.736 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:39:24.737 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), POST(String), 26(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:39:24.740 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:40:01.663 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:01.663 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:01.664 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:01.664 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:01.665 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:01.665 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:01.707 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:01.707 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:01.707 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:01.707 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:01.707 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:01.707 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:01.708 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:01.708 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:01.708 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:01.708 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:01.708 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:01.708 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:01.709 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:01.709 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:01.709 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:01.709 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:01.709 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:01.709 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:01.837 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:01.837 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:01.838 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:01.838 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:01.839 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:01.839 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:01.842 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==>  Preparing: SELECT id, author, title, content, summary, cover, views, comment_count, like_count, top, recommend, enable, create_time, update_time FROM article WHERE id = ? AND deleted = 0 
2020-05-14 18:40:01.843 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -==> Parameters: 3(String)
2020-05-14 18:40:01.844 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:01.845 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:40:01.846 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.847 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:01.847 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:40:01.848 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.848 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getArticleVoById.debug:143 -<==      Total: 1
2020-05-14 18:40:01.849 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==>  Preparing: UPDATE article SET views = views + 1 WHERE id = ?; 
2020-05-14 18:40:01.849 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -==> Parameters: 3(String)
2020-05-14 18:40:01.850 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.updateReadTotal.debug:143 -<==    Updates: 1
2020-05-14 18:40:01.855 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:40:01.856 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/details/3(String), [3](String), 1(Integer), GET(String), 14(Long), {"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":39},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:40:01.859 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:40:01.881 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:01.882 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:01.881 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:01.882 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:01.883 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:01.883 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:01.883 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:01.884 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:01.884 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:01.884 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:01.884 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:01.884 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:01.884 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:01.885 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:01.885 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:01.885 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:01.886 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:01.886 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:01.888 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:40:01.889 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:40:01.889 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE article_id = ? AND parent_id = -1 ORDER BY create_time DESC 
2020-05-14 18:40:01.890 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:40:01.890 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -==> Parameters: 3(String)
2020-05-14 18:40:01.890 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:40:01.891 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:01.891 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleCommentMapper.listByArticleId.debug:143 -<==      Total: 2
2020-05-14 18:40:01.892 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:40:01.892 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:40:01.892 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:40:01.892 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:40:01.893 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.893 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 123(Integer)
2020-05-14 18:40:01.893 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:01.893 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:01.894 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:40:01.894 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:40:01.894 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 2
2020-05-14 18:40:01.895 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.895 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.895 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:40:01.896 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:40:01.896 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 125(Integer)
2020-05-14 18:40:01.896 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:01.897 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:40:01.897 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:40:01.898 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:40:01.898 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:40:01.898 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.899 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 124(Integer)
2020-05-14 18:40:01.899 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:40:01.899 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:01.899 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:40:01.900 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:40:01.901 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:40:01.901 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.901 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:40:01.902 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 19(Integer)
2020-05-14 18:40:01.902 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:01.903 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:40:01.903 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 1
2020-05-14 18:40:01.904 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.904 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==>  Preparing: SELECT * FROM article_comment WHERE parent_id = ? order by create_time desc 
2020-05-14 18:40:01.905 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -==> Parameters: 122(Integer)
2020-05-14 18:40:01.905 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:01.906 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleCommentMapper.listById.debug:143 -<==      Total: 0
2020-05-14 18:40:01.906 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:40:01.907 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.908 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:40:01.909 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:01.909 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:40:01.909 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /comment/list/3(String), [3](String), 1(Integer), GET(String), 19(Long), {"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:38:01","id":125,"message":"我回复我自己","parentId":123,"user":"admin"},{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"我回复我自己----1","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:40:01.910 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:01.911 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:40:01.912 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:40:01.914 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:40:01.915 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), POST(String), 25(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:40:01.918 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:40:14.110 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:14.110 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:14.111 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:14.112 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:14.112 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:14.112 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:14.154 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:14.155 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:14.154 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:14.155 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:14.155 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:14.155 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:14.156 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:14.156 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:14.156 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:14.157 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:14.157 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:14.157 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:14.157 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:14.157 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:14.157 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:14.158 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:14.158 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:14.158 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:14.285 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:14.285 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:14.286 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:14.287 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:14.287 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:14.287 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:14.291 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:40:14.291 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:40:14.292 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:40:14.293 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:40:14.294 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:14.295 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:40:14.295 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.296 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:14.297 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:40:14.298 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.298 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:14.299 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:40:14.300 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.300 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:14.301 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:40:14.301 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.303 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:14.303 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:40:14.304 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.305 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:14.305 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:40:14.306 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.307 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:14.308 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:40:14.309 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.310 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:14.310 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:40:14.311 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.312 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:14.313 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:40:14.314 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.314 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:14.315 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:40:14.316 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.317 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:14.317 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:40:14.318 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.319 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:14.320 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:40:14.321 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.322 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:14.322 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:40:14.323 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.324 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:14.325 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:40:14.325 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:40:14.326 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:14.327 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:40:14.328 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.328 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:14.328 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:14.329 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:14.328 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:40:14.329 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:14.329 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:14.329 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:40:14.329 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:40:14.330 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:14.330 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:14.330 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.330 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:40:14.331 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:40:14.331 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:14.331 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:14.331 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:40:14.331 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:14.331 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:14.331 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:40:14.332 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:14.332 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:14.332 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:40:14.334 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:40:14.335 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:40:14.335 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:40:14.335 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 43(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:40:14.336 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:40:14.337 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:40:14.338 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:40:14.338 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:40:14.339 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.340 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:40:14.340 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:40:14.340 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:40:14.340 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:40:14.341 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:40:14.341 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:40:14.341 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:14.341 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:40:14.342 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:40:14.342 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.342 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.342 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:40:14.343 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:40:14.343 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:14.344 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:40:14.344 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:40:14.344 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:40:14.344 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 8(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:40:14.344 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 11(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:40:14.345 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.347 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:40:14.347 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:14.347 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:40:14.349 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.349 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:40:14.350 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:14.351 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:40:14.352 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.354 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:14.355 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:40:14.356 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.357 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:40:14.357 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:40:14.358 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:40:14.359 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:40:14.361 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:40:14.361 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 26(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:40:14.363 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:41:20.605 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:41:20.605 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:41:20.606 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:41:20.606 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:41:20.607 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:41:20.607 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:41:20.696 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:41:20.696 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:41:20.697 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:41:20.697 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:41:20.698 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:41:20.698 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:41:20.704 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:41:20.704 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:41:20.705 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, like_count desc LIMIT ?,? 
2020-05-14 18:41:20.705 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:41:20.707 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:20.707 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:41:20.708 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.709 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:20.710 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:41:20.710 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.711 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:20.712 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:41:20.713 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.713 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:20.714 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:41:20.714 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.715 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:20.716 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:41:20.717 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.717 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:20.718 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:41:20.718 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:41:20.719 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:20.720 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:41:20.720 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.721 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:20.721 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:41:20.722 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.723 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:20.723 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:41:20.724 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.725 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:20.726 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:41:20.727 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.728 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:20.728 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:41:20.729 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.730 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:20.730 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:41:20.731 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.732 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:20.733 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:41:20.733 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.734 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:20.735 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:41:20.735 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.736 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:20.737 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:41:20.737 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.738 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:20.739 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:41:20.740 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:20.740 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:41:20.743 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:41:20.744 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=8, pageSize=10, totalPage=1, currPage=1, list=[{id=4, author=3, title=这是置顶的文章哇, content=save, summary=1, cover=http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg, views=1173, commentCount=0, likeCount=12, top=true, recommend=false, createTime=2019-06-14T12:21:50, updateTime=2020-04-20T15:19:20, enable=true, deleted=null, version=null, category={id=4, categoryName=其他, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=3, name=mysql, enable=null, deleted=null}]}, {id=1251780392676016129, author=xing, title=mysql练习题, content=### 建表

- 学生表

```mysql
CREATE TABLE `Student`(
`s_id` VARCHAR(20),
`s_name` VARCHAR(20) NOT NULL DEFAULT '',
`s_birth` VARCHAR(20) NOT NULL DEFAULT '',
`s_sex` VARCHAR(10) NOT NULL DEFAULT '',
PRIMARY KEY(`s_id`)
);
```

- 课程表

```mysql
CREATE TABLE `Course`(
`c_id`  VARCHAR(20),
`c_name` VARCHAR(20) NOT NULL DEFAULT '',
`t_id` VARCHAR(20) NOT NULL,
PRIMARY KEY(`c_id`)
);
```

- 教师表

```mysql
CREATE TABLE `Teacher`(
`t_id` VARCHAR(20),
`t_name` VARCHAR(20) NOT NULL DEFAULT '',
PRIMARY KEY(`t_id`)
);
```

- 成绩表

```mysql
CREATE TABLE `Score`(
`s_id` VARCHAR(20),
`c_id`  VARCHAR(20),
`s_score` INT(3),
PRIMARY KEY(`s_id`,`c_id`)
);
```

- 插入学生表测试数据

```mysql
insert into Student values('01' , '赵雷' , '1990-01-01' , '男');
insert into Student values('02' , '钱电' , '1990-12-21' , '男');
insert into Student values('03' , '孙风' , '1990-05-20' , '男');
insert into Student values('04' , '李云' , '1990-08-06' , '男');
insert into Student values('05' , '周梅' , '1991-12-01' , '女');
insert into Student values('06' , '吴兰' , '1992-03-01' , '女');
insert into Student values('07' , '郑竹' , '1989-07-01' , '女');
insert into Student values('08' , '王菊' , '1990-01-20' , '女');
```

- 课程表测试数据

```mysql
insert into Course values('01' , '语文' , '02');
insert into Course values('02' , '数学' , '01');
insert into Course values('03' , '英语' , '03');
```

- 教师表测试数据

```mysql
insert into Teacher values('01' , '张三');
insert into Teacher values('02' , '李四');
insert into Teacher values('03' , '王五');
```

- 成绩表测试数据

```mysql
insert into Score values('01' , '01' , 80);
insert into Score values('01' , '02' , 90);
insert into Score values('01' , '03' , 99);
insert into Score values('02' , '01' , 70);
insert into Score values('02' , '02' , 60);
insert into Score values('02' , '03' , 80);
insert into Score values('03' , '01' , 80);
insert into Score values('03' , '02' , 80);
insert into Score values('03' , '03' , 80);
insert into Score values('04' , '01' , 50);
insert into Score values('04' , '02' , 30);
insert into Score values('04' , '03' , 20);
insert into Score values('05' , '01' , 76);
insert into Score values('05' , '02' , 87);
insert into Score values('06' , '01' , 31);
insert into Score values('06' , '03' , 34);
insert into Score values('07' , '02' , 89);
insert into Score values('07' , '03' , 98);
```

### 练习题和sql语句

1. 查询"01"课程比"02"课程成绩高的学生的信息及课程分数

```mysql
select a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c 
where a.s_id=b.s_id 
and a.s_id=c.s_id 
and b.c_id='01' 
and c.c_id='02' 
and b.s_score>c.s_score
```

2. 查询"01"课程比"02"课程成绩低的学生的信息及课程分数

```mysql
select a.* ,b.s_score as 01_score,c.s_score as 02_score from 
student a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL 
join score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score
```

3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩

```mysql
select b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from 
student b 
join score a on b.s_id = a.s_id
GROUP BY b.s_id,b.s_name HAVING avg_score >=60;
```

4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)

```mysql
select b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from 
student b 
left join score a on b.s_id = a.s_id
GROUP BY b.s_id,b.s_name HAVING avg_score <60
union
select a.s_id,a.s_name,0 as avg_score from 
student a 
where a.s_id not in (
select distinct s_id from score);
```

5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩

```mysql
select a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from 
student a 
left join score b on a.s_id=b.s_id
GROUP BY a.s_id,a.s_name;
```

6. 查询"李"姓老师的数量 

```mysql
select count(t_id) from teacher where t_name like '李%';
```

7. 查询学过"张三"老师授课的同学的信息 

```mysql
select a.* from 
student a 
join score b on a.s_id=b.s_id where b.c_id in(
select c_id from course where t_id =(
select t_id from teacher where t_name = '张三'));
```



8. 查询没学过"张三"老师授课的同学的信息 

```mysql
select * from 
    student c 
    where c.s_id not in(
        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(
        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));
```



9. 查询学过编号为"01"并且也学过编号为"02"的课程的同学的信息

```mysql
select a.* from 
student a,score b,score c 
where a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';
```

10. 查询学过编号为"01"但是没有学过编号为"02"的课程的同学的信息

```mysql
select a.* from 
student a 
where a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')
```

11. 查询没有学全所有课程的同学的信息 

```mysql
--@wendiepei的写法
select s.* from student s 
left join Score s1 on s1.s_id=s.s_id
group by s.s_id having count(s1.c_id)<(select count(*) from course)	
--@k1051785839的写法
select *
from student
where s_id not in(
select s_id from score t1  
group by s_id having count(*) =(select count(distinct c_id)  from course)) 
```

12. 查询至少有一门课与学号为"01"的同学所学相同的同学的信息 

```mysql
select * from student where s_id in(
select distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')
);
```

13. 查询和"01"号的同学学习的课程完全相同的其他同学的信息 

```mysql
--@ouyang_1993的写法
SELECT
 Student.*
FROM
 Student
WHERE
 s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (
    #下面的语句是找到'01'同学学习的课程数
    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'
   )
 )
AND s_id NOT IN (
 #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们
 SELECT s_id FROM Score
 WHERE c_id IN(
   #下面的语句是找到‘01’同学没学过的课程
   SELECT DISTINCT c_id FROM Score
   WHERE c_id NOT IN (
     #下面的语句是找出‘01’同学学习的课程
     SELECT c_id FROM Score WHERE s_id = '01'
    )
  ) GROUP BY s_id
) #下面的条件是排除01同学
AND s_id NOT IN ('01')
--@k1051785839的写法
SELECT
 t3.*
FROM
 (
  SELECT
   s_id,
   group_concat(c_id ORDER BY c_id) group1
  FROM
   score
  WHERE
   s_id &lt;> '01'
  GROUP BY
   s_id
 ) t1
INNER JOIN (
 SELECT
  group_concat(c_id ORDER BY c_id) group2
 FROM
  score
 WHERE
  s_id = '01'
 GROUP BY
  s_id
) t2 ON t1.group1 = t2.group2
INNER JOIN student t3 ON t1.s_id = t3.s_id
```

14. 查询没学过"张三"老师讲授的任一门课程的学生姓名 

```mysql
select a.s_name from student a where a.s_id not in (
select s_id from score where c_id = 
(select c_id from course where t_id =(
select t_id from teacher where t_name = '张三')));
```

15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 

```mysql
select a.s_id,a.s_name,ROUND(AVG(b.s_score)) from 
student a 
left join score b on a.s_id = b.s_id
where a.s_id in(
select s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)
GROUP BY a.s_id,a.s_name
```

16. 检索"01"课程分数小于60，按分数降序排列的学生信息

```mysql
select a.*,b.c_id,b.s_score from 
student a,score b 
where a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;
```

17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩

```mysql
select a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,
(select s_score from score where s_id=a.s_id and c_id='02') as 数学,
(select s_score from score where s_id=a.s_id and c_id='03') as 英语,
round(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;
--@喝完这杯还有一箱的写法
SELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, 
MAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, 
MAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, 
avg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC
```

18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率
    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90

```mysql
select a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),
ROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,
ROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,
ROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,
ROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率
from score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name
```

19. 按各科成绩进行排序，并显示排名

```mysql
-- mysql没有rank函数
select a.s_id,a.c_id,
        @i:=@i +1 as i保留排名,
        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,
        @score:=a.s_score as score
    from (
        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC
    )a,(select @k:=0,@i:=0,@score:=0)s
--@k1051785839的写法
(select * from (select 
                t1.c_id,
                t1.s_score,
                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank
                FROM score t1 where t1.c_id='01'
                order by t1.s_score desc) t1)
union
(select * from (select 
                t1.c_id,
                t1.s_score,
                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank
                FROM score t1 where t1.c_id='02'
                order by t1.s_score desc) t2)
union
(select * from (select 
                t1.c_id,
                t1.s_score,
                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank
                FROM score t1 where t1.c_id='03'
                order by t1.s_score desc) t3)
```

20. 查询学生的总成绩并进行排名

```mysql
select a.s_id,
@i:=@i+1 as i,
@k:=(case when @score=a.sum_score then @k else @i end) as rank,
@score:=a.sum_score as score
from (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,
(select @k:=0,@i:=0,@score:=0)s
```

21. 查询不同老师所教不同课程平均分从高到低显示 

```mysql
select a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a
left join score b on a.c_id=b.c_id 
left join teacher c on a.t_id=c.t_id
GROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;
```

22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩

```mysql
select d.*,c.排名,c.s_score,c.c_id from (
                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  
ORDER BY a.s_score DESC  
            )c
            left join student d on c.s_id=d.s_id
            where 排名 BETWEEN 2 AND 3
            UNION
            select d.*,c.排名,c.s_score,c.c_id from (
                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  
ORDER BY a.s_score DESC
            )c
            left join student d on c.s_id=d.s_id
            where 排名 BETWEEN 2 AND 3
            UNION
            select d.*,c.排名,c.s_score,c.c_id from (
                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' 
ORDER BY a.s_score DESC
            )c
            left join student d on c.s_id=d.s_id
            where 排名 BETWEEN 2 AND 3;
```

23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比

```mysql
select distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a
left join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,
ROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比
from score GROUP BY c_id)b on a.c_id=b.c_id
left join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,
ROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比
from score GROUP BY c_id)c on a.c_id=c.c_id
left join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,
ROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比
from score GROUP BY c_id)d on a.c_id=d.c_id
left join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,
ROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比
from score GROUP BY c_id)e on a.c_id=e.c_id
left join course f on a.c_id = f.c_id
```

24. 查询学生平均成绩及其名次 

```mysql
select a.s_id,
@i:=@i+1 as '不保留空缺排名',
@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',
@avg_score:=avg_s as '平均分'
from (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;
```

25. 查询各科成绩前三名的记录

```mysql
-- 1.选出b表比a表成绩大的所有组
-- 2.选出比当前id成绩大的 小于三个的
select a.s_id,a.c_id,a.s_score from score a 
left join score b on a.c_id = b.c_id and a.s_score<b.s_score
group by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3
ORDER BY a.c_id,a.s_score DESC
```

26. 查询每门课程被选修的学生数 

```mysql
select c_id,count(s_id) from score a GROUP BY c_id
```

27. 查询出只有两门课程的全部学生的学号和姓名 

```mysql
select s_id,s_name from student where s_id in(
select s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);
```

28. 查询男生、女生人数 

```mysql
select s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex
```

29. 查询名字中含有"风"字的学生信息

```mysql
select * from student where s_name like '%风%';
```

30. 查询同名同性学生名单，并统计同名人数 		

```mysql
select a.s_name,a.s_sex,count(*) from student a  JOIN 
student b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex
GROUP BY a.s_name,a.s_sex
```

31. 查询1990年出生的学生名单

```mysql
select s_name from student where s_birth like '1990%'
```

32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 

```mysql
select c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC
```

33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 

```mysql
select a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a
left join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85
```

34. 查询课程名称为"数学"，且分数低于60的学生姓名和分数 	

```mysql
select a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(
select c_id from course where c_name ='数学') and b.s_score<60
```

35. 查询所有学生的课程及分数情况；

```mysql
select a.s_id,a.s_name,
SUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',
SUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',
SUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',
SUM(b.s_score) as  '总分'
from student a left join score b on a.s_id = b.s_id 
left join course c on b.c_id = c.c_id 
GROUP BY a.s_id,a.s_name
```

36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； 

```mysql
select a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id
left join student a on a.s_id=c.s_id where c.s_score>=70
```

37. 查询不及格的课程

```mysql
select a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id
where a.s_score<60 
```

38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； 

```mysql
select a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id
where a.c_id = '01'and a.s_score>80
```

39. 求每门课程的学生人数 

```mysql
select count(*) from score GROUP BY c_id;
```

40. 查询选修"张三"老师所授课程的学生中，成绩最高的学生信息及其成绩

```mysql
-- 查询老师id	
select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'
-- 查询最高分（可能有相同分数）
select MAX(s_score) from score where c_id='02'
-- 查询信息
select a.*,b.s_score,b.c_id,c.c_name from student a
LEFT JOIN score b on a.s_id = b.s_id
LEFT JOIN course c on b.c_id=c.c_id
where b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')
and b.s_score in (select MAX(s_score) from score where c_id='02')
```

41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 

```mysql
select DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score
```

42. 查询每门功成绩最好的前两名 

```mysql
select a.s_id,a.c_id,a.s_score from score a
where (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id
```

43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  

```mysql
select c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC
```

44. 检索至少选修两门课程的学生学号 

```mysql
select s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2
```

45. 查询选修了全部课程的学生信息 

```mysql
select * from student where s_id in(		
select s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))
```

46. 查询各学生的年龄

```mysql
# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一
select s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - 
(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age
from student;
```

47. 查询本周过生日的学生

```mysql
select * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)
select * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))
	
select WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))
```

48. 查询下周过生日的学生

```mysql
select * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)
```

49. 查询本月过生日的学生

```mysql
select * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)
```

50. 查询下月过生日的学生

```mysql
select * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)
```

, summary=MySQL练习题, cover=null, views=59, commentCount=1, likeCount=0, top=false, recommend=true, createTime=2020-04-19T15:51:17, updateTime=2020-04-19T21:31:59, enable=true, deleted=null, version=null, category={id=3, categoryName=数据库, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=3, name=mysql, enable=null, deleted=null}]}, {id=1251776651612700674, author=xing, title=springboot jackson, content= ```java
@Override
    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {
        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);
        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));
    }

    private static final String DATE_FORMAT = "yyyy-MM-dd";
    private static final String DATE_TIME_FORMAT = "yyyy-MM-dd HH:mm:ss";

    @Bean
    public ObjectMapper jacksonObjectMapperCustomization() {

        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()
                .simpleDateFormat(DATE_TIME_FORMAT)
                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))
                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));


        return builder.build();
    }

@Override
    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {
        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);
        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));
    }

    private static final String DATE_FORMAT = "yyyy-MM-dd";
    private static final String DATE_TIME_FORMAT = "yyyy-MM-dd HH:mm:ss";

    @Bean
    public ObjectMapper jacksonObjectMapperCustomization() {

        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()
                .simpleDateFormat(DATE_TIME_FORMAT)
                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))
                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));


        return builder.build();
    }
```
, summary=jackson, cover=null, views=65, commentCount=1, likeCount=0, top=false, recommend=false, createTime=2020-04-19T15:36:25, updateTime=2020-04-20T15:22:20, enable=true, deleted=null, version=null, category={id=2, categoryName=微服务, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=2, name=java, enable=null, deleted=null}]}, {id=1251752142763507713, author=_江南一点雨, title=离职半年了，老东家又发 offer，回不回？, content=```
代码块
```
asdasd, summary=有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？, cover=null, views=18, commentCount=0, likeCount=123, top=false, recommend=false, createTime=2020-04-19T13:59:01, updateTime=2020-04-19T21:29:41, enable=false, deleted=null, version=null, category={id=1, categoryName=测试, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=2, name=java, enable=null, deleted=null}]}, {id=1251750614375907330, author=213123, title=123123123, content=<p>tup</p>, summary=123123123, cover=http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png, views=29, commentCount=2, likeCount=0, top=false, recommend=false, createTime=2020-04-19T13:52:57, updateTime=2020-04-19T20:15:29, enable=true, deleted=null, version=null, category={id=2, categoryName=微服务, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=1, name=spring, enable=null, deleted=null}]}, {id=1251725190564519937, author=现在才VS真的非常, title=阿道夫啊实打实的, content=<p>阿三打撒</p>, summary=f 阿三打撒, cover=null, views=6, commentCount=0, likeCount=0, top=false, recommend=false, createTime=2020-04-19T12:11:56, updateTime=2020-04-20T12:03:53, enable=true, deleted=null, version=null, category={id=2, categoryName=微服务, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=2, name=java, enable=null, deleted=null}]}, {id=1, author=1, title=mybatis plus 乐观锁测试时间, content=1, summary=1, cover=http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg, views=139, commentCount=0, likeCount=34, top=false, recommend=false, createTime=2020-03-23T15:55:15, updateTime=2020-04-20T15:24:06, enable=true, deleted=null, version=null, category={id=3, categoryName=数据库, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=1, name=spring, enable=null, deleted=null}, {id=2, name=java, enable=null, deleted=null}]}, {id=3, author=1, title=岁的法国士大夫, content=3123123123, summary=123124312414, cover=null, views=40, commentCount=5, likeCount=0, top=false, recommend=false, createTime=2019-06-17T23:48:04, updateTime=2020-04-17T23:48:04, enable=true, deleted=null, version=null, category={id=1, categoryName=测试, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=2, name=java, enable=null, deleted=null}]}], params={isEnable=true}, sortColumn=like_count)](String), 1(Integer), POST(String), 40(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:41:20.750 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:41:24.555 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:41:24.556 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:41:24.556 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:41:24.557 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:41:24.557 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:41:24.558 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:41:24.648 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:41:24.648 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:41:24.649 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:41:24.650 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:41:24.651 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:41:24.651 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:41:24.656 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:41:24.656 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:41:24.657 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:41:24.658 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:41:24.659 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:24.660 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:41:24.661 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.661 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:24.662 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:41:24.663 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.663 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:24.664 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:41:24.666 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.666 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:24.667 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:41:24.668 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.668 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:24.669 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:41:24.670 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.670 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:24.671 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:41:24.671 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.672 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:24.673 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:41:24.674 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.674 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:24.675 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:41:24.676 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.676 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:24.677 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:41:24.678 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.679 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:24.679 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:41:24.680 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.681 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:24.681 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:41:24.682 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.683 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:24.683 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:41:24.684 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.685 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:24.685 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:41:24.686 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.687 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:24.687 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:41:24.688 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:41:24.689 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:41:24.689 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:41:24.690 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.691 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:41:24.691 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:41:24.692 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:41:24.693 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:41:24.695 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, message, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:41:24.696 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=8, pageSize=10, totalPage=1, currPage=1, list=[{id=4, author=3, title=这是置顶的文章哇, content=save, summary=1, cover=http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg, views=1173, commentCount=0, likeCount=12, top=true, recommend=false, createTime=2019-06-14T12:21:50, updateTime=2020-04-20T15:19:20, enable=true, deleted=null, version=null, category={id=4, categoryName=其他, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=3, name=mysql, enable=null, deleted=null}]}, {id=1251752142763507713, author=_江南一点雨, title=离职半年了，老东家又发 offer，回不回？, content=```
代码块
```
asdasd, summary=有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？, cover=null, views=18, commentCount=0, likeCount=123, top=false, recommend=false, createTime=2020-04-19T13:59:01, updateTime=2020-04-19T21:29:41, enable=false, deleted=null, version=null, category={id=1, categoryName=测试, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=2, name=java, enable=null, deleted=null}]}, {id=1, author=1, title=mybatis plus 乐观锁测试时间, content=1, summary=1, cover=http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg, views=139, commentCount=0, likeCount=34, top=false, recommend=false, createTime=2020-03-23T15:55:15, updateTime=2020-04-20T15:24:06, enable=true, deleted=null, version=null, category={id=3, categoryName=数据库, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=1, name=spring, enable=null, deleted=null}, {id=2, name=java, enable=null, deleted=null}]}, {id=3, author=1, title=岁的法国士大夫, content=3123123123, summary=123124312414, cover=null, views=40, commentCount=5, likeCount=0, top=false, recommend=false, createTime=2019-06-17T23:48:04, updateTime=2020-04-17T23:48:04, enable=true, deleted=null, version=null, category={id=1, categoryName=测试, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=2, name=java, enable=null, deleted=null}]}, {id=1251725190564519937, author=现在才VS真的非常, title=阿道夫啊实打实的, content=<p>阿三打撒</p>, summary=f 阿三打撒, cover=null, views=6, commentCount=0, likeCount=0, top=false, recommend=false, createTime=2020-04-19T12:11:56, updateTime=2020-04-20T12:03:53, enable=true, deleted=null, version=null, category={id=2, categoryName=微服务, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=2, name=java, enable=null, deleted=null}]}, {id=1251750614375907330, author=213123, title=123123123, content=<p>tup</p>, summary=123123123, cover=http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png, views=29, commentCount=2, likeCount=0, top=false, recommend=false, createTime=2020-04-19T13:52:57, updateTime=2020-04-19T20:15:29, enable=true, deleted=null, version=null, category={id=2, categoryName=微服务, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=1, name=spring, enable=null, deleted=null}]}, {id=1251776651612700674, author=xing, title=springboot jackson, content= ```java
@Override
    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {
        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);
        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));
    }

    private static final String DATE_FORMAT = "yyyy-MM-dd";
    private static final String DATE_TIME_FORMAT = "yyyy-MM-dd HH:mm:ss";

    @Bean
    public ObjectMapper jacksonObjectMapperCustomization() {

        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()
                .simpleDateFormat(DATE_TIME_FORMAT)
                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))
                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));


        return builder.build();
    }

@Override
    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {
        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);
        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));
    }

    private static final String DATE_FORMAT = "yyyy-MM-dd";
    private static final String DATE_TIME_FORMAT = "yyyy-MM-dd HH:mm:ss";

    @Bean
    public ObjectMapper jacksonObjectMapperCustomization() {

        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()
                .simpleDateFormat(DATE_TIME_FORMAT)
                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))
                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));


        return builder.build();
    }
```
, summary=jackson, cover=null, views=65, commentCount=1, likeCount=0, top=false, recommend=false, createTime=2020-04-19T15:36:25, updateTime=2020-04-20T15:22:20, enable=true, deleted=null, version=null, category={id=2, categoryName=微服务, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=2, name=java, enable=null, deleted=null}]}, {id=1251780392676016129, author=xing, title=mysql练习题, content=### 建表

- 学生表

```mysql
CREATE TABLE `Student`(
`s_id` VARCHAR(20),
`s_name` VARCHAR(20) NOT NULL DEFAULT '',
`s_birth` VARCHAR(20) NOT NULL DEFAULT '',
`s_sex` VARCHAR(10) NOT NULL DEFAULT '',
PRIMARY KEY(`s_id`)
);
```

- 课程表

```mysql
CREATE TABLE `Course`(
`c_id`  VARCHAR(20),
`c_name` VARCHAR(20) NOT NULL DEFAULT '',
`t_id` VARCHAR(20) NOT NULL,
PRIMARY KEY(`c_id`)
);
```

- 教师表

```mysql
CREATE TABLE `Teacher`(
`t_id` VARCHAR(20),
`t_name` VARCHAR(20) NOT NULL DEFAULT '',
PRIMARY KEY(`t_id`)
);
```

- 成绩表

```mysql
CREATE TABLE `Score`(
`s_id` VARCHAR(20),
`c_id`  VARCHAR(20),
`s_score` INT(3),
PRIMARY KEY(`s_id`,`c_id`)
);
```

- 插入学生表测试数据

```mysql
insert into Student values('01' , '赵雷' , '1990-01-01' , '男');
insert into Student values('02' , '钱电' , '1990-12-21' , '男');
insert into Student values('03' , '孙风' , '1990-05-20' , '男');
insert into Student values('04' , '李云' , '1990-08-06' , '男');
insert into Student values('05' , '周梅' , '1991-12-01' , '女');
insert into Student values('06' , '吴兰' , '1992-03-01' , '女');
insert into Student values('07' , '郑竹' , '1989-07-01' , '女');
insert into Student values('08' , '王菊' , '1990-01-20' , '女');
```

- 课程表测试数据

```mysql
insert into Course values('01' , '语文' , '02');
insert into Course values('02' , '数学' , '01');
insert into Course values('03' , '英语' , '03');
```

- 教师表测试数据

```mysql
insert into Teacher values('01' , '张三');
insert into Teacher values('02' , '李四');
insert into Teacher values('03' , '王五');
```

- 成绩表测试数据

```mysql
insert into Score values('01' , '01' , 80);
insert into Score values('01' , '02' , 90);
insert into Score values('01' , '03' , 99);
insert into Score values('02' , '01' , 70);
insert into Score values('02' , '02' , 60);
insert into Score values('02' , '03' , 80);
insert into Score values('03' , '01' , 80);
insert into Score values('03' , '02' , 80);
insert into Score values('03' , '03' , 80);
insert into Score values('04' , '01' , 50);
insert into Score values('04' , '02' , 30);
insert into Score values('04' , '03' , 20);
insert into Score values('05' , '01' , 76);
insert into Score values('05' , '02' , 87);
insert into Score values('06' , '01' , 31);
insert into Score values('06' , '03' , 34);
insert into Score values('07' , '02' , 89);
insert into Score values('07' , '03' , 98);
```

### 练习题和sql语句

1. 查询"01"课程比"02"课程成绩高的学生的信息及课程分数

```mysql
select a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c 
where a.s_id=b.s_id 
and a.s_id=c.s_id 
and b.c_id='01' 
and c.c_id='02' 
and b.s_score>c.s_score
```

2. 查询"01"课程比"02"课程成绩低的学生的信息及课程分数

```mysql
select a.* ,b.s_score as 01_score,c.s_score as 02_score from 
student a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL 
join score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score
```

3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩

```mysql
select b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from 
student b 
join score a on b.s_id = a.s_id
GROUP BY b.s_id,b.s_name HAVING avg_score >=60;
```

4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)

```mysql
select b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from 
student b 
left join score a on b.s_id = a.s_id
GROUP BY b.s_id,b.s_name HAVING avg_score <60
union
select a.s_id,a.s_name,0 as avg_score from 
student a 
where a.s_id not in (
select distinct s_id from score);
```

5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩

```mysql
select a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from 
student a 
left join score b on a.s_id=b.s_id
GROUP BY a.s_id,a.s_name;
```

6. 查询"李"姓老师的数量 

```mysql
select count(t_id) from teacher where t_name like '李%';
```

7. 查询学过"张三"老师授课的同学的信息 

```mysql
select a.* from 
student a 
join score b on a.s_id=b.s_id where b.c_id in(
select c_id from course where t_id =(
select t_id from teacher where t_name = '张三'));
```



8. 查询没学过"张三"老师授课的同学的信息 

```mysql
select * from 
    student c 
    where c.s_id not in(
        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(
        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));
```



9. 查询学过编号为"01"并且也学过编号为"02"的课程的同学的信息

```mysql
select a.* from 
student a,score b,score c 
where a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';
```

10. 查询学过编号为"01"但是没有学过编号为"02"的课程的同学的信息

```mysql
select a.* from 
student a 
where a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')
```

11. 查询没有学全所有课程的同学的信息 

```mysql
--@wendiepei的写法
select s.* from student s 
left join Score s1 on s1.s_id=s.s_id
group by s.s_id having count(s1.c_id)<(select count(*) from course)	
--@k1051785839的写法
select *
from student
where s_id not in(
select s_id from score t1  
group by s_id having count(*) =(select count(distinct c_id)  from course)) 
```

12. 查询至少有一门课与学号为"01"的同学所学相同的同学的信息 

```mysql
select * from student where s_id in(
select distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')
);
```

13. 查询和"01"号的同学学习的课程完全相同的其他同学的信息 

```mysql
--@ouyang_1993的写法
SELECT
 Student.*
FROM
 Student
WHERE
 s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (
    #下面的语句是找到'01'同学学习的课程数
    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'
   )
 )
AND s_id NOT IN (
 #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们
 SELECT s_id FROM Score
 WHERE c_id IN(
   #下面的语句是找到‘01’同学没学过的课程
   SELECT DISTINCT c_id FROM Score
   WHERE c_id NOT IN (
     #下面的语句是找出‘01’同学学习的课程
     SELECT c_id FROM Score WHERE s_id = '01'
    )
  ) GROUP BY s_id
) #下面的条件是排除01同学
AND s_id NOT IN ('01')
--@k1051785839的写法
SELECT
 t3.*
FROM
 (
  SELECT
   s_id,
   group_concat(c_id ORDER BY c_id) group1
  FROM
   score
  WHERE
   s_id &lt;> '01'
  GROUP BY
   s_id
 ) t1
INNER JOIN (
 SELECT
  group_concat(c_id ORDER BY c_id) group2
 FROM
  score
 WHERE
  s_id = '01'
 GROUP BY
  s_id
) t2 ON t1.group1 = t2.group2
INNER JOIN student t3 ON t1.s_id = t3.s_id
```

14. 查询没学过"张三"老师讲授的任一门课程的学生姓名 

```mysql
select a.s_name from student a where a.s_id not in (
select s_id from score where c_id = 
(select c_id from course where t_id =(
select t_id from teacher where t_name = '张三')));
```

15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 

```mysql
select a.s_id,a.s_name,ROUND(AVG(b.s_score)) from 
student a 
left join score b on a.s_id = b.s_id
where a.s_id in(
select s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)
GROUP BY a.s_id,a.s_name
```

16. 检索"01"课程分数小于60，按分数降序排列的学生信息

```mysql
select a.*,b.c_id,b.s_score from 
student a,score b 
where a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;
```

17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩

```mysql
select a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,
(select s_score from score where s_id=a.s_id and c_id='02') as 数学,
(select s_score from score where s_id=a.s_id and c_id='03') as 英语,
round(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;
--@喝完这杯还有一箱的写法
SELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, 
MAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, 
MAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, 
avg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC
```

18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率
    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90

```mysql
select a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),
ROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,
ROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,
ROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,
ROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率
from score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name
```

19. 按各科成绩进行排序，并显示排名

```mysql
-- mysql没有rank函数
select a.s_id,a.c_id,
        @i:=@i +1 as i保留排名,
        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,
        @score:=a.s_score as score
    from (
        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC
    )a,(select @k:=0,@i:=0,@score:=0)s
--@k1051785839的写法
(select * from (select 
                t1.c_id,
                t1.s_score,
                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank
                FROM score t1 where t1.c_id='01'
                order by t1.s_score desc) t1)
union
(select * from (select 
                t1.c_id,
                t1.s_score,
                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank
                FROM score t1 where t1.c_id='02'
                order by t1.s_score desc) t2)
union
(select * from (select 
                t1.c_id,
                t1.s_score,
                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank
                FROM score t1 where t1.c_id='03'
                order by t1.s_score desc) t3)
```

20. 查询学生的总成绩并进行排名

```mysql
select a.s_id,
@i:=@i+1 as i,
@k:=(case when @score=a.sum_score then @k else @i end) as rank,
@score:=a.sum_score as score
from (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,
(select @k:=0,@i:=0,@score:=0)s
```

21. 查询不同老师所教不同课程平均分从高到低显示 

```mysql
select a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a
left join score b on a.c_id=b.c_id 
left join teacher c on a.t_id=c.t_id
GROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;
```

22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩

```mysql
select d.*,c.排名,c.s_score,c.c_id from (
                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  
ORDER BY a.s_score DESC  
            )c
            left join student d on c.s_id=d.s_id
            where 排名 BETWEEN 2 AND 3
            UNION
            select d.*,c.排名,c.s_score,c.c_id from (
                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  
ORDER BY a.s_score DESC
            )c
            left join student d on c.s_id=d.s_id
            where 排名 BETWEEN 2 AND 3
            UNION
            select d.*,c.排名,c.s_score,c.c_id from (
                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' 
ORDER BY a.s_score DESC
            )c
            left join student d on c.s_id=d.s_id
            where 排名 BETWEEN 2 AND 3;
```

23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比

```mysql
select distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a
left join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,
ROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比
from score GROUP BY c_id)b on a.c_id=b.c_id
left join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,
ROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比
from score GROUP BY c_id)c on a.c_id=c.c_id
left join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,
ROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比
from score GROUP BY c_id)d on a.c_id=d.c_id
left join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,
ROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比
from score GROUP BY c_id)e on a.c_id=e.c_id
left join course f on a.c_id = f.c_id
```

24. 查询学生平均成绩及其名次 

```mysql
select a.s_id,
@i:=@i+1 as '不保留空缺排名',
@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',
@avg_score:=avg_s as '平均分'
from (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;
```

25. 查询各科成绩前三名的记录

```mysql
-- 1.选出b表比a表成绩大的所有组
-- 2.选出比当前id成绩大的 小于三个的
select a.s_id,a.c_id,a.s_score from score a 
left join score b on a.c_id = b.c_id and a.s_score<b.s_score
group by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3
ORDER BY a.c_id,a.s_score DESC
```

26. 查询每门课程被选修的学生数 

```mysql
select c_id,count(s_id) from score a GROUP BY c_id
```

27. 查询出只有两门课程的全部学生的学号和姓名 

```mysql
select s_id,s_name from student where s_id in(
select s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);
```

28. 查询男生、女生人数 

```mysql
select s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex
```

29. 查询名字中含有"风"字的学生信息

```mysql
select * from student where s_name like '%风%';
```

30. 查询同名同性学生名单，并统计同名人数 		

```mysql
select a.s_name,a.s_sex,count(*) from student a  JOIN 
student b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex
GROUP BY a.s_name,a.s_sex
```

31. 查询1990年出生的学生名单

```mysql
select s_name from student where s_birth like '1990%'
```

32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 

```mysql
select c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC
```

33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 

```mysql
select a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a
left join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85
```

34. 查询课程名称为"数学"，且分数低于60的学生姓名和分数 	

```mysql
select a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(
select c_id from course where c_name ='数学') and b.s_score<60
```

35. 查询所有学生的课程及分数情况；

```mysql
select a.s_id,a.s_name,
SUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',
SUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',
SUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',
SUM(b.s_score) as  '总分'
from student a left join score b on a.s_id = b.s_id 
left join course c on b.c_id = c.c_id 
GROUP BY a.s_id,a.s_name
```

36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； 

```mysql
select a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id
left join student a on a.s_id=c.s_id where c.s_score>=70
```

37. 查询不及格的课程

```mysql
select a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id
where a.s_score<60 
```

38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； 

```mysql
select a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id
where a.c_id = '01'and a.s_score>80
```

39. 求每门课程的学生人数 

```mysql
select count(*) from score GROUP BY c_id;
```

40. 查询选修"张三"老师所授课程的学生中，成绩最高的学生信息及其成绩

```mysql
-- 查询老师id	
select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'
-- 查询最高分（可能有相同分数）
select MAX(s_score) from score where c_id='02'
-- 查询信息
select a.*,b.s_score,b.c_id,c.c_name from student a
LEFT JOIN score b on a.s_id = b.s_id
LEFT JOIN course c on b.c_id=c.c_id
where b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')
and b.s_score in (select MAX(s_score) from score where c_id='02')
```

41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 

```mysql
select DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score
```

42. 查询每门功成绩最好的前两名 

```mysql
select a.s_id,a.c_id,a.s_score from score a
where (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id
```

43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  

```mysql
select c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC
```

44. 检索至少选修两门课程的学生学号 

```mysql
select s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2
```

45. 查询选修了全部课程的学生信息 

```mysql
select * from student where s_id in(		
select s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))
```

46. 查询各学生的年龄

```mysql
# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一
select s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - 
(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age
from student;
```

47. 查询本周过生日的学生

```mysql
select * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)
select * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))
	
select WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))
```

48. 查询下周过生日的学生

```mysql
select * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)
```

49. 查询本月过生日的学生

```mysql
select * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)
```

50. 查询下月过生日的学生

```mysql
select * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)
```

, summary=MySQL练习题, cover=null, views=59, commentCount=1, likeCount=0, top=false, recommend=true, createTime=2020-04-19T15:51:17, updateTime=2020-04-19T21:31:59, enable=true, deleted=null, version=null, category={id=3, categoryName=数据库, parentCategoryId=null, enable=null, deleted=null}, tagList=[{id=3, name=mysql, enable=null, deleted=null}]}], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), java.lang.ClassCastException: java.lang.String cannot be cast to cn.codexing.blog.security.JwtUser
	at cn.codexing.blog.controller.UserController.userInfo(UserController.java:116)
	at cn.codexing.blog.controller.UserController$$FastClassBySpringCGLIB$$4852f1a1.invoke(<generated>)
	at cn.codexing.blog.common.aspect.RequestLogAspect.doAround(RequestLogAspect.java:74)
	at cn.codexing.blog.controller.UserController$$EnhancerBySpringCGLIB$$e43694bf.userInfo(<generated>)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at cn.codexing.blog.common.filter.ImageCodeFilter.doFilterInternal(ImageCodeFilter.java:64)
	at cn.codexing.blog.common.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
(String), POST(String), 40(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:41:24.704 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:42:11.437 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:42:11.437 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:42:11.438 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:42:11.439 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:42:11.439 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:42:11.440 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:42:11.529 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:42:11.530 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:42:11.530 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:42:11.531 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:42:11.531 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:42:11.532 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:42:11.538 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getUserInfo.debug:143 -==>  Preparing: select id,username,avatar,email,tel,birthday,gender,user_create_time from sys_user where id=? 
2020-05-14 18:42:11.539 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getUserInfo.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:42:11.540 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysUserMapper.getUserInfo.debug:143 -<==      Total: 1
2020-05-14 18:42:11.544 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:42:11.545 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/myinfo/1(String), [1](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":{"avatar":"http://cdn.codexing.cn/avatar","birthday":"1998-11-01","email":"2933575030@qq.com","gender":1,"id":1,"tel":"18888888888","userCreateTime":"2020-04-21 17:55:53","username":"admin"},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:42:11.549 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:42:41.209 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:42:41.209 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:42:41.210 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:42:41.211 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:42:41.211 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:42:41.212 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:42:41.300 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==>  Preparing: select id,username,avatar,password from sys_user where username=? 
2020-05-14 18:42:41.300 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -==> Parameters: admin(String)
2020-05-14 18:42:41.301 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysUserMapper.getByUsername.debug:143 -<==      Total: 1
2020-05-14 18:42:41.301 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==>  Preparing: SELECT r.id, r.NAME FROM sys_role r INNER JOIN sys_user_role sur ON sur.role_id = r.id WHERE sur.user_id = ? 
2020-05-14 18:42:41.301 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -==> Parameters: 1(Integer)
2020-05-14 18:42:41.302 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysRoleMapper.listRoleByUserId.debug:143 -<==      Total: 2
2020-05-14 18:42:41.307 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:42:41.308 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:42:41.309 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:42:41.310 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:42:41.312 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:42:41.313 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:42:41.314 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.315 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:42:41.316 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:42:41.316 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.318 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:42:41.319 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:42:41.320 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.321 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:42:41.322 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:42:41.323 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.325 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:42:41.326 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:42:41.327 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.328 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:42:41.329 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:42:41.330 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.331 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:42:41.331 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:42:41.332 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.334 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:42:41.334 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:42:41.335 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.337 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:42:41.337 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:42:41.338 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.339 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:42:41.340 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:42:41.342 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.344 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:42:41.344 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:42:41.345 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.346 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:42:41.347 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:42:41.348 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.349 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:42:41.349 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:42:41.351 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.352 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:42:41.353 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:42:41.354 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:42:41.355 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:42:41.355 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:42:41.357 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.359 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:42:41.359 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:42:41.361 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:42:41.361 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:42:41.364 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:42:41.365 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 59(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:42:41.371 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:47:22.227 DEBUG [main]cn.codexing.blog.BlogApplication.logStarting:56 -Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-05-14 18:47:27.354 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'jwtAuthenticationFilter' configured for use
2020-05-14 18:47:27.354 DEBUG [main]cn.codexing.blog.common.filter.ImageCodeFilter.init:242 -Filter 'imageCodeFilter' configured for use
2020-05-14 18:47:27.355 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'authenticationTokenFilterBean' configured for use
2020-05-14 18:49:16.253 DEBUG [main]cn.codexing.blog.BlogApplication.logStarting:56 -Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-05-14 18:49:20.494 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'jwtAuthenticationFilter' configured for use
2020-05-14 18:49:20.495 DEBUG [main]cn.codexing.blog.common.filter.ImageCodeFilter.init:242 -Filter 'imageCodeFilter' configured for use
2020-05-14 18:49:20.496 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'authenticationTokenFilterBean' configured for use
2020-05-14 18:49:48.021 DEBUG [main]cn.codexing.blog.BlogApplication.logStarting:56 -Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-05-14 18:49:52.023 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'jwtAuthenticationFilter' configured for use
2020-05-14 18:49:52.024 DEBUG [main]cn.codexing.blog.common.filter.ImageCodeFilter.init:242 -Filter 'imageCodeFilter' configured for use
2020-05-14 18:49:52.025 DEBUG [main]cn.codexing.blog.common.filter.JwtAuthenticationFilter.init:242 -Filter 'authenticationTokenFilterBean' configured for use
2020-05-14 18:49:59.460 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:49:59.491 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/qq(String), [](String), 1(Integer), GET(String), 7(Long), {"code":20000,"msg":"https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101873713&redirect_uri=http://localhost:8088/oauth2/qq/callback&state=qq.state"}(String), 0:0:0:0:0:0:0:1(String)
2020-05-14 18:49:59.497 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:50:55.834 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:50:55.835 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/qq(String), [](String), 1(Integer), GET(String), 3(Long), {"code":20000,"msg":"https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101873713&redirect_uri=http://localhost:8088/oauth2/qq/callback&state=qq.state"}(String), 0:0:0:0:0:0:0:1(String)
2020-05-14 18:50:55.840 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:56:22.824 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:56:22.826 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 24(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 18:56:22.831 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:08.864 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:57:08.866 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:57:08.876 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:57:08.878 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:57:08.886 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:57:08.890 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:08.893 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:08.897 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:08.898 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:08.900 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:08.900 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 41(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:08.901 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:08.903 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:08.907 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:08.912 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:57:08.941 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:08.942 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 66(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:08.946 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:09.001 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:57:09.001 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:57:09.002 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:57:09.002 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:57:09.009 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:57:09.009 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:57:09.010 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:57:09.010 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:57:09.013 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:09.014 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:57:09.014 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:09.015 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:57:09.016 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.018 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:09.021 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.021 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:57:09.023 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:09.024 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.024 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:57:09.028 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:09.028 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.029 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:57:09.030 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.031 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:09.032 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:09.032 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:09.033 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:57:09.034 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.035 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.035 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:09.037 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:09.038 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:09.039 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:57:09.039 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.041 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.042 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:09.043 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:57:09.043 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:09.044 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:57:09.044 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.046 DEBUG [http-nio-8088-exec-10]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.046 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:09.047 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:57:09.047 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:57:09.048 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.051 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:09.053 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:57:09.056 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.057 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:09.058 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:57:09.059 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:09.060 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.060 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 105(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:09.062 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:09.063 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:57:09.064 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:09.064 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.066 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:09.068 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:57:09.071 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.073 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:09.074 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:57:09.075 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.078 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:09.079 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:57:09.080 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.083 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:09.084 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:57:09.086 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.088 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:09.089 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:57:09.091 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:57:09.093 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:09.094 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:57:09.096 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.099 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:09.100 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:57:09.103 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:09.105 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:57:09.114 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:09.116 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 163(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:09.120 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:44.506 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:57:44.505 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:57:44.511 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:57:44.511 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:57:44.513 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:57:44.515 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:57:44.517 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:44.519 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:57:44.520 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:57:44.520 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.519 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:57:44.523 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:44.521 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:57:44.524 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:57:44.524 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:57:44.528 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:44.530 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:57:44.531 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.532 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.534 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:44.534 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:44.535 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:57:44.537 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:57:44.538 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.541 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:44.539 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.544 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:44.546 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.550 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:44.549 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:44.551 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:44.551 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:57:44.553 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.556 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:44.557 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:57:44.555 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.564 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.566 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:44.567 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:57:44.567 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:44.568 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:44.569 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.565 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:44.571 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:44.571 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:57:44.572 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.572 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:57:44.573 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:44.574 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:44.574 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.573 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.577 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:44.578 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.578 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:44.578 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:57:44.579 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:57:44.579 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:57:44.580 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.581 DEBUG [http-nio-8088-exec-4]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.582 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:44.583 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:57:44.583 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:44.583 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:57:44.584 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 71(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:44.585 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.586 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:44.588 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:57:44.588 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:44.588 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:44.594 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.594 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 82(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:44.598 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:44.599 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:44.600 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:57:44.604 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.606 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:44.607 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:57:44.610 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.615 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:44.617 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:57:44.619 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.621 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:44.622 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:57:44.624 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:57:44.627 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:44.628 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:57:44.630 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.631 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:44.632 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:57:44.633 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:44.636 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:57:44.644 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:44.648 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 139(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:44.662 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:44.835 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:57:44.835 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:57:44.837 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:57:44.839 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:44.840 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 4(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:44.843 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:49.532 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 18:57:49.533 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 18:57:49.534 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:57:49.534 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 18:57:49.536 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 18:57:49.536 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 18:57:49.536 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 18:57:49.536 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 18:57:49.538 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:49.538 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:49.539 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:57:49.539 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 18:57:49.541 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.541 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.543 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:49.543 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:49.544 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 18:57:49.544 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 18:57:49.546 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.546 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.548 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:49.548 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:49.549 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:49.549 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 18:57:49.551 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.551 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.553 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:49.553 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:49.554 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:49.554 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 18:57:49.556 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.556 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.560 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:49.560 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:49.561 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:57:49.561 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 18:57:49.563 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.563 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.565 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 18:57:49.565 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:49.566 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 18:57:49.566 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 18:57:49.568 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.568 DEBUG [http-nio-8088-exec-9]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.569 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 18:57:49.570 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:49.570 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:57:49.571 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:49.572 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.572 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 260(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:49.575 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:49.576 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 18:57:49.578 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.581 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:49.582 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:49.582 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:57:49.584 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.586 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:49.587 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 18:57:49.588 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.589 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:49.591 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:57:49.593 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.594 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:49.595 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 18:57:49.597 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.599 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:49.600 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:57:49.601 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.602 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:49.603 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 18:57:49.604 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 18:57:49.606 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:49.606 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:57:49.608 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.611 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:49.612 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 18:57:49.614 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.615 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 18:57:49.622 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:49.626 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 308(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:49.628 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 18:57:49.629 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 18:57:49.631 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 18:57:49.632 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:49.633 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:49.635 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 9(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:49.638 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 18:57:49.644 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 18:57:49.645 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 18:57:49.647 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 18:57:49.648 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:49.650 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.651 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 18:57:49.652 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 18:57:49.653 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 18:57:49.654 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 18:57:49.656 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 18:57:49.658 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 35(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 18:57:49.661 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:00:58.462 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:00:58.464 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /user/login/github(String), [](String), 1(Integer), GET(String), 2(Long), {"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}(String), 127.0.0.1(String)
2020-05-14 19:00:58.466 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:01.571 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 19:01:01.576 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 19:01:01.578 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 19:01:01.579 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 19:01:01.585 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 19:01:01.585 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:01.586 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 19:01:01.586 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 19:01:01.587 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.587 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 19:01:01.589 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 19:01:01.590 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:01.591 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 19:01:01.592 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:01.592 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.593 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 19:01:01.593 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:01.594 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.594 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 19:01:01.595 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:01.596 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.596 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 19:01:01.598 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:01.598 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.599 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 19:01:01.600 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.600 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:01.601 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 19:01:01.602 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:01.603 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 19:01:01.603 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.604 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.604 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:01.605 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 19:01:01.605 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:01.606 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.606 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 19:01:01.607 DEBUG [http-nio-8088-exec-6]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.607 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:01.607 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 19:01:01.607 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 19:01:01.608 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.609 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:01.609 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:01.610 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 19:01:01.610 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 43(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:01.611 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.612 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:01.612 DEBUG [http-nio-8088-exec-6]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:01.613 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 19:01:01.614 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.616 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:01.617 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 19:01:01.619 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.621 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:01.622 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 19:01:01.623 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.625 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:01.626 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 19:01:01.627 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.629 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:01.630 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 19:01:01.632 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.633 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:01.634 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 19:01:01.635 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.638 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:01.639 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 19:01:01.641 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.642 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:01.642 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 19:01:01.643 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 19:01:01.645 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:01.645 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 19:01:01.646 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.647 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:01.649 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 19:01:01.650 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.651 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 19:01:01.655 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:01.656 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 93(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:01.660 DEBUG [http-nio-8088-exec-8]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:01.873 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 19:01:01.873 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 19:01:01.875 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:01.876 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 19:01:01.876 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 19:01:01.876 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 19:01:01.877 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.879 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:01.880 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 19:01:01.882 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 19:01:01.883 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:01.884 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 19:01:01.885 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:01.886 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 10(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:01.888 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:01.888 DEBUG [http-nio-8088-exec-3]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:01.888 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 15(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:01.891 DEBUG [http-nio-8088-exec-4]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:27.100 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM category WHERE deleted = 0 
2020-05-14 19:01:27.101 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 19:01:27.102 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -==>  Preparing: select id,category_name,enable from category WHERE deleted = 0 LIMIT ?,? 
2020-05-14 19:01:27.102 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 19:01:27.104 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:27.104 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 19:01:27.105 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 19:01:27.107 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:27.108 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 19:01:27.109 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 19:01:27.110 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:27.110 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 19:01:27.111 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 19:01:27.113 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:27.113 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 19:01:27.114 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 19:01:27.115 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_category ac on a.id=ac.article_id WHERE ac.category_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:27.116 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 19:01:27.117 DEBUG [http-nio-8088-exec-7]c.c.blog.mapper.ArticleMapper.getArticleCountByTypeId.debug:143 -<====      Total: 1
2020-05-14 19:01:27.117 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.CategoryMapper.getByPage.debug:143 -<==      Total: 5
2020-05-14 19:01:27.122 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:27.123 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /category/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 26(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"1","categoryName":"测试","enable":true,"id":1},{"articleCount":"3","categoryName":"微服务","enable":true,"id":2},{"articleCount":"2","categoryName":"数据库","enable":true,"id":3},{"articleCount":"1","categoryName":"其他","enable":true,"id":4},{"articleCount":"0","categoryName":"转载","enable":true,"id":5}],"pageSize":20,"params":{},"totalCount":5,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:27.127 DEBUG [http-nio-8088-exec-7]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:28.484 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.findGroupYear.debug:143 -==>  Preparing: SELECT DATE_FORMAT(create_time,'%Y') AS YEAR FROM article GROUP BY YEAR ORDER BY YEAR DESC 
2020-05-14 19:01:28.485 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.findGroupYear.debug:143 -==> Parameters: 
2020-05-14 19:01:28.489 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.findGroupYear.debug:143 -<==      Total: 2
2020-05-14 19:01:28.492 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==>  Preparing: SELECT id,title,create_time FROM article WHERE DATE_FORMAT(create_time,'%Y') = ? and enable=1 order by create_time desc 
2020-05-14 19:01:28.493 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==> Parameters: 2020(String)
2020-05-14 19:01:28.495 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -<==      Total: 12
2020-05-14 19:01:28.497 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==>  Preparing: SELECT id,title,create_time FROM article WHERE DATE_FORMAT(create_time,'%Y') = ? and enable=1 order by create_time desc 
2020-05-14 19:01:28.498 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -==> Parameters: 2019(String)
2020-05-14 19:01:28.500 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.ArticleMapper.findByYear.debug:143 -<==      Total: 2
2020-05-14 19:01:28.511 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:28.512 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/archive/list(String), [](String), 1(Integer), GET(String), 21(Long), {"code":20000,"data":[{"articles":[{"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","title":"mysql练习题"},{"createTime":"2020-04-19 15:36:25","id":"1251776651612700674","title":"springboot jackson"},{"createTime":"2020-04-19 15:12:12","id":"1251770557519675394","title":"test"},{"createTime":"2020-04-19 13:52:57","id":"1251750614375907330","title":"123123123"},{"createTime":"2020-04-19 12:15:26","id":"1251726075243896833","title":"sdfsdf"},{"createTime":"2020-04-19 12:14:41","id":"1251725884101074946","title":"sdf"},{"createTime":"2020-04-19 12:11:56","id":"1251725190564519937","title":"阿道夫啊实打实的"},{"createTime":"2020-04-19 11:36:19","id":"1251716229803122690","title":"上的撒旦发射点"},{"createTime":"2020-04-18 17:30:52","id":"6","title":"save"},{"createTime":"2020-04-18 11:00:05","id":"5","title":"12515215"},{"createTime":"2020-04-08 10:54:04","id":"2","title":"这是推荐阅读的文章哇"},{"createTime":"2020-03-23 15:55:15","id":"1","title":"mybatis plus 乐观锁测试时间"}],"year":"2020"},{"articles":[{"createTime":"2019-06-17 23:48:04","id":"3","title":"岁的法国士大夫"},{"createTime":"2019-06-14 12:21:50","id":"4","title":"这是置顶的文章哇"}],"year":"2019"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:28.515 DEBUG [http-nio-8088-exec-9]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:49.576 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM article WHERE deleted = 0 
2020-05-14 19:01:49.576 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 19:01:49.578 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==>  Preparing: SELECT id,author,title,content,summary,cover, views,comment_count,like_count,top, recommend,create_time,update_time,enable FROM article WHERE deleted=0 order by top desc, create_time desc LIMIT ?,? 
2020-05-14 19:01:49.578 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -==> Parameters: 0(Long), 10(Long)
2020-05-14 19:01:49.581 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:49.582 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 19:01:49.584 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.586 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:49.587 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 4(String)
2020-05-14 19:01:49.588 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.589 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:49.590 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 19:01:49.591 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.593 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:49.593 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: SELECT COUNT(1) FROM tag WHERE deleted = 0 
2020-05-14 19:01:49.593 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 19:01:49.594 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 
2020-05-14 19:01:49.595 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.595 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==>  Preparing: select id,name,enable from tag WHERE deleted = 0 LIMIT ?,? 
2020-05-14 19:01:49.596 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -==> Parameters: 0(Long), 20(Long)
2020-05-14 19:01:49.596 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:49.597 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 19:01:49.597 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==>  Preparing: SELECT id, title, create_time, like_count FROM article WHERE deleted = 0 AND recommend = 1 AND enable = 1 ORDER BY ( views + like_count ) DESC LIMIT 5 
2020-05-14 19:01:49.597 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:49.598 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -==> Parameters: 
2020-05-14 19:01:49.598 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 1(Integer)
2020-05-14 19:01:49.599 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.600 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.600 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:49.600 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:49.601 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 19:01:49.601 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251776651612700674(String)
2020-05-14 19:01:49.601 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:49.602 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 2(Integer)
2020-05-14 19:01:49.602 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.602 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.603 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.603 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:49.603 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:49.604 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251780392676016129(String)
2020-05-14 19:01:49.604 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 19:01:49.604 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:49.605 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.605 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.605 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 3(Integer)
2020-05-14 19:01:49.606 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.ArticleMapper.getReCommendList.debug:143 -<==      Total: 1
2020-05-14 19:01:49.606 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.606 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:49.607 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251752142763507713(String)
2020-05-14 19:01:49.608 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:49.608 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.608 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 4(Integer)
2020-05-14 19:01:49.609 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:49.609 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/recommend/list(String), [](String), 1(Integer), GET(String), 18(Long), {"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:49.610 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.610 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:49.610 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 19:01:49.611 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:49.612 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.612 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 5(Integer)
2020-05-14 19:01:49.613 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:49.614 DEBUG [http-nio-8088-exec-2]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:49.613 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.614 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251750614375907330(String)
2020-05-14 19:01:49.615 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====>  Preparing: select count(*) as articleCount from article a left join article_tag att on a.id=att.article_id WHERE att.tag_id = ? AND a.enable = 1 AND a.deleted = 0 
2020-05-14 19:01:49.616 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.616 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -====> Parameters: 6(Integer)
2020-05-14 19:01:49.618 DEBUG [http-nio-8088-exec-1]c.c.blog.mapper.ArticleMapper.getArticleCountByTagId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.618 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:49.618 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.TagMapper.getByPage.debug:143 -<==      Total: 6
2020-05-14 19:01:49.619 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 19:01:49.620 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.621 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:49.621 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:49.622 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1251725190564519937(String)
2020-05-14 19:01:49.622 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /tag/list(String), [PageUtils(totalCount=0, pageSize=20, totalPage=0, currPage=1, list=[], params={isEnable=1}, sortColumn=)](String), 1(Integer), POST(String), 32(Long), {"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:49.623 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.624 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:49.624 DEBUG [http-nio-8088-exec-1]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:49.625 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 19:01:49.626 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.628 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:49.629 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 1(String)
2020-05-14 19:01:49.630 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 2
2020-05-14 19:01:49.631 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====>  Preparing: select c.id,c.category_name from category c left join article_category ac on c.id=ac.category_id WHERE ac.article_id = ? AND c.enable = 1 AND c.deleted = 0 
2020-05-14 19:01:49.632 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 19:01:49.634 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.CategoryMapper.getByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.635 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====>  Preparing: select t.id,t.name from tag t left join article_tag att on t.id=att.tag_id WHERE att.article_id = ? AND t.enable = 1 AND t.deleted = 0 
2020-05-14 19:01:49.636 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -====> Parameters: 3(String)
2020-05-14 19:01:49.637 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.TagMapper.listByArticleId.debug:143 -<====      Total: 1
2020-05-14 19:01:49.638 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.ArticleMapper.getByPage.debug:143 -<==      Total: 8
2020-05-14 19:01:49.646 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:49.647 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /article/list(String), [PageUtils(totalCount=0, pageSize=10, totalPage=0, currPage=1, list=[], params={isEnable=true}, sortColumn=create_time)](String), 1(Integer), POST(String), 66(Long), {"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:49.653 DEBUG [http-nio-8088-exec-5]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
2020-05-14 19:01:49.870 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==>  Preparing: select * from friend_link where enable=1 
2020-05-14 19:01:49.871 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -==> Parameters: 
2020-05-14 19:01:49.872 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.FriendLinkMapper.listEnableLink.debug:143 -<==      Total: 3
2020-05-14 19:01:49.875 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==>  Preparing: INSERT INTO sys_log ( url, params, status, method, used_time, result, ip ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-05-14 19:01:49.876 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -==> Parameters: /link/list/enable(String), [](String), 1(Integer), GET(String), 7(Long), {"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}(String), 127.0.0.1(String)
2020-05-14 19:01:49.880 DEBUG [http-nio-8088-exec-10]cn.codexing.blog.mapper.SysLogMapper.insert.debug:143 -<==    Updates: 1
