2020-05-14 17:05:53.454 INFO  [main]org.springframework.core.KotlinDetector.<clinit>:57 -Kotlin reflection implementation not found at runtime, related features won't be available.
2020-05-14 17:05:54.631 INFO  [main]cn.codexing.blog.BlogApplication.logStarting:55 -Starting BlogApplication on GUOXING with PID 5624 (E:\2020\myblog2.0\blog-backend\target\classes started by GuoXing in E:\2020\myblog2.0\blog-backend)
2020-05-14 17:05:54.651 INFO  [main]cn.codexing.blog.BlogApplication.logStartupProfileInfo:655 -The following profiles are active: dev
2020-05-14 17:05:58.606 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected:249 -Multiple Spring Data modules found, entering strict repository configuration mode!
2020-05-14 17:05:58.609 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-05-14 17:05:58.660 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 -Finished Spring Data repository scanning in 34ms. Found 0 Redis repository interfaces.
2020-05-14 17:05:59.032 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 17:05:59.100 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 17:05:59.106 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@315f09ef' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 17:05:59.109 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 17:05:59.123 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 17:05:59.135 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'redisConfig' of type [cn.codexing.blog.common.config.RedisConfig$$EnhancerBySpringCGLIB$$4ee48f6d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 17:05:59.791 INFO  [main]o.s.boot.web.embedded.tomcat.TomcatWebServer.initialize:92 -Tomcat initialized with port(s): 8088 (http)
2020-05-14 17:05:59.801 INFO  [main]org.apache.coyote.http11.Http11NioProtocol.log:173 -Initializing ProtocolHandler ["http-nio-8088"]
2020-05-14 17:05:59.801 INFO  [main]org.apache.catalina.core.StandardService.log:173 -Starting service [Tomcat]
2020-05-14 17:05:59.802 INFO  [main]org.apache.catalina.core.StandardEngine.log:173 -Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-05-14 17:05:59.928 INFO  [main]o.a.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log:173 -Initializing Spring embedded WebApplicationContext
2020-05-14 17:05:59.928 INFO  [main]org.springframework.web.context.ContextLoader.prepareWebApplicationContext:284 -Root WebApplicationContext: initialization completed in 5151 ms
2020-05-14 17:06:03.469 INFO  [main]s.d.s.web.PropertySourcedRequestMappingHandlerMapping.initHandlerMethods:69 -Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-14 17:06:05.929 INFO  [main]o.s.security.web.DefaultSecurityFilterChain.<init>:43 -Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63c99f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@2dc21583, org.springframework.security.web.header.HeaderWriterFilter@5dae5a70, org.springframework.security.web.authentication.logout.LogoutFilter@54bb1194, cn.codexing.blog.common.filter.JwtAuthenticationFilter@5aa76ad2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@770cae59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60816371, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72324965, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f012923, org.springframework.security.web.session.SessionManagementFilter@47c96f2c, org.springframework.security.web.access.ExceptionTranslationFilter@67fac095, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f5c187d]
2020-05-14 17:06:06.664 INFO  [main]s.d.spring.web.plugins.DocumentationPluginsBootstrapper.start:160 -Context refreshed
2020-05-14 17:06:06.756 INFO  [main]s.d.spring.web.plugins.DocumentationPluginsBootstrapper.start:163 -Found 1 custom documentation plugin(s)
2020-05-14 17:06:06.791 INFO  [main]s.d.spring.web.scanners.ApiListingReferenceScanner.scan:41 -Scanning for api listing references
2020-05-14 17:06:06.985 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByPageUsingPOST_1
2020-05-14 17:06:07.020 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_1
2020-05-14 17:06:07.028 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByPageUsingPOST_2
2020-05-14 17:06:07.034 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_2
2020-05-14 17:06:07.047 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_3
2020-05-14 17:06:07.058 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_4
2020-05-14 17:06:07.066 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByPageUsingPOST_3
2020-05-14 17:06:07.132 INFO  [main]org.apache.coyote.http11.Http11NioProtocol.log:173 -Starting ProtocolHandler ["http-nio-8088"]
2020-05-14 17:06:07.159 INFO  [main]o.s.boot.web.embedded.tomcat.TomcatWebServer.start:204 -Tomcat started on port(s): 8088 (http) with context path ''
2020-05-14 17:06:07.162 INFO  [main]cn.codexing.blog.BlogApplication.logStarted:61 -Started BlogApplication in 13.582 seconds (JVM running for 15.368)
2020-05-14 17:07:11.513 INFO  [http-nio-8088-exec-1]o.a.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log:173 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-14 17:07:11.514 INFO  [http-nio-8088-exec-1]org.springframework.web.servlet.DispatcherServlet.initServletBean:525 -Initializing Servlet 'dispatcherServlet'
2020-05-14 17:07:11.552 INFO  [http-nio-8088-exec-1]org.springframework.web.servlet.DispatcherServlet.initServletBean:547 -Completed initialization in 35 ms
2020-05-14 17:07:11.640 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:07:11.643 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:11.640 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:07:11.646 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:11.663 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:11.662 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:11.668 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:07:11.669 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:11.671 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:07:11.673 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:12.039 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:07:12.039 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:07:12.039 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:07:12.039 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:07:12.040 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:12.040 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:12.041 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:07:12.041 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:07:12.042 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:12.042 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:12.074 INFO  [http-nio-8088-exec-3]com.alibaba.druid.pool.DruidDataSource.init:1003 -{dataSource-1} inited
2020-05-14 17:07:12.374 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：735
2020-05-14 17:07:12.400 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：760
2020-05-14 17:07:12.411 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:07:12.429 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：390
2020-05-14 17:07:12.437 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:07:12.451 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:07:12.479 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：440
2020-05-14 17:07:12.483 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":53},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":13},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:07:16.257 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:07:16.267 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:07:16.267 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:16.268 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:07:16.269 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:16.338 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：81
2020-05-14 17:07:16.339 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:07:16.573 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:07:16.575 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:16.576 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:16.576 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:07:16.576 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:16.577 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 17:07:16.577 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 17:07:16.577 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:16.577 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:16.577 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:16.578 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:07:16.579 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:16.578 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:16.579 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:07:16.580 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:16.588 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 17:07:16.589 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:07:16.596 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：19
2020-05-14 17:07:16.596 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 17:07:16.623 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：46
2020-05-14 17:07:16.625 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":53},"msg":"操作成功"}
2020-05-14 17:07:23.200 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 17:07:23.201 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:23.202 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:23.202 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 17:07:23.203 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:23.207 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 17:07:23.208 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 17:07:34.386 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.handler.LoginSuccessHandler.onAuthenticationSuccess:35 -用户为====>admin登录成功
2020-05-14 17:07:34.814 INFO  [http-nio-8088-exec-10]io.lettuce.core.EpollProvider.<clinit>:68 -Starting without optional epoll library
2020-05-14 17:07:34.816 INFO  [http-nio-8088-exec-10]io.lettuce.core.KqueueProvider.<clinit>:70 -Starting without optional kqueue library
2020-05-14 17:07:35.576 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 17:07:35.576 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:35.577 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:35.577 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 17:07:35.578 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:35.578 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2
2020-05-14 17:07:35.581 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 17:07:36.297 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:07:36.297 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:07:36.298 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:36.298 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:07:36.298 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:36.344 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:07:36.345 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:07:36.346 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:36.346 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:07:36.346 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:36.347 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:07:36.347 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:36.347 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:36.349 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:07:36.349 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:36.353 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:07:36.353 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:36.354 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:36.354 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:07:36.354 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:36.358 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 17:07:36.358 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:07:36.361 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 17:07:36.362 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:07:36.381 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：84
2020-05-14 17:07:36.384 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":54},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":13},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:07:36.390 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：46
2020-05-14 17:07:36.391 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:07:38.993 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 17:07:38.994 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:38.994 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:38.995 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:07:38.995 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:39.014 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 17:07:39.014 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":54},"msg":"操作成功"}
2020-05-14 17:07:39.416 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:07:39.417 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:07:39.417 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:39.417 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:07:39.417 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:39.439 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：23
2020-05-14 17:07:39.440 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:07:39.462 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 17:07:39.462 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:39.462 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:39.463 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:07:39.463 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:39.464 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:07:39.464 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:39.464 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:39.465 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:07:39.465 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:39.467 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 17:07:39.467 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 17:07:39.476 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:07:39.477 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:07:47.653 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:07:47.654 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:07:47.654 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:47.654 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:07:47.655 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:47.696 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:07:47.696 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:47.697 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:47.696 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:07:47.698 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:07:47.698 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:07:47.698 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:47.698 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:47.698 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:07:47.699 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:47.710 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：57
2020-05-14 17:07:47.711 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":55},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":13},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:07:47.712 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:07:47.714 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：18
2020-05-14 17:07:47.716 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:07:47.713 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:47.725 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:47.726 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:07:47.727 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:47.728 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：32
2020-05-14 17:07:47.729 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:07:47.733 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 17:07:47.734 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:07:54.628 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:07:54.628 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:07:54.629 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:54.629 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:07:54.630 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:54.661 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：33
2020-05-14 17:07:54.662 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:07:54.673 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:07:54.673 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:54.674 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:54.674 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:07:54.675 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:54.680 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:07:54.681 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:54.681 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:54.682 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:07:54.682 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:07:54.682 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:54.682 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:07:54.683 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:07:54.684 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:07:54.685 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:07:54.690 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：17
2020-05-14 17:07:54.691 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 17:07:54.691 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":13},"msg":"操作成功"}
2020-05-14 17:07:54.691 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 17:07:54.692 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:07:54.693 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:08:00.566 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/save
2020-05-14 17:08:00.567 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:08:00.567 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:08:00.567 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.saveComment
2020-05-14 17:08:00.567 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:08:00.577 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 17:08:00.578 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"评论成功"}
2020-05-14 17:08:01.090 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:08:01.090 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:08:01.091 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:08:01.091 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:08:01.091 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:08:01.105 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 17:08:01.108 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:08:10.155 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/save
2020-05-14 17:08:10.155 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:08:10.156 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:08:10.156 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.saveComment
2020-05-14 17:08:10.156 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:08:10.167 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:08:10.167 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"评论成功"}
2020-05-14 17:08:10.400 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:08:10.400 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:08:10.400 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:08:10.401 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:08:10.401 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:08:10.410 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 17:08:10.411 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:09:06.797 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:09:06.797 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:09:06.798 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:09:06.798 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:09:06.798 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:09:06.811 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 17:09:06.812 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":14},"msg":"操作成功"}
2020-05-14 17:09:07.017 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:09:07.017 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:09:07.017 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:09:07.018 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:09:07.018 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:09:07.026 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 17:09:07.026 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:12:55.382 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:12:55.383 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:12:55.383 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:12:55.384 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:12:55.384 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:12:55.402 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 17:12:55.403 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":15},"msg":"操作成功"}
2020-05-14 17:12:55.523 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:12:55.524 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:12:55.524 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:12:55.524 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:12:55.525 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:12:55.533 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 17:12:55.533 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:13:38.720 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:13:38.721 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:13:38.721 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:13:38.721 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:13:38.721 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:13:38.734 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 17:13:38.734 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":16},"msg":"操作成功"}
2020-05-14 17:13:38.955 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:13:38.955 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:13:38.956 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:13:38.956 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:13:38.957 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:13:38.963 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 17:13:38.964 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:16:30.930 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:16:30.930 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:16:30.931 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:16:30.931 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:16:30.931 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:16:30.952 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：22
2020-05-14 17:16:30.953 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":17},"msg":"操作成功"}
2020-05-14 17:16:31.156 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:16:31.156 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:16:31.157 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:16:31.157 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:16:31.158 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:16:31.165 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 17:16:31.166 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:18:09.603 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:18:09.604 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:18:09.604 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:18:09.605 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:18:09.606 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:18:09.625 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：22
2020-05-14 17:18:09.626 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":18},"msg":"操作成功"}
2020-05-14 17:18:09.830 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:18:09.831 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:18:09.831 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:18:09.832 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:18:09.832 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:18:09.845 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 17:18:09.845 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:21:27.880 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:21:27.881 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:21:27.881 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:21:27.882 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:21:27.882 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:21:27.899 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：19
2020-05-14 17:21:27.900 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":19},"msg":"操作成功"}
2020-05-14 17:21:28.098 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:21:28.099 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:21:28.099 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:21:28.099 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:21:28.099 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:21:28.107 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 17:21:28.107 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:22:48.617 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 17:22:48.618 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:22:48.618 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:22:48.619 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 17:22:48.619 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:22:48.808 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 17:22:48.808 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:22:48.831 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:22:48.832 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 17:22:48.843 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:22:48.862 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：54
2020-05-14 17:22:48.889 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 17:22:57.435 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.handler.LoginSuccessHandler.onAuthenticationSuccess:35 -用户为====>admin登录成功
2020-05-14 17:22:57.764 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 17:22:57.764 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:22:57.765 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:22:57.765 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 17:22:57.765 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:22:57.765 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：1
2020-05-14 17:22:57.766 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 17:22:58.039 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:22:58.039 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:22:58.039 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:22:58.040 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:22:58.040 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:22:58.057 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：18
2020-05-14 17:22:58.057 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":20},"msg":"操作成功"}
2020-05-14 17:22:58.479 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:22:58.480 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:22:58.480 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:22:58.481 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:22:58.481 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:22:58.494 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 17:22:58.495 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:22:58.523 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:22:58.524 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:22:58.524 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:22:58.524 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:22:58.525 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:22:58.525 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:22:58.525 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:22:58.525 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:22:58.526 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:22:58.526 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:22:58.535 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:22:58.535 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:22:58.558 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：33
2020-05-14 17:22:58.559 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:26:27.749 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:26:27.749 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:26:27.749 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:26:27.750 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:26:27.750 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:26:27.764 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 17:26:27.764 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":21},"msg":"操作成功"}
2020-05-14 17:26:27.968 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:26:27.969 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:26:27.969 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:26:27.969 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:26:27.969 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:26:27.978 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 17:26:27.978 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:26:32.223 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:26:32.224 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:26:32.224 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:26:32.224 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:26:32.224 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:26:32.239 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：16
2020-05-14 17:26:32.240 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":22},"msg":"操作成功"}
2020-05-14 17:26:32.521 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:26:32.522 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:26:32.522 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:26:32.522 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:26:32.522 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:26:32.529 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 17:26:32.529 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:28:28.405 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:28:28.405 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:28:28.405 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:28.406 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:28:28.406 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:28.415 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 17:28:28.416 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:28:28.452 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:28:28.452 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:28:28.452 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:28:28.452 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:28:28.453 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:28.453 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:28.453 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:28:28.453 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:28:28.453 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:28.454 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:28.457 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:28:28.457 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:28:28.458 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:28.459 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:28:28.460 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:28.465 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 17:28:28.466 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:28:28.483 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：31
2020-05-14 17:28:28.484 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:28:28.522 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：70
2020-05-14 17:28:28.522 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":55},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:28:31.547 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 17:28:31.547 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:28:31.547 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:31.548 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:28:31.548 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:31.561 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 17:28:31.562 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":55},"msg":"操作成功"}
2020-05-14 17:28:31.589 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 17:28:31.589 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:28:31.589 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:31.590 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:28:31.590 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:31.594 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 17:28:31.594 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 17:28:31.848 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:28:31.849 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:28:31.849 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:31.849 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:28:31.849 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:31.868 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 17:28:31.869 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:28:31.891 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:28:31.891 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:28:31.891 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:31.892 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:28:31.892 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:31.899 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 17:28:31.899 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:28:41.109 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/save
2020-05-14 17:28:41.109 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:28:41.110 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:41.110 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.saveComment
2020-05-14 17:28:41.110 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:41.121 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:28:41.121 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"评论成功"}
2020-05-14 17:28:41.362 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 17:28:41.362 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:28:41.362 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:28:41.362 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:28:41.363 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:28:41.367 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 17:28:41.367 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:29:44.362 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:29:44.363 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:29:44.363 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:44.363 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:29:44.363 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:44.408 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:29:44.408 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:29:44.409 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:44.409 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:29:44.409 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:29:44.409 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:44.409 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:29:44.410 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:44.411 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:29:44.411 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：49
2020-05-14 17:29:44.411 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:29:44.412 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:44.412 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:29:44.412 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 17:29:44.412 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:44.413 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:29:44.412 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:29:44.411 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:29:44.422 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:44.423 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:29:44.423 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:29:44.452 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：44
2020-05-14 17:29:44.452 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:29:51.099 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251725190564519937
2020-05-14 17:29:51.099 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:29:51.099 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:51.100 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:29:51.100 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:51.114 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 17:29:51.115 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":5},"msg":"操作成功"}
2020-05-14 17:29:51.526 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251725190564519937
2020-05-14 17:29:51.527 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:29:51.527 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:51.527 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:29:51.528 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:51.533 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 17:29:51.533 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 17:29:51.569 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:29:51.569 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:29:51.570 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:51.570 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:29:51.571 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:51.573 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:29:51.574 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:29:51.574 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:51.575 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:29:51.575 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:51.581 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:29:51.581 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:29:51.601 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：28
2020-05-14 17:29:51.602 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:29:54.112 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:29:54.113 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:29:54.114 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:54.114 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:29:54.114 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:54.156 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:29:54.156 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:29:54.156 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:54.157 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:29:54.157 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:29:54.157 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:29:54.157 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:54.158 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:54.158 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:29:54.158 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:54.160 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:29:54.160 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：48
2020-05-14 17:29:54.161 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:29:54.161 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:29:54.161 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:29:54.162 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:29:54.162 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:29:54.165 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 17:29:54.166 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:29:54.166 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 17:29:54.166 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:29:54.193 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：33
2020-05-14 17:29:54.194 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:30:02.387 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:30:02.388 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:30:02.388 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:02.388 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:30:02.388 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:02.408 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 17:30:02.408 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:30:02.814 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/4
2020-05-14 17:30:02.814 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:30:02.815 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:02.815 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:30:02.815 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:02.817 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 17:30:02.818 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 17:30:02.857 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:30:02.858 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/4
2020-05-14 17:30:02.858 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:30:02.858 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:30:02.858 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:02.858 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:02.858 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:30:02.859 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:30:02.859 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:02.859 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:02.866 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 17:30:02.866 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:30:02.871 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 17:30:02.872 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1167},"msg":"操作成功"}
2020-05-14 17:30:11.788 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:30:11.788 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:30:11.788 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:11.788 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:30:11.789 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:11.832 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:30:11.832 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:30:11.832 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:30:11.832 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:30:11.832 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:11.832 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:11.833 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:30:11.833 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:30:11.833 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:30:11.833 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:11.833 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:11.833 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:30:11.834 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:11.834 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:30:11.834 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:11.836 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 17:30:11.837 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:30:11.841 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 17:30:11.842 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:30:11.854 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：66
2020-05-14 17:30:11.855 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:30:11.860 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：27
2020-05-14 17:30:11.860 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:30:20.314 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/category/list
2020-05-14 17:30:20.315 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:30:20.316 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:20.316 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CategoryController.getByPage
2020-05-14 17:30:20.316 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:20.338 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：24
2020-05-14 17:30:20.340 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"1","categoryName":"测试","enable":true,"id":1},{"articleCount":"3","categoryName":"微服务","enable":true,"id":2},{"articleCount":"2","categoryName":"数据库","enable":true,"id":3},{"articleCount":"1","categoryName":"其他","enable":true,"id":4},{"articleCount":"0","categoryName":"转载","enable":true,"id":5}],"pageSize":20,"params":{},"totalCount":5,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:30:22.129 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/archive/list
2020-05-14 17:30:22.129 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:30:22.130 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:22.130 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listArchive
2020-05-14 17:30:22.130 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:22.140 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 17:30:22.147 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articles":[{"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","title":"mysql练习题"},{"createTime":"2020-04-19 15:36:25","id":"1251776651612700674","title":"springboot jackson"},{"createTime":"2020-04-19 15:12:12","id":"1251770557519675394","title":"test"},{"createTime":"2020-04-19 13:52:57","id":"1251750614375907330","title":"123123123"},{"createTime":"2020-04-19 12:15:26","id":"1251726075243896833","title":"sdfsdf"},{"createTime":"2020-04-19 12:14:41","id":"1251725884101074946","title":"sdf"},{"createTime":"2020-04-19 12:11:56","id":"1251725190564519937","title":"阿道夫啊实打实的"},{"createTime":"2020-04-19 11:36:19","id":"1251716229803122690","title":"上的撒旦发射点"},{"createTime":"2020-04-18 17:30:52","id":"6","title":"save"},{"createTime":"2020-04-18 11:00:05","id":"5","title":"12515215"},{"createTime":"2020-04-08 10:54:04","id":"2","title":"这是推荐阅读的文章哇"},{"createTime":"2020-03-23 15:55:15","id":"1","title":"mybatis plus 乐观锁测试时间"}],"year":"2020"},{"articles":[{"createTime":"2019-06-17 23:48:04","id":"3","title":"岁的法国士大夫"},{"createTime":"2019-06-14 12:21:50","id":"4","title":"这是置顶的文章哇"}],"year":"2019"}],"msg":"操作成功"}
2020-05-14 17:30:32.302 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:30:32.302 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:30:32.303 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:30:32.303 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:30:32.303 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:30:32.346 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：44
2020-05-14 17:30:32.346 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:41:43.112 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 17:41:43.113 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:41:43.115 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:41:43.115 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 17:41:43.119 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:41:43.124 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:41:43.124 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 17:42:01.227 INFO  [lettuce-eventExecutorLoop-1-3]io.lettuce.core.protocol.ConnectionWatchdog.log:171 -Reconnecting, last destination was /39.97.191.230:6379
2020-05-14 17:42:01.277 INFO  [lettuce-nioEventLoop-4-2]io.lettuce.core.protocol.ReconnectionHandler.lambda$null$4:188 -Reconnected to 39.97.191.230:6379
2020-05-14 17:42:21.698 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.handler.LoginSuccessHandler.onAuthenticationSuccess:35 -用户为====>admin登录成功
2020-05-14 17:42:22.033 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 17:42:22.034 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:42:22.034 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:42:22.034 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 17:42:22.035 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:42:22.035 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2
2020-05-14 17:42:22.035 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 17:42:22.372 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:42:22.373 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:42:22.373 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:42:22.374 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:42:22.375 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:42:22.437 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：65
2020-05-14 17:42:22.438 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:42:22.780 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:42:22.780 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:42:22.780 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:42:22.781 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:42:22.781 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:42:22.800 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 17:42:22.800 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:42:22.823 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:42:22.823 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:42:22.824 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:42:22.824 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:42:22.824 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:42:22.824 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:42:22.825 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:42:22.825 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:42:22.825 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:42:22.825 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:42:22.829 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：6
2020-05-14 17:42:22.830 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:42:22.835 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:42:22.836 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:43:38.687 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:43:38.688 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:43:38.688 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:43:38.688 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:43:38.688 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:43:38.706 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：19
2020-05-14 17:43:38.706 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:43:38.729 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:43:38.729 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:43:38.729 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:43:38.729 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:43:38.730 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:43:38.730 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:43:38.730 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:43:38.730 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:43:38.730 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:43:38.730 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:43:38.730 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:43:38.730 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:43:38.731 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:43:38.731 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:43:38.731 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:43:38.740 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 17:43:38.741 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:43:38.741 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:43:38.741 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:43:38.749 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 17:43:38.750 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":23},"msg":"操作成功"}
2020-05-14 17:43:45.069 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:43:45.070 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:43:45.070 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:43:45.071 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:43:45.071 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:43:45.145 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：76
2020-05-14 17:43:45.147 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:43:45.486 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:43:45.486 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:43:45.486 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:43:45.486 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:43:45.487 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:43:45.506 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 17:43:45.506 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:43:45.528 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:43:45.528 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:43:45.529 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:43:45.529 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:43:45.529 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:43:45.529 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:43:45.530 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:43:45.530 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:43:45.530 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:43:45.530 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:43:45.534 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：6
2020-05-14 17:43:45.534 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:43:45.540 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:43:45.541 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:48:39.984 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 17:48:39.986 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:48:39.986 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:39.987 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 17:48:39.988 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:39.988 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 17:48:39.989 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 17:48:47.669 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.handler.LoginSuccessHandler.onAuthenticationSuccess:35 -用户为====>admin登录成功
2020-05-14 17:48:50.227 INFO  [lettuce-eventExecutorLoop-1-4]io.lettuce.core.protocol.ConnectionWatchdog.log:171 -Reconnecting, last destination was /39.97.191.230:6379
2020-05-14 17:48:50.276 INFO  [lettuce-nioEventLoop-4-3]io.lettuce.core.protocol.ReconnectionHandler.lambda$null$4:188 -Reconnected to 39.97.191.230:6379
2020-05-14 17:48:51.208 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.handler.LoginSuccessHandler.onAuthenticationSuccess:35 -用户为====>admin登录成功
2020-05-14 17:48:51.549 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 17:48:51.550 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:48:51.550 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:51.551 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 17:48:51.551 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:51.551 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2
2020-05-14 17:48:51.552 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 17:48:51.985 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:48:51.985 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:48:51.986 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:51.986 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:48:51.986 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:52.043 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：58
2020-05-14 17:48:52.044 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:48:52.371 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:48:52.372 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:48:52.373 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:52.373 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:48:52.373 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:52.402 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：31
2020-05-14 17:48:52.402 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:48:52.415 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:48:52.415 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:48:52.416 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:52.416 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:48:52.417 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:52.425 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:48:52.425 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:48:52.425 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:52.426 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:48:52.426 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:52.427 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:48:52.428 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:48:52.430 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 17:48:52.432 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:48:55.096 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251780392676016129
2020-05-14 17:48:55.097 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:48:55.097 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:55.098 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:48:55.098 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:55.116 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 17:48:55.117 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":56},"msg":"操作成功"}
2020-05-14 17:48:55.141 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:48:55.142 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:48:55.142 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:55.143 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:48:55.143 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:55.144 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251780392676016129
2020-05-14 17:48:55.144 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:48:55.145 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:55.145 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:48:55.146 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:55.153 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 17:48:55.153 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251780392676016129","createTime":"2020-04-24 10:50:30","id":18,"message":"不错不错，✌爱了","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:48:55.171 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：30
2020-05-14 17:48:55.172 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:48:55.285 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:48:55.286 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:48:55.286 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:48:55.286 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:48:55.287 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:48:55.296 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 17:48:55.297 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:49:22.641 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:49:22.641 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:49:22.641 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:49:22.641 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:49:22.642 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:49:22.686 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:49:22.686 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:49:22.687 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:49:22.687 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:49:22.686 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:49:22.688 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:49:22.688 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:49:22.689 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：48
2020-05-14 17:49:22.690 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:49:22.691 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:49:22.693 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:49:22.693 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:49:22.694 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:49:22.694 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:49:22.689 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:49:22.697 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:49:22.700 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:49:22.706 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 17:49:22.707 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:49:22.712 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 17:49:22.712 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:49:22.717 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：31
2020-05-14 17:49:22.717 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:50:55.952 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 17:50:55.953 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:50:55.954 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:50:55.954 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 17:50:55.954 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:50:55.955 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 17:50:55.955 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 17:50:56.428 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:50:56.428 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:50:56.429 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:50:56.429 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:50:56.429 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:50:56.478 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：50
2020-05-14 17:50:56.478 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:50:56.848 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:50:56.848 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:50:56.848 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:50:56.848 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:50:56.849 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:50:56.855 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 17:50:56.855 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:50:56.894 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:50:56.895 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:50:56.895 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:50:56.895 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:50:56.895 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:50:56.896 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:50:56.896 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:50:56.896 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:50:56.896 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:50:56.896 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:50:56.898 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 17:50:56.899 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:50:56.917 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：22
2020-05-14 17:50:56.918 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:51:01.333 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 17:51:01.335 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:51:01.335 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:51:01.336 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 17:51:01.336 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:51:01.337 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 17:51:01.337 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 17:51:04.650 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/oauth2/github/callback
2020-05-14 17:51:04.651 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:51:04.651 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：0:0:0:0:0:0:0:1
2020-05-14 17:51:04.651 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.getGithubUserInfo
2020-05-14 17:51:04.652 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:51:07.174 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2524
2020-05-14 17:51:07.175 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"gists_url":"https://api.github.com/users/aguoxing/gists{/gist_id}","repos_url":"https://api.github.com/users/aguoxing/repos","following_url":"https://api.github.com/users/aguoxing/following{/other_user}","created_at":"2017-12-12T12:45:02Z","login":"aguoxing","type":"User","blog":"","subscriptions_url":"https://api.github.com/users/aguoxing/subscriptions","updated_at":"2020-05-13T03:39:00Z","site_admin":false,"id":34478877,"public_repos":5,"gravatar_id":"","organizations_url":"https://api.github.com/users/aguoxing/orgs","starred_url":"https://api.github.com/users/aguoxing/starred{/owner}{/repo}","followers_url":"https://api.github.com/users/aguoxing/followers","public_gists":0,"url":"https://api.github.com/users/aguoxing","received_events_url":"https://api.github.com/users/aguoxing/received_events","followers":0,"avatar_url":"https://avatars3.githubusercontent.com/u/34478877?v=4","events_url":"https://api.github.com/users/aguoxing/events{/privacy}","html_url":"https://github.com/aguoxing","following":0,"name":"xing","node_id":"MDQ6VXNlcjM0NDc4ODc3"},"msg":"操作成功"}
2020-05-14 17:51:18.411 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 17:51:18.412 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:51:18.414 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:51:18.415 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 17:51:18.416 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:51:18.416 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 17:51:18.416 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 17:51:32.451 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:51:32.452 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:51:32.452 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:51:32.452 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:51:32.453 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:51:32.453 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:51:32.453 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:51:32.453 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:51:32.453 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:51:32.453 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:51:32.454 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:51:32.454 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:51:32.454 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:51:32.454 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:51:32.454 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:51:32.454 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:51:32.453 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:51:32.457 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:51:32.458 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:51:32.458 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:51:32.460 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 17:51:32.461 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:51:32.470 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：18
2020-05-14 17:51:32.471 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:51:32.488 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：36
2020-05-14 17:51:32.489 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:51:32.539 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：88
2020-05-14 17:51:32.540 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:53:27.401 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/archive/list
2020-05-14 17:53:27.402 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:53:27.402 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:53:27.403 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listArchive
2020-05-14 17:53:27.403 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:53:27.415 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 17:53:27.415 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articles":[{"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","title":"mysql练习题"},{"createTime":"2020-04-19 15:36:25","id":"1251776651612700674","title":"springboot jackson"},{"createTime":"2020-04-19 15:12:12","id":"1251770557519675394","title":"test"},{"createTime":"2020-04-19 13:52:57","id":"1251750614375907330","title":"123123123"},{"createTime":"2020-04-19 12:15:26","id":"1251726075243896833","title":"sdfsdf"},{"createTime":"2020-04-19 12:14:41","id":"1251725884101074946","title":"sdf"},{"createTime":"2020-04-19 12:11:56","id":"1251725190564519937","title":"阿道夫啊实打实的"},{"createTime":"2020-04-19 11:36:19","id":"1251716229803122690","title":"上的撒旦发射点"},{"createTime":"2020-04-18 17:30:52","id":"6","title":"save"},{"createTime":"2020-04-18 11:00:05","id":"5","title":"12515215"},{"createTime":"2020-04-08 10:54:04","id":"2","title":"这是推荐阅读的文章哇"},{"createTime":"2020-03-23 15:55:15","id":"1","title":"mybatis plus 乐观锁测试时间"}],"year":"2020"},{"articles":[{"createTime":"2019-06-17 23:48:04","id":"3","title":"岁的法国士大夫"},{"createTime":"2019-06-14 12:21:50","id":"4","title":"这是置顶的文章哇"}],"year":"2019"}],"msg":"操作成功"}
2020-05-14 17:53:34.649 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:53:34.650 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:53:34.651 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:53:34.651 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:53:34.652 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:53:34.708 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：59
2020-05-14 17:53:34.709 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:53:40.583 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:53:40.584 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:53:40.585 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:53:40.585 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:53:40.585 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:53:40.587 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:53:40.588 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:53:40.588 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:53:40.588 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:53:40.588 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:53:40.592 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:53:40.592 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:53:40.591 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:53:40.593 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:53:40.593 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:53:40.593 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:53:40.593 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:53:40.593 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:53:40.594 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:53:40.594 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:53:40.603 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 17:53:40.604 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":24},"msg":"操作成功"}
2020-05-14 17:53:40.610 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：23
2020-05-14 17:53:40.610 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:53:40.624 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：36
2020-05-14 17:53:40.625 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:53:40.628 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：37
2020-05-14 17:53:40.629 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:54:15.536 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:54:15.536 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:54:15.537 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:54:15.537 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:54:15.537 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:54:15.537 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:54:15.537 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:54:15.539 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:54:15.540 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:54:15.540 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:54:15.539 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:54:15.540 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:54:15.540 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:54:15.540 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:54:15.541 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:54:15.541 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:54:15.540 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:54:15.543 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:54:15.544 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:54:15.544 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:54:15.552 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:54:15.552 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:54:15.554 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 17:54:15.556 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:54:15.564 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：28
2020-05-14 17:54:15.565 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:54:15.609 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：73
2020-05-14 17:54:15.609 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":25},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:55:07.578 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/4
2020-05-14 17:55:07.578 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:55:07.578 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:07.579 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:55:07.580 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:07.587 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/4
2020-05-14 17:55:07.587 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:55:07.587 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:55:07.587 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:55:07.587 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:07.588 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:07.590 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:55:07.589 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:55:07.590 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:55:07.590 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:07.590 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:07.591 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:55:07.591 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:07.588 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:55:07.594 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:07.598 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 17:55:07.598 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1168},"msg":"操作成功"}
2020-05-14 17:55:07.602 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 17:55:07.602 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:55:07.609 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：22
2020-05-14 17:55:07.611 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 17:55:07.616 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：29
2020-05-14 17:55:07.616 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:55:11.653 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:55:11.654 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:55:11.654 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:11.654 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:55:11.655 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:11.706 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：53
2020-05-14 17:55:11.706 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":25},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:55:11.955 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:55:11.956 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:55:11.956 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:11.957 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:55:11.957 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:11.959 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:55:11.959 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:55:11.959 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:55:11.960 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:55:11.960 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:11.960 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:11.961 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:55:11.961 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:11.961 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:55:11.963 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:11.972 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 17:55:11.972 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 17:55:11.972 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:55:11.973 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:55:11.985 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：30
2020-05-14 17:55:11.986 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:55:15.898 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:55:15.898 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 17:55:15.899 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:55:15.899 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 17:55:15.899 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:55:15.899 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:15.900 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:55:15.900 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:15.900 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:55:15.898 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:55:15.900 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:55:15.900 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:55:15.901 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:15.901 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:15.901 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:55:15.902 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:15.901 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:15.904 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:55:15.914 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：16
2020-05-14 17:55:15.917 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:55:15.905 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:55:15.921 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:55:15.933 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：35
2020-05-14 17:55:15.933 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:55:15.936 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：38
2020-05-14 17:55:15.937 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:55:15.956 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：57
2020-05-14 17:55:15.957 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":56},"msg":"操作成功"}
2020-05-14 17:56:09.274 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 17:56:09.274 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 17:56:09.275 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:56:09.275 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:56:09.275 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:56:09.275 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:56:09.276 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:56:09.276 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:56:09.277 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:56:09.277 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:56:09.284 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 17:56:09.285 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:56:09.301 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：27
2020-05-14 17:56:09.301 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":57},"msg":"操作成功"}
2020-05-14 17:56:09.580 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:56:09.581 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:56:09.582 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:56:09.582 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:56:09.582 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:56:09.583 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:56:09.583 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:56:09.583 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:56:09.584 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:56:09.584 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:56:09.595 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 17:56:09.596 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:56:09.618 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：36
2020-05-14 17:56:09.618 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:56:20.652 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 17:56:20.653 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:56:20.654 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:56:20.656 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:56:20.656 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:56:20.679 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：27
2020-05-14 17:56:20.680 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":58},"msg":"操作成功"}
2020-05-14 17:56:20.879 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 17:56:20.879 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:56:20.879 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:56:20.879 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:56:20.880 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:56:20.884 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 17:56:20.884 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:57:03.824 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:57:03.824 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:57:03.824 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:57:03.828 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:57:03.829 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:57:03.829 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:57:03.829 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:57:03.830 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:57:03.830 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:57:03.830 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:57:03.830 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:57:03.830 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:57:03.830 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:57:03.830 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:57:03.830 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:57:03.831 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:57:03.829 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:57:03.842 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 17:57:03.840 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:57:03.847 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:57:03.847 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:57:03.847 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:57:03.867 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：43
2020-05-14 17:57:03.868 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:57:03.895 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：71
2020-05-14 17:57:03.896 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:57:03.906 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：82
2020-05-14 17:57:03.907 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":25},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:57:06.238 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 17:57:06.239 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:57:06.240 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:57:06.240 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 17:57:06.240 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:57:06.240 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:57:06.240 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:57:06.240 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:57:06.241 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:57:06.241 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:57:06.252 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 17:57:06.252 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 17:57:06.257 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：19
2020-05-14 17:57:06.258 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":25},"msg":"操作成功"}
2020-05-14 17:57:06.539 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:57:06.539 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:57:06.539 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:57:06.540 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:57:06.540 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:57:06.545 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:57:06.545 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:57:06.546 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:57:06.546 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:57:06.546 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:57:06.549 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 17:57:06.549 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:57:06.567 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：22
2020-05-14 17:57:06.567 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:59:21.572 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:59:21.574 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:59:21.574 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:21.575 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:59:21.575 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:59:21.576 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:59:21.576 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:59:21.576 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:59:21.576 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:21.577 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:21.577 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:59:21.575 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:21.577 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:59:21.577 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:21.578 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:21.577 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:59:21.578 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:59:21.578 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:21.579 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:59:21.579 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:21.590 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 17:59:21.591 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 17:59:21.595 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 17:59:21.596 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:59:21.619 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：43
2020-05-14 17:59:21.619 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:59:21.649 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：77
2020-05-14 17:59:21.650 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:59:54.731 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:59:54.732 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:59:54.732 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:54.733 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:59:54.734 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:54.735 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251752142763507713
2020-05-14 17:59:54.735 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:59:54.735 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:54.736 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 17:59:54.736 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:54.738 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:59:54.738 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251752142763507713
2020-05-14 17:59:54.738 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:59:54.738 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:59:54.739 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:54.739 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:54.739 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 17:59:54.739 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:59:54.739 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:54.739 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:54.746 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 17:59:54.746 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 17:59:54.751 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 17:59:54.752 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:59:54.753 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：18
2020-05-14 17:59:54.754 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":17},"msg":"操作成功"}
2020-05-14 17:59:54.757 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 17:59:54.757 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:59:58.975 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 17:59:58.977 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:59:58.977 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:58.978 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 17:59:58.978 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:59.035 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：60
2020-05-14 17:59:59.035 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:59:59.283 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 17:59:59.284 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 17:59:59.284 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:59.285 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 17:59:59.285 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 17:59:59.285 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:59.285 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:59:59.286 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:59.286 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 17:59:59.287 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:59.295 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 17:59:59.296 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 17:59:59.299 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 17:59:59.297 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 17:59:59.304 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 17:59:59.305 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 17:59:59.314 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：31
2020-05-14 17:59:59.315 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 17:59:59.309 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 17:59:59.319 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：24
2020-05-14 17:59:59.320 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:00:02.004 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/4
2020-05-14 18:00:02.006 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:00:02.007 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:00:02.007 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:00:02.007 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:00:02.007 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:00:02.008 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:00:02.008 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:00:02.008 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:00:02.008 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:00:02.013 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/4
2020-05-14 18:00:02.014 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:00:02.015 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:00:02.015 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:00:02.015 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:00:02.015 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:00:02.015 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:00:03.791 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:00:03.791 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:00:03.792 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:00:03.802 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：1787
2020-05-14 18:00:03.802 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:00:03.803 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：1799
2020-05-14 18:00:03.803 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1169},"msg":"操作成功"}
2020-05-14 18:00:03.815 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：1808
2020-05-14 18:00:03.816 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:00:03.830 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：1817
2020-05-14 18:00:03.831 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 18:00:18.241 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:00:18.241 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:00:18.242 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:00:18.242 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:00:18.243 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:00:18.245 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:00:18.245 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:00:18.246 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:00:18.246 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:00:18.246 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:00:18.246 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:00:18.246 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:00:18.247 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:00:18.247 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:00:18.247 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:00:18.247 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:00:18.247 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:00:18.248 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:00:18.248 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:00:18.248 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:00:18.252 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 18:00:18.253 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:00:18.257 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:00:18.258 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:00:18.275 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：30
2020-05-14 18:00:18.275 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:00:18.319 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：78
2020-05-14 18:00:18.320 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:01:31.697 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 18:01:31.698 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:01:31.698 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:01:31.699 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:01:31.699 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:01:31.698 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 18:01:31.700 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:01:31.700 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:01:31.700 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:01:31.702 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:01:31.699 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:01:31.703 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:01:31.703 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:01:31.704 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:01:31.704 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:01:31.704 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:01:31.704 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:01:31.704 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:01:31.706 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:01:31.707 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:01:31.719 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:01:31.719 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:01:31.723 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 18:01:31.724 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":59},"msg":"操作成功"}
2020-05-14 18:01:31.738 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：40
2020-05-14 18:01:31.738 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:01:31.760 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：58
2020-05-14 18:01:31.761 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:03:23.637 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:03:23.638 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:03:23.639 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:03:23.639 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:03:23.640 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:03:23.643 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:03:23.644 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:03:23.644 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:03:23.645 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:03:23.645 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:03:23.646 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:03:23.645 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:03:23.649 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:03:23.650 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:03:23.651 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:03:23.651 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:03:23.648 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:03:23.652 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:03:23.652 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:03:23.663 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:03:23.664 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 18:03:23.665 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:03:23.680 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：34
2020-05-14 18:03:23.682 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:03:23.688 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：43
2020-05-14 18:03:23.690 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:03:23.718 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：81
2020-05-14 18:03:23.719 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":60},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:03:47.865 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:03:47.869 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:03:47.869 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:03:47.870 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:03:47.870 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:03:47.869 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:03:47.871 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:03:47.871 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:03:47.871 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:03:47.871 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:03:47.872 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:03:47.872 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:03:47.872 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:03:47.872 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:03:47.872 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:03:47.872 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:03:47.867 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:03:47.873 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:03:47.876 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:03:47.878 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:03:47.878 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:03:47.878 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:03:47.897 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：32
2020-05-14 18:03:47.898 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":4},"msg":"操作成功"}
2020-05-14 18:03:47.899 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：30
2020-05-14 18:03:47.899 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:03:47.903 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：32
2020-05-14 18:03:47.904 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:04:50.439 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:04:50.441 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:04:50.441 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:04:50.442 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:04:50.442 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:04:50.469 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：30
2020-05-14 18:04:50.469 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":5},"msg":"操作成功"}
2020-05-14 18:04:50.664 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:04:50.665 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:04:50.665 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:04:50.665 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:04:50.665 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:04:50.669 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 18:04:50.670 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:06:13.999 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:06:14.000 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:06:14.000 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:06:14.001 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:06:14.002 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:06:14.019 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:06:14.020 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":6},"msg":"操作成功"}
2020-05-14 18:06:14.236 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:06:14.236 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:06:14.237 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:06:14.237 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:06:14.237 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:06:14.244 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:06:14.244 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:11:13.674 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:11:13.674 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:11:13.674 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:13.674 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:13.675 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:13.675 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:13.675 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:11:13.675 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:11:13.676 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:13.675 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:13.695 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 18:11:13.696 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:11:13.702 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：28
2020-05-14 18:11:13.703 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":7},"msg":"操作成功"}
2020-05-14 18:11:13.970 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:11:13.970 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:11:13.971 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:11:13.971 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:13.971 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:13.971 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:13.972 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:11:13.971 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:11:13.972 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:13.972 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:13.983 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:11:13.983 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:11:14.001 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：31
2020-05-14 18:11:14.001 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:11:19.418 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:11:19.419 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:11:19.419 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:11:19.419 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:19.419 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:19.419 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:19.421 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:11:19.421 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:19.420 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:11:19.421 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:19.421 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:19.424 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 18:11:19.424 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:11:19.432 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:11:19.433 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:11:19.455 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：36
2020-05-14 18:11:19.455 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:11:19.497 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：78
2020-05-14 18:11:19.498 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":60},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":8}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:11:21.851 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 18:11:21.852 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:21.852 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:21.853 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:11:21.853 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:21.856 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 18:11:21.856 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:21.856 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:21.857 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:11:21.857 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:11:21.857 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:11:21.857 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:21.858 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:11:21.858 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:21.857 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:21.866 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:11:21.867 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:11:21.871 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:11:21.871 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":60},"msg":"操作成功"}
2020-05-14 18:11:21.883 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 18:11:21.884 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:11:22.156 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:11:22.156 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:22.156 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:22.157 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:11:22.157 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:22.167 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:11:22.167 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:11:29.645 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251780392676016129
2020-05-14 18:11:29.649 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:11:29.650 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251780392676016129
2020-05-14 18:11:29.650 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:29.650 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:29.650 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:29.649 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:29.650 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:29.650 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:11:29.651 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:11:29.651 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:29.651 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:29.651 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:29.651 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:11:29.652 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:29.657 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:11:29.658 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251780392676016129","createTime":"2020-04-24 10:50:30","id":18,"message":"不错不错，✌爱了","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:11:29.660 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:11:29.660 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:11:29.677 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：32
2020-05-14 18:11:29.678 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":57},"msg":"操作成功"}
2020-05-14 18:11:29.954 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:11:29.954 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:11:29.955 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:29.955 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:11:29.956 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:29.985 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：31
2020-05-14 18:11:29.986 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:11:35.756 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 18:11:35.757 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:11:35.757 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:11:35.758 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 18:11:35.758 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:11:35.759 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 18:11:35.759 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 18:11:47.795 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.handler.LoginSuccessHandler.onAuthenticationSuccess:35 -用户为====>admin登录成功
2020-05-14 18:12:07.026 INFO  [lettuce-eventExecutorLoop-1-4]io.lettuce.core.protocol.ConnectionWatchdog.log:171 -Reconnecting, last destination was /39.97.191.230:6379
2020-05-14 18:12:07.073 INFO  [lettuce-nioEventLoop-4-4]io.lettuce.core.protocol.ReconnectionHandler.lambda$null$4:188 -Reconnected to 39.97.191.230:6379
2020-05-14 18:12:13.950 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.handler.LoginSuccessHandler.onAuthenticationSuccess:35 -用户为====>admin登录成功
2020-05-14 18:12:14.299 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:12:14.300 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:14.300 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:14.300 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:12:14.301 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:14.301 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2
2020-05-14 18:12:14.302 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:12:14.609 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:12:14.610 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:14.611 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:14.611 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:12:14.611 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:14.655 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：46
2020-05-14 18:12:14.655 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":8}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:12:15.026 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:12:15.026 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:15.027 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:15.027 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:12:15.027 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:15.043 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：17
2020-05-14 18:12:15.043 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:12:15.072 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:12:15.073 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:15.073 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:12:15.073 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:15.073 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:12:15.073 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:15.073 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:15.073 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:15.074 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:12:15.074 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:15.076 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 18:12:15.077 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:12:15.084 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:12:15.084 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:12:18.027 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:12:18.028 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:18.028 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:18.029 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:12:18.029 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:18.047 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:12:18.048 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:12:18.071 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/4
2020-05-14 18:12:18.071 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:18.071 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:18.071 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:12:18.071 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:18.086 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 18:12:18.086 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1170},"msg":"操作成功"}
2020-05-14 18:12:18.287 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/4
2020-05-14 18:12:18.288 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:18.288 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:18.288 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:12:18.288 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:18.291 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 18:12:18.291 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 18:12:18.330 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:12:18.331 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:18.331 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:18.331 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:12:18.331 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:18.339 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:12:18.340 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:12:21.832 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:12:21.832 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:21.833 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:21.833 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:12:21.833 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:21.874 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:12:21.874 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:21.875 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:21.875 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:12:21.875 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:21.876 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:12:21.877 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:21.878 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 18:12:21.878 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:12:21.879 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:21.879 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:12:21.879 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:21.880 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:12:21.880 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:21.880 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：48
2020-05-14 18:12:21.882 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:21.881 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1171},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":8}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:12:21.882 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:12:21.883 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:21.891 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:12:21.892 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:12:21.912 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：36
2020-05-14 18:12:21.912 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:12:27.728 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:12:27.728 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:27.729 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:27.730 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:12:27.730 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:27.747 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：19
2020-05-14 18:12:27.748 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":8},"msg":"操作成功"}
2020-05-14 18:12:28.156 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:12:28.156 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:28.156 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:28.156 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:12:28.157 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:28.161 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 18:12:28.161 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:12:28.201 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:12:28.201 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:28.201 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:12:28.202 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:28.202 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:28.202 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:28.202 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:12:28.202 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:12:28.202 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:28.202 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:28.209 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:12:28.209 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:12:28.222 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 18:12:28.222 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:12:31.450 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:12:31.450 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:31.450 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:31.450 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:12:31.451 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:31.495 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：45
2020-05-14 18:12:31.496 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1171},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:12:31.499 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:12:31.499 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:31.499 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:31.500 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:12:31.500 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:31.503 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 18:12:31.504 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:12:31.505 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:12:31.506 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:31.506 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:31.507 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:12:31.508 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:31.509 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:12:31.515 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:31.516 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:31.516 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:12:31.524 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:31.535 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：30
2020-05-14 18:12:31.536 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:12:31.539 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：30
2020-05-14 18:12:31.539 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:12:33.750 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/4
2020-05-14 18:12:33.750 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:33.751 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:33.751 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:12:33.751 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:33.766 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：16
2020-05-14 18:12:33.766 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1171},"msg":"操作成功"}
2020-05-14 18:12:34.180 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:12:34.181 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:34.181 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:34.181 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:12:34.181 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:34.198 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：18
2020-05-14 18:12:34.199 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:12:34.225 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:12:34.225 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/4
2020-05-14 18:12:34.225 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:34.225 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:34.226 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:34.226 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:34.226 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:12:34.226 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:12:34.226 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:34.226 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:34.230 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 18:12:34.230 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 18:12:34.235 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:12:34.235 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:12:52.140 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:12:52.140 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:52.141 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:52.141 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:12:52.141 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:52.141 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：1
2020-05-14 18:12:52.142 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:12:52.568 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/4
2020-05-14 18:12:52.568 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:52.568 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:52.569 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:12:52.569 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:52.572 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 18:12:52.572 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[],"msg":"操作成功"}
2020-05-14 18:12:52.611 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/4
2020-05-14 18:12:52.611 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:52.611 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:52.612 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:12:52.612 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:52.624 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:12:52.624 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1172},"msg":"操作成功"}
2020-05-14 18:12:52.831 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:12:52.831 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:12:52.831 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:52.831 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:12:52.832 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:52.839 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:12:52.839 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:12:52.873 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:12:52.873 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:12:52.873 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:12:52.874 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:12:52.874 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:12:52.901 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：28
2020-05-14 18:12:52.901 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:13:21.146 INFO  [main]org.springframework.core.KotlinDetector.<clinit>:57 -Kotlin reflection implementation not found at runtime, related features won't be available.
2020-05-14 18:13:21.782 INFO  [main]cn.codexing.blog.BlogApplication.logStarting:55 -Starting BlogApplication on GUOXING with PID 17252 (E:\2020\myblog2.0\blog-backend\target\classes started by GuoXing in E:\2020\myblog2.0\blog-backend)
2020-05-14 18:13:21.783 INFO  [main]cn.codexing.blog.BlogApplication.logStartupProfileInfo:655 -The following profiles are active: dev
2020-05-14 18:13:24.016 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected:249 -Multiple Spring Data modules found, entering strict repository configuration mode!
2020-05-14 18:13:24.020 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-05-14 18:13:24.070 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 -Finished Spring Data repository scanning in 34ms. Found 0 Redis repository interfaces.
2020-05-14 18:13:24.463 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:13:24.533 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:13:24.542 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@b887730' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:13:24.545 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:13:24.558 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:13:24.569 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'redisConfig' of type [cn.codexing.blog.common.config.RedisConfig$$EnhancerBySpringCGLIB$$66936516] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:13:25.132 INFO  [main]o.s.boot.web.embedded.tomcat.TomcatWebServer.initialize:92 -Tomcat initialized with port(s): 8088 (http)
2020-05-14 18:13:25.140 INFO  [main]org.apache.coyote.http11.Http11NioProtocol.log:173 -Initializing ProtocolHandler ["http-nio-8088"]
2020-05-14 18:13:25.141 INFO  [main]org.apache.catalina.core.StandardService.log:173 -Starting service [Tomcat]
2020-05-14 18:13:25.141 INFO  [main]org.apache.catalina.core.StandardEngine.log:173 -Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-05-14 18:13:25.250 INFO  [main]o.a.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log:173 -Initializing Spring embedded WebApplicationContext
2020-05-14 18:13:25.250 INFO  [main]org.springframework.web.context.ContextLoader.prepareWebApplicationContext:284 -Root WebApplicationContext: initialization completed in 3416 ms
2020-05-14 18:13:28.243 INFO  [main]s.d.s.web.PropertySourcedRequestMappingHandlerMapping.initHandlerMethods:69 -Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-14 18:13:28.420 INFO  [main]o.s.security.web.DefaultSecurityFilterChain.<init>:43 -Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52d9d817, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f42366, org.springframework.security.web.header.HeaderWriterFilter@45297e7, org.springframework.security.web.authentication.logout.LogoutFilter@27261190, cn.codexing.blog.common.filter.JwtAuthenticationFilter@10f405ff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2eb6d34a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4afdfc0f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@481ed95c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@131ba005, org.springframework.security.web.session.SessionManagementFilter@54bb1194, org.springframework.security.web.access.ExceptionTranslationFilter@63cf578f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60ed0b9d]
2020-05-14 18:13:29.175 INFO  [main]s.d.spring.web.plugins.DocumentationPluginsBootstrapper.start:160 -Context refreshed
2020-05-14 18:13:29.196 INFO  [main]s.d.spring.web.plugins.DocumentationPluginsBootstrapper.start:163 -Found 1 custom documentation plugin(s)
2020-05-14 18:13:29.225 INFO  [main]s.d.spring.web.scanners.ApiListingReferenceScanner.scan:41 -Scanning for api listing references
2020-05-14 18:13:29.422 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByPageUsingPOST_1
2020-05-14 18:13:29.452 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_1
2020-05-14 18:13:29.460 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByPageUsingPOST_2
2020-05-14 18:13:29.465 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_2
2020-05-14 18:13:29.476 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_3
2020-05-14 18:13:29.486 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_4
2020-05-14 18:13:29.494 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByPageUsingPOST_3
2020-05-14 18:13:29.538 INFO  [main]org.apache.coyote.http11.Http11NioProtocol.log:173 -Starting ProtocolHandler ["http-nio-8088"]
2020-05-14 18:13:29.559 INFO  [main]o.s.boot.web.embedded.tomcat.TomcatWebServer.start:204 -Tomcat started on port(s): 8088 (http) with context path ''
2020-05-14 18:13:29.563 INFO  [main]cn.codexing.blog.BlogApplication.logStarted:61 -Started BlogApplication in 8.337 seconds (JVM running for 9.845)
2020-05-14 18:13:43.258 INFO  [http-nio-8088-exec-2]o.a.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log:173 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-14 18:13:43.259 INFO  [http-nio-8088-exec-2]org.springframework.web.servlet.DispatcherServlet.initServletBean:525 -Initializing Servlet 'dispatcherServlet'
2020-05-14 18:13:43.273 INFO  [http-nio-8088-exec-2]org.springframework.web.servlet.DispatcherServlet.initServletBean:547 -Completed initialization in 14 ms
2020-05-14 18:13:44.055 INFO  [http-nio-8088-exec-3]io.lettuce.core.EpollProvider.<clinit>:68 -Starting without optional epoll library
2020-05-14 18:13:44.057 INFO  [http-nio-8088-exec-3]io.lettuce.core.KqueueProvider.<clinit>:70 -Starting without optional kqueue library
2020-05-14 18:13:44.914 INFO  [http-nio-8088-exec-4]com.alibaba.druid.pool.DruidDataSource.init:1003 -{dataSource-1} inited
2020-05-14 18:13:45.309 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:13:45.310 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:13:45.312 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:45.312 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:13:45.313 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:13:45.313 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:45.314 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:13:45.315 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:45.316 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:13:45.317 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:45.320 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:13:45.326 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:13:45.326 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:13:45.327 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:45.328 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:13:45.329 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:45.343 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：34
2020-05-14 18:13:45.349 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:13:45.351 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:13:45.351 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:13:45.352 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:45.352 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:13:45.353 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:45.353 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:13:45.354 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:13:45.355 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:45.355 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:13:45.356 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:45.363 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:13:45.390 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：64
2020-05-14 18:13:45.418 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:13:45.489 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：136
2020-05-14 18:13:45.498 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:13:45.587 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：236
2020-05-14 18:13:45.592 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:13:45.916 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:13:45.917 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:13:45.918 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:45.918 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:13:45.919 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:46.003 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：87
2020-05-14 18:13:46.004 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:13:46.287 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:13:46.288 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:13:46.288 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:46.288 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:13:46.288 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:46.312 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：25
2020-05-14 18:13:46.313 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:13:46.329 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:13:46.330 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:13:46.331 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:46.332 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:13:46.332 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:46.342 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:13:46.342 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:13:46.370 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:13:46.370 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:13:46.371 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:46.371 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:13:46.371 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:46.374 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 18:13:46.375 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:13:53.981 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 18:13:53.981 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:13:53.981 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:53.982 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:13:53.982 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:54.005 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：24
2020-05-14 18:13:54.006 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":61},"msg":"操作成功"}
2020-05-14 18:13:54.025 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:13:54.025 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:13:54.026 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:54.026 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:13:54.026 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:54.050 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：25
2020-05-14 18:13:54.051 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:13:54.283 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:13:54.283 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:13:54.283 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:54.283 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:13:54.283 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:54.292 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:13:54.292 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:13:54.326 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 18:13:54.326 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:13:54.326 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:13:54.327 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:13:54.327 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:13:54.347 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 18:13:54.350 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:14:01.224 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:14:01.224 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:14:01.225 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:01.225 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:14:01.225 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:01.227 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 18:14:01.228 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:14:01.674 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 18:14:01.675 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:14:01.675 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:01.676 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:14:01.676 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:01.697 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：23
2020-05-14 18:14:01.697 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":62},"msg":"操作成功"}
2020-05-14 18:14:01.719 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:14:01.719 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:14:01.720 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:01.720 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:14:01.720 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:01.749 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：30
2020-05-14 18:14:01.749 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:14:01.979 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:14:01.979 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:14:01.979 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:01.979 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:14:01.980 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:01.988 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:14:01.988 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:14:02.022 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 18:14:02.023 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:14:02.023 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:02.023 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:14:02.024 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:02.031 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:14:02.031 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:14:38.168 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:14:38.169 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:14:38.169 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:38.170 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:14:38.170 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:38.171 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 18:14:38.171 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:14:38.536 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 18:14:38.537 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:14:38.537 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:38.538 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:14:38.538 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:38.560 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：24
2020-05-14 18:14:38.561 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":63},"msg":"操作成功"}
2020-05-14 18:14:38.973 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 18:14:38.973 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:14:38.974 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:38.975 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:14:38.975 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:38.986 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:14:38.987 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:14:39.018 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:14:39.018 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:14:39.018 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:14:39.019 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:39.019 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:14:39.019 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:14:39.020 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:14:39.020 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:39.021 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:14:39.024 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:14:39.036 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：18
2020-05-14 18:14:39.036 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:14:39.056 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：38
2020-05-14 18:14:39.057 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:15:04.430 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251776651612700674
2020-05-14 18:15:04.431 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:15:04.431 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:04.432 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:15:04.432 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:04.447 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：17
2020-05-14 18:15:04.447 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":64},"msg":"操作成功"}
2020-05-14 18:15:04.614 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251776651612700674
2020-05-14 18:15:04.614 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:15:04.615 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:04.615 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:15:04.615 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:04.620 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：6
2020-05-14 18:15:04.620 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251776651612700674","createTime":"2020-05-14 17:28:41","id":22,"message":"hahahah","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:15:13.070 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:15:13.071 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:15:13.071 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:13.071 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:15:13.071 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:13.083 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:15:13.084 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:15:13.115 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:15:13.115 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:15:13.115 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:15:13.115 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:15:13.115 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:15:13.115 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:13.116 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:15:13.116 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:13.116 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:15:13.116 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:15:13.116 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:13.116 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:13.116 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:15:13.116 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:13.117 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:13.122 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:15:13.122 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:15:13.144 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：29
2020-05-14 18:15:13.145 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:15:13.187 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：72
2020-05-14 18:15:13.189 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:15:17.625 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:15:17.626 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:15:17.627 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:17.627 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:15:17.627 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:17.651 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 18:15:17.652 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:15:17.670 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 18:15:17.671 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:15:17.671 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:17.672 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:15:17.672 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:17.690 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:15:17.690 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":26},"msg":"操作成功"}
2020-05-14 18:15:17.931 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:15:17.932 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:15:17.932 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:17.933 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:15:17.933 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:17.942 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:15:17.942 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:15:17.977 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 18:15:17.978 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:15:17.978 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:15:17.979 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:15:17.979 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:15:17.990 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:15:17.990 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:16:03.866 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:16:03.867 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:16:03.867 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:03.867 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:16:03.868 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:03.912 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:16:03.913 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:16:03.913 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:03.913 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:16:03.914 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:03.918 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:16:03.918 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:16:03.918 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:03.918 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:03.919 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:03.919 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:03.919 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:16:03.919 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:03.919 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:16:03.920 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:03.924 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：6
2020-05-14 18:16:03.925 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:16:03.940 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：74
2020-05-14 18:16:03.941 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：23
2020-05-14 18:16:03.941 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:16:03.941 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":27},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:16:03.963 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：51
2020-05-14 18:16:03.963 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:16:13.626 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 18:16:13.627 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:13.627 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:13.627 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:16:13.628 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:13.683 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：57
2020-05-14 18:16:13.684 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":27},"msg":"操作成功"}
2020-05-14 18:16:14.058 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 18:16:14.058 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:14.058 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:14.059 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:16:14.059 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:14.069 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:16:14.070 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:16:14.102 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:16:14.103 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:16:14.103 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:14.103 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:14.103 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:16:14.103 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:16:14.104 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:14.104 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:14.104 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:16:14.105 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:14.114 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 18:16:14.115 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:16:14.136 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：33
2020-05-14 18:16:14.136 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:16:17.889 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:16:17.890 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:16:17.890 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:17.890 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:16:17.891 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:17.933 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:16:17.933 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:16:17.934 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:17.934 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:16:17.934 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:17.937 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：48
2020-05-14 18:16:17.936 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:16:17.939 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":28},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:16:17.942 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:16:17.944 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:17.944 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:17.945 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:16:17.945 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:17.939 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:17.946 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:17.946 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:16:17.947 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:17.949 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:16:17.950 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:16:17.962 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：29
2020-05-14 18:16:17.962 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 18:16:17.963 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:16:17.963 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:16:21.051 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251780392676016129
2020-05-14 18:16:21.052 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:21.052 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:21.053 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:16:21.053 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:21.070 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：19
2020-05-14 18:16:21.071 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":58},"msg":"操作成功"}
2020-05-14 18:16:21.476 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251780392676016129
2020-05-14 18:16:21.476 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:21.477 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:21.477 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:16:21.477 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:21.481 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 18:16:21.482 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251780392676016129","createTime":"2020-04-24 10:50:30","id":18,"message":"不错不错，✌爱了","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:16:21.522 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:16:21.522 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:21.523 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:21.523 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:16:21.523 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:16:21.523 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:16:21.523 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:21.524 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:21.524 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:16:21.524 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:21.535 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:16:21.536 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:16:21.550 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：27
2020-05-14 18:16:21.551 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:16:29.327 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:16:29.327 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:29.328 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:29.328 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:16:29.329 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:29.329 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2
2020-05-14 18:16:29.330 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:16:29.776 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:16:29.776 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:29.777 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:29.777 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:16:29.777 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:29.799 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：23
2020-05-14 18:16:29.799 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":9},"msg":"操作成功"}
2020-05-14 18:16:29.823 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:16:29.823 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:29.823 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:29.824 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:16:29.824 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:29.835 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 18:16:29.838 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:16:30.151 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:16:30.152 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:16:30.152 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:30.153 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:16:30.153 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:30.176 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：25
2020-05-14 18:16:30.176 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:16:30.197 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:16:30.197 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:16:30.198 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:16:30.198 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:16:30.199 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:16:30.209 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 18:16:30.210 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:17:20.719 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:17:20.720 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:17:20.720 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:17:20.720 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:17:20.721 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:17:20.742 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：23
2020-05-14 18:17:20.742 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":10},"msg":"操作成功"}
2020-05-14 18:17:20.949 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:17:20.950 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:17:20.950 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:17:20.951 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:17:20.951 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:17:20.960 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:17:20.961 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:17:28.077 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:17:28.078 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:17:28.079 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:17:28.079 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:17:28.080 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:17:28.094 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：17
2020-05-14 18:17:28.095 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":11},"msg":"操作成功"}
2020-05-14 18:17:28.273 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:17:28.274 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:17:28.274 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:17:28.274 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:17:28.274 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:17:28.282 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:17:28.282 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:18:45.691 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:18:45.692 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:18:45.692 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:18:45.693 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:18:45.693 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:18:45.711 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:18:45.712 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":12},"msg":"操作成功"}
2020-05-14 18:18:45.910 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:18:45.911 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:18:45.911 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:18:45.911 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:18:45.911 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:18:45.919 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:18:45.919 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:19:21.927 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:19:21.928 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:19:21.929 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:19:21.929 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:19:21.930 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:19:21.943 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：16
2020-05-14 18:19:21.944 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":13},"msg":"操作成功"}
2020-05-14 18:19:22.173 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:19:22.173 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:19:22.174 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:19:22.174 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:19:22.175 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:19:22.187 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:19:22.187 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:19:36.004 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:19:36.004 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:19:36.005 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:19:36.005 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:19:36.006 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:19:36.020 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：16
2020-05-14 18:19:36.021 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":14},"msg":"操作成功"}
2020-05-14 18:19:36.220 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:19:36.220 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:19:36.221 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:19:36.221 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:19:36.221 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:19:36.228 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:19:36.228 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:20:49.292 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:20:49.293 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:20:49.294 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:20:49.295 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:20:49.295 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:20:49.296 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 18:20:49.297 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:20:49.772 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:20:49.772 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:20:49.772 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:20:49.773 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:20:49.773 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:20:49.798 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 18:20:49.798 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:20:50.200 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:20:50.201 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:20:50.201 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:20:50.202 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:20:50.202 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:20:50.216 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：16
2020-05-14 18:20:50.217 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":15},"msg":"操作成功"}
2020-05-14 18:20:50.244 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:20:50.245 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:20:50.245 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:20:50.245 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:20:50.245 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:20:50.245 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:20:50.245 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:20:50.245 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:20:50.246 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:20:50.246 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:20:50.255 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:20:50.255 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:20:50.257 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 18:20:50.257 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:21:30.400 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:21:30.401 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:21:30.401 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:21:30.402 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:21:30.403 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:21:30.420 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:21:30.421 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":16},"msg":"操作成功"}
2020-05-14 18:21:30.627 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:21:30.627 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:21:30.628 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:21:30.628 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:21:30.629 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:21:30.641 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:21:30.641 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:23:19.268 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:23:19.268 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:23:19.269 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:23:19.269 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:23:19.269 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:23:19.285 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：18
2020-05-14 18:23:19.285 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":17},"msg":"操作成功"}
2020-05-14 18:23:19.489 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:23:19.489 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:23:19.490 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:23:19.490 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:23:19.491 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:23:19.499 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:23:19.499 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:23:24.674 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:23:24.675 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:23:24.675 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:23:24.675 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:23:24.676 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:23:24.688 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:23:24.689 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":18},"msg":"操作成功"}
2020-05-14 18:23:24.979 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:23:24.979 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:23:24.980 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:23:24.980 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:23:24.980 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:23:24.987 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:23:24.987 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:23:38.689 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:23:38.690 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:23:38.691 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:23:38.692 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:23:38.692 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:23:38.713 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：24
2020-05-14 18:23:38.714 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":19},"msg":"操作成功"}
2020-05-14 18:23:38.911 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:23:38.911 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:23:38.912 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:23:38.912 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:23:38.912 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:23:38.920 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:23:38.920 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:24:00.518 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:24:00.519 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:24:00.519 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:24:00.520 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:24:00.520 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:24:00.538 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:24:00.539 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":20},"msg":"操作成功"}
2020-05-14 18:24:00.731 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:24:00.732 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:24:00.732 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:24:00.732 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:24:00.732 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:24:00.739 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:24:00.739 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:24:18.042 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:24:18.043 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:24:18.043 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:24:18.043 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:24:18.043 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:24:18.057 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 18:24:18.057 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":21},"msg":"操作成功"}
2020-05-14 18:24:18.267 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:24:18.267 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:24:18.268 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:24:18.268 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:24:18.268 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:24:18.274 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:24:18.275 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:27:02.848 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:27:02.849 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:02.850 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:02.850 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:27:02.850 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:02.867 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：19
2020-05-14 18:27:02.868 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":22},"msg":"操作成功"}
2020-05-14 18:27:03.078 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:27:03.079 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:03.079 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:03.080 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:27:03.080 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:03.089 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:27:03.089 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:27:14.173 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:27:14.173 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:14.174 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:14.175 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:27:14.175 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:14.440 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 18:27:14.441 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:14.441 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:14.442 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 18:27:14.442 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:14.443 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 18:27:14.444 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 18:27:27.337 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.handler.LoginSuccessHandler.onAuthenticationSuccess:35 -用户为====>admin登录成功
2020-05-14 18:27:27.612 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:27:27.612 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:27.612 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:27.613 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:27:27.613 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:27.614 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 18:27:27.615 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:27:28.368 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:27:28.369 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:28.369 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:28.370 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:27:28.370 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:28.388 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:27:28.389 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":23},"msg":"操作成功"}
2020-05-14 18:27:28.414 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:27:28.414 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:28.415 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:28.416 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:27:28.416 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:28.418 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:27:28.418 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:28.419 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:28.419 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:27:28.420 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:28.428 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:27:28.428 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:27:28.420 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:27:28.432 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:27:28.432 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:28.433 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:27:28.436 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:28.439 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 18:27:28.440 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:27:28.471 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：51
2020-05-14 18:27:28.472 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:27:46.580 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:27:46.580 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:46.580 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:46.581 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:27:46.581 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:46.597 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：17
2020-05-14 18:27:46.598 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":24},"msg":"操作成功"}
2020-05-14 18:27:46.806 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:27:46.806 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:46.807 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:46.807 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:27:46.807 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:46.813 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:27:46.813 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:27:58.294 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:27:58.295 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:58.295 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:58.295 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:27:58.295 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:58.307 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:27:58.307 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":25},"msg":"操作成功"}
2020-05-14 18:27:58.528 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:27:58.529 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:27:58.529 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:27:58.529 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:27:58.529 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:27:58.535 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:27:58.536 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:28:05.732 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:28:05.733 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:05.733 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:05.733 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:28:05.734 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:05.748 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：16
2020-05-14 18:28:05.749 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":26},"msg":"操作成功"}
2020-05-14 18:28:05.939 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:28:05.939 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:05.939 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:05.940 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:28:05.940 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:05.946 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:28:05.946 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:28:31.492 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:28:31.492 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:28:31.493 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:31.493 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:28:31.493 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:31.534 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:28:31.535 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:31.535 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:31.535 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:28:31.536 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:31.537 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：45
2020-05-14 18:28:31.538 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":28},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":27}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:28:31.539 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:28:31.540 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:31.540 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:31.541 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:28:31.541 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:31.540 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:28:31.542 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:28:31.544 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:31.544 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:28:31.544 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:28:31.544 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 18:28:31.544 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:28:31.545 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:28:31.544 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:31.568 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：28
2020-05-14 18:28:31.569 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:28:35.566 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:28:35.567 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:35.567 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:35.567 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:28:35.567 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:35.581 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 18:28:35.581 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":27},"msg":"操作成功"}
2020-05-14 18:28:35.611 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:28:35.611 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:28:35.612 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:35.612 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:28:35.613 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:35.636 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：25
2020-05-14 18:28:35.636 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:28:35.872 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:28:35.872 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:35.873 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:35.873 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:28:35.873 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:35.881 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:28:35.882 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:28:35.916 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:28:35.917 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:35.917 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:35.918 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:28:35.918 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:35.927 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:28:35.928 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:28:40.964 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:28:40.965 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:40.965 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:40.965 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:28:40.965 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:40.966 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2
2020-05-14 18:28:40.966 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:28:41.441 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:28:41.441 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:28:41.441 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:41.442 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:28:41.442 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:41.482 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:28:41.483 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:28:41.483 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:41.484 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:28:41.484 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:41.485 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：44
2020-05-14 18:28:41.486 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":28},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":28}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:28:41.506 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：24
2020-05-14 18:28:41.506 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:28:41.745 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:28:41.745 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:41.746 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:41.746 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:28:41.747 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:41.755 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:28:41.755 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:28:41.787 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:28:41.788 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:28:41.789 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:28:41.790 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:28:41.790 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:28:41.796 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:28:41.796 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:30:19.305 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/1251750614375907330
2020-05-14 18:30:19.305 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:30:19.306 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:30:19.306 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:30:19.306 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:30:19.319 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:30:19.320 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":28},"msg":"操作成功"}
2020-05-14 18:30:19.734 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:30:19.735 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:30:19.735 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:30:19.735 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:30:19.735 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:30:19.751 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：17
2020-05-14 18:30:19.751 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:30:19.778 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:30:19.779 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:30:19.778 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/1251750614375907330
2020-05-14 18:30:19.779 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:30:19.779 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:30:19.779 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:30:19.779 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:30:19.779 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:30:19.779 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:30:19.780 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:30:19.786 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:30:19.786 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:10","id":21,"message":"wasd","parentId":-1,"reply":[],"user":"admin"},{"articleId":"1251750614375907330","createTime":"2020-05-14 17:08:00","id":20,"message":"qwer","parentId":-1,"reply":[],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:30:19.786 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:30:19.787 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:30:26.085 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:30:26.086 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:30:26.087 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:30:26.087 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:30:26.088 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:30:26.088 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 18:30:26.089 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:30:26.543 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:30:26.543 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:30:26.543 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:30:26.543 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:30:26.543 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:30:26.554 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:30:26.554 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:30:26.588 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:30:26.589 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:30:26.589 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:30:26.589 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:30:26.589 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:30:26.600 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:30:26.600 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":28},"msg":"操作成功"}
2020-05-14 18:30:26.808 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:30:26.808 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:30:26.809 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:30:26.809 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:30:26.809 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:30:26.820 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:30:26.821 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:30:26.851 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:30:26.851 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:30:26.851 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:30:26.852 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:30:26.853 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:30:26.879 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：28
2020-05-14 18:30:26.879 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:33:27.501 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:33:27.502 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:33:27.502 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:33:27.502 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:33:27.502 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:33:27.515 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:33:27.516 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":29},"msg":"操作成功"}
2020-05-14 18:33:27.704 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:33:27.704 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:33:27.705 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:33:27.705 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:33:27.705 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:33:27.711 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:33:27.712 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:33:42.717 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:33:42.718 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:33:42.718 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:33:42.719 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:33:42.719 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:33:42.738 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 18:33:42.738 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":30},"msg":"操作成功"}
2020-05-14 18:33:42.924 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:33:42.925 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:33:42.925 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:33:42.925 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:33:42.925 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:33:42.932 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:33:42.932 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:34:14.505 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:34:14.506 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:34:14.506 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:34:14.506 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:34:14.506 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:34:14.519 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:34:14.520 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":31},"msg":"操作成功"}
2020-05-14 18:34:14.687 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:34:14.687 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:34:14.688 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:34:14.688 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:34:14.688 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:34:14.697 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:34:14.698 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:34:59.461 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:34:59.461 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:34:59.461 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:34:59.462 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:34:59.462 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:34:59.475 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:34:59.476 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":32},"msg":"操作成功"}
2020-05-14 18:34:59.689 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:34:59.690 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:34:59.690 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:34:59.690 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:34:59.691 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:34:59.696 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:34:59.697 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:35:02.608 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:35:02.608 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:35:02.608 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:35:02.608 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:35:02.609 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:35:02.621 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:35:02.621 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":1,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":33},"msg":"操作成功"}
2020-05-14 18:35:02.903 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:35:02.903 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:35:02.903 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:35:02.904 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:35:02.904 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:35:02.910 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:35:02.910 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:35:19.871 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/save
2020-05-14 18:35:19.872 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:35:19.872 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:35:19.872 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.saveComment
2020-05-14 18:35:19.872 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:35:19.881 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:35:19.882 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"评论成功"}
2020-05-14 18:35:20.129 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:35:20.129 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:35:20.130 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:35:20.130 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:35:20.131 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:35:20.142 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：13
2020-05-14 18:35:20.142 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:35:38.327 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/save
2020-05-14 18:35:38.328 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:35:38.328 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:35:38.328 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.saveComment
2020-05-14 18:35:38.329 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:35:38.337 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:35:38.337 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"评论成功"}
2020-05-14 18:35:38.853 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:35:38.854 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:35:38.854 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:35:38.854 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:35:38.854 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:35:38.863 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:35:38.864 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":-1,"reply":[],"user":"admin"},{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:36:10.727 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:36:10.727 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:10.727 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:10.728 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:36:10.729 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:10.729 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2
2020-05-14 18:36:10.730 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:36:11.184 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:36:11.184 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:36:11.184 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:11.184 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:36:11.185 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:11.203 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：19
2020-05-14 18:36:11.203 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:36:11.227 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:36:11.227 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:11.227 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:11.228 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:36:11.228 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:11.243 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：16
2020-05-14 18:36:11.244 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":34},"msg":"操作成功"}
2020-05-14 18:36:11.486 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:36:11.486 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:11.486 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:11.487 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:36:11.487 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:11.498 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 18:36:11.498 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:36:11.529 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:36:11.530 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:11.530 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:11.531 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:36:11.532 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:11.539 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:36:11.539 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:36:38.327 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:36:38.327 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:36:38.328 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:38.328 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:36:38.328 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:38.366 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：39
2020-05-14 18:36:38.367 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":35}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:36:38.371 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:36:38.371 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:36:38.371 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:38.372 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:36:38.372 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:38.372 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:38.373 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:36:38.373 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:36:38.374 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:38.374 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:38.375 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:36:38.376 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:38.376 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:38.376 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:36:38.377 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:38.380 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 18:36:38.380 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:36:38.382 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:36:38.382 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:36:38.397 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 18:36:38.397 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:36:47.173 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:36:47.173 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:36:47.173 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:47.173 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:36:47.174 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:47.189 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：17
2020-05-14 18:36:47.190 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:36:47.216 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:36:47.217 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:36:47.216 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:36:47.217 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:47.217 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:47.217 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:47.217 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:47.217 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:47.217 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:47.218 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:36:47.218 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:36:47.218 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:36:47.218 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:47.218 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:47.218 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:47.225 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:36:47.226 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:36:47.229 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 18:36:47.229 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:36:47.237 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 18:36:47.237 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":35},"msg":"操作成功"}
2020-05-14 18:36:51.124 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:36:51.124 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:36:51.124 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:51.124 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:36:51.125 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:51.173 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：49
2020-05-14 18:36:51.173 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":36}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:36:51.554 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:36:51.555 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:36:51.555 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:51.556 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:36:51.557 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:51.585 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：31
2020-05-14 18:36:51.585 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:36:51.595 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:36:51.595 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:36:51.596 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:51.596 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:51.596 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:51.596 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:51.597 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:36:51.597 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:36:51.597 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:51.597 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:51.601 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：6
2020-05-14 18:36:51.601 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:36:51.607 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：12
2020-05-14 18:36:51.608 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:36:56.727 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:36:56.727 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:56.728 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:56.728 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:36:56.729 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:56.729 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2
2020-05-14 18:36:56.729 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:36:57.222 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:36:57.223 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:36:57.223 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:57.223 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:36:57.223 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:57.263 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:36:57.263 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:36:57.264 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:57.264 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:36:57.265 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:57.269 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：47
2020-05-14 18:36:57.271 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":36}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:36:57.288 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：25
2020-05-14 18:36:57.289 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:36:57.524 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:36:57.524 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:57.524 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:57.524 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:36:57.525 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:57.527 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 18:36:57.527 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:36:57.568 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:36:57.569 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:36:57.569 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:36:57.569 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:36:57.569 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:36:57.575 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:36:57.576 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:37:21.728 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:37:21.728 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:37:21.729 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:37:21.729 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:37:21.729 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:37:21.742 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:37:21.743 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":36},"msg":"操作成功"}
2020-05-14 18:37:21.773 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:37:21.773 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:37:21.773 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:37:21.773 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:37:21.774 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:37:21.774 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:37:21.774 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:37:21.774 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:37:21.775 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:37:21.775 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:37:21.777 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:37:21.777 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:37:21.778 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:37:21.778 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:37:21.778 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:37:21.783 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:37:21.783 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:37:21.788 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 18:37:21.788 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:37:21.805 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：28
2020-05-14 18:37:21.806 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:38:05.088 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:38:05.088 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:05.088 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:05.089 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:38:05.089 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:05.226 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 18:38:05.226 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:05.227 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:05.228 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 18:38:05.228 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:05.229 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 18:38:05.229 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 18:38:13.430 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.handler.LoginSuccessHandler.onAuthenticationSuccess:35 -用户为====>admin登录成功
2020-05-14 18:38:14.003 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:38:14.003 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:14.004 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:14.004 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:38:14.004 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:14.004 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：1
2020-05-14 18:38:14.005 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:38:14.272 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:38:14.272 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:14.272 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:14.273 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:38:14.273 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:14.287 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 18:38:14.287 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":37},"msg":"操作成功"}
2020-05-14 18:38:14.702 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:38:14.702 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:14.702 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:14.703 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:38:14.703 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:14.713 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:38:14.714 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:38:01","id":125,"message":"我回复我自己","parentId":123,"user":"admin"},{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"三楼","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:38:14.746 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:38:14.747 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:38:14.747 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:14.747 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:38:14.747 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:14.747 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:14.747 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:38:14.747 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:38:14.748 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:14.748 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:14.755 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:38:14.756 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:38:14.770 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：24
2020-05-14 18:38:14.771 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:38:44.896 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/info
2020-05-14 18:38:44.896 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:44.897 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:44.898 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.userInfo
2020-05-14 18:38:44.899 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:44.900 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 18:38:44.900 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"accountNonExpired":true,"accountNonLocked":true,"authorities":[{"authority":"ROLE_USER"},{"authority":"ROLE_ADMIN"}],"avatar":"http://cdn.codexing.cn/avatar","credentialsNonExpired":true,"enabled":true,"id":1,"password":"[HIDE]","username":"admin"},"msg":"操作成功"}
2020-05-14 18:38:45.362 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:38:45.362 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:45.362 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:45.363 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:38:45.363 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:45.376 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:38:45.376 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":38},"msg":"操作成功"}
2020-05-14 18:38:45.405 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:38:45.405 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:45.406 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:45.406 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:38:45.407 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:45.422 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：17
2020-05-14 18:38:45.422 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:38:01","id":125,"message":"我回复我自己","parentId":123,"user":"admin"},{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"我回复我自己----1","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:38:45.665 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:38:45.665 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:38:45.666 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:45.666 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:38:45.667 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:45.685 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：20
2020-05-14 18:38:45.685 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:38:45.708 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:38:45.708 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:38:45.709 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:38:45.709 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:38:45.710 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:38:45.719 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:38:45.719 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:39:24.661 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:39:24.661 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:39:24.662 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:39:24.662 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:39:24.662 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:39:24.702 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：41
2020-05-14 18:39:24.703 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":39}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:39:24.706 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:39:24.706 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:39:24.706 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:39:24.706 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:39:24.706 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:39:24.707 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:39:24.707 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:39:24.707 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:39:24.707 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:39:24.708 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:39:24.708 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:39:24.709 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:39:24.709 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:39:24.709 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:39:24.709 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:39:24.711 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：5
2020-05-14 18:39:24.712 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:39:24.716 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 18:39:24.716 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:39:24.734 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 18:39:24.735 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:40:01.840 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/details/3
2020-05-14 18:40:01.841 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:40:01.841 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:40:01.841 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.read
2020-05-14 18:40:01.841 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:40:01.854 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：14
2020-05-14 18:40:01.855 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":3,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":39},"msg":"操作成功"}
2020-05-14 18:40:01.885 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:40:01.886 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:40:01.886 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:40:01.887 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:40:01.887 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/comment/list/3
2020-05-14 18:40:01.887 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:40:01.887 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:40:01.887 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:40:01.888 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:40:01.888 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:40:01.888 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:40:01.888 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CommentController.listCommentByArticleId
2020-05-14 18:40:01.888 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:40:01.888 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:40:01.888 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:40:01.896 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:40:01.897 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:40:01.906 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：19
2020-05-14 18:40:01.907 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articleId":"3","createTime":"2020-05-14 18:35:19","id":123,"message":"hahaha","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:38:01","id":125,"message":"我回复我自己","parentId":123,"user":"admin"},{"articleId":"3","createTime":"2020-05-14 18:35:38","id":124,"message":"我回复我自己----1","parentId":123,"user":"admin"}],"user":"admin"},{"articleId":"3","createTime":"2020-04-24 12:52:41","id":19,"message":"啊实打实的","parentId":-1,"reply":[{"articleId":"3","createTime":"2020-05-14 18:16:00","id":122,"message":"asjdaskjasnkdnaskjndk","parentId":19,"user":"guest"}],"user":"admin"}],"msg":"操作成功"}
2020-05-14 18:40:01.912 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：25
2020-05-14 18:40:01.913 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:40:14.288 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:40:14.289 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:40:14.289 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:40:14.289 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:40:14.289 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:40:14.331 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：43
2020-05-14 18:40:14.332 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:40:14.332 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:40:14.333 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:40:14.333 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:40:14.333 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:40:14.333 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:40:14.333 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:40:14.333 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:40:14.334 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:40:14.334 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:40:14.334 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:40:14.334 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:40:14.335 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:40:14.337 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:40:14.338 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:40:14.340 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:40:14.342 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：8
2020-05-14 18:40:14.343 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：11
2020-05-14 18:40:14.343 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:40:14.343 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:40:14.359 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 18:40:14.360 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:41:20.701 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:41:20.701 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:41:20.701 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:41:20.701 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:41:20.702 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:41:20.741 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：40
2020-05-14 18:41:20.741 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:41:24.653 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:41:24.654 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:41:24.654 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:41:24.654 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:41:24.654 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:41:24.693 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：40
2020-05-14 18:41:24.694 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:42:11.533 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/myinfo/1
2020-05-14 18:42:11.533 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:42:11.534 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:42:11.534 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.getMyInfo
2020-05-14 18:42:11.534 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:42:11.540 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:42:11.543 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"avatar":"http://cdn.codexing.cn/avatar","birthday":"1998-11-01","email":"2933575030@qq.com","gender":1,"id":1,"tel":"18888888888","userCreateTime":"2020-04-21 17:55:53","username":"admin"},"msg":"操作成功"}
2020-05-14 18:42:41.303 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:42:41.304 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:42:41.304 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:42:41.304 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:42:41.305 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:42:41.362 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：59
2020-05-14 18:42:41.362 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:47:21.281 INFO  [main]org.springframework.core.KotlinDetector.<clinit>:57 -Kotlin reflection implementation not found at runtime, related features won't be available.
2020-05-14 18:47:22.226 INFO  [main]cn.codexing.blog.BlogApplication.logStarting:55 -Starting BlogApplication on GUOXING with PID 12988 (E:\2020\myblog2.0\blog-backend\target\classes started by GuoXing in E:\2020\myblog2.0\blog-backend)
2020-05-14 18:47:22.228 INFO  [main]cn.codexing.blog.BlogApplication.logStartupProfileInfo:655 -The following profiles are active: dev
2020-05-14 18:47:24.438 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected:249 -Multiple Spring Data modules found, entering strict repository configuration mode!
2020-05-14 18:47:24.443 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-05-14 18:47:24.500 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 -Finished Spring Data repository scanning in 38ms. Found 0 Redis repository interfaces.
2020-05-14 18:47:24.937 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:47:24.997 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:47:25.005 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@77a074b4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:47:25.006 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:47:25.020 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:47:25.032 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'redisConfig' of type [cn.codexing.blog.common.config.RedisConfig$$EnhancerBySpringCGLIB$$f970d48d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:47:25.492 INFO  [main]o.s.boot.web.embedded.tomcat.TomcatWebServer.initialize:92 -Tomcat initialized with port(s): 8088 (http)
2020-05-14 18:47:25.505 INFO  [main]org.apache.coyote.http11.Http11NioProtocol.log:173 -Initializing ProtocolHandler ["http-nio-8088"]
2020-05-14 18:47:25.505 INFO  [main]org.apache.catalina.core.StandardService.log:173 -Starting service [Tomcat]
2020-05-14 18:47:25.506 INFO  [main]org.apache.catalina.core.StandardEngine.log:173 -Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-05-14 18:47:25.659 INFO  [main]o.a.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log:173 -Initializing Spring embedded WebApplicationContext
2020-05-14 18:47:25.660 INFO  [main]org.springframework.web.context.ContextLoader.prepareWebApplicationContext:284 -Root WebApplicationContext: initialization completed in 3265 ms
2020-05-14 18:47:28.471 INFO  [main]com.alibaba.druid.pool.DruidDataSource.close:1965 -{dataSource-0} closing ...
2020-05-14 18:47:28.487 INFO  [main]org.apache.catalina.core.StandardService.log:173 -Stopping service [Tomcat]
2020-05-14 18:47:28.506 INFO  [main]o.s.b.a.logging.ConditionEvaluationReportLoggingListener.logMessage:136 -

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-05-14 18:49:15.566 INFO  [main]org.springframework.core.KotlinDetector.<clinit>:57 -Kotlin reflection implementation not found at runtime, related features won't be available.
2020-05-14 18:49:16.252 INFO  [main]cn.codexing.blog.BlogApplication.logStarting:55 -Starting BlogApplication on GUOXING with PID 7208 (E:\2020\myblog2.0\blog-backend\target\classes started by GuoXing in E:\2020\myblog2.0\blog-backend)
2020-05-14 18:49:16.253 INFO  [main]cn.codexing.blog.BlogApplication.logStartupProfileInfo:655 -The following profiles are active: dev
2020-05-14 18:49:17.741 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected:249 -Multiple Spring Data modules found, entering strict repository configuration mode!
2020-05-14 18:49:17.743 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-05-14 18:49:17.787 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 -Finished Spring Data repository scanning in 31ms. Found 0 Redis repository interfaces.
2020-05-14 18:49:18.175 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:18.241 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:18.247 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@267dc982' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:18.250 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:18.262 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:18.273 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'redisConfig' of type [cn.codexing.blog.common.config.RedisConfig$$EnhancerBySpringCGLIB$$9646a2f3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:18.851 INFO  [main]o.s.boot.web.embedded.tomcat.TomcatWebServer.initialize:92 -Tomcat initialized with port(s): 8088 (http)
2020-05-14 18:49:18.862 INFO  [main]org.apache.coyote.http11.Http11NioProtocol.log:173 -Initializing ProtocolHandler ["http-nio-8088"]
2020-05-14 18:49:18.863 INFO  [main]org.apache.catalina.core.StandardService.log:173 -Starting service [Tomcat]
2020-05-14 18:49:18.864 INFO  [main]org.apache.catalina.core.StandardEngine.log:173 -Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-05-14 18:49:18.963 INFO  [main]o.a.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log:173 -Initializing Spring embedded WebApplicationContext
2020-05-14 18:49:18.964 INFO  [main]org.springframework.web.context.ContextLoader.prepareWebApplicationContext:284 -Root WebApplicationContext: initialization completed in 2582 ms
2020-05-14 18:49:21.513 INFO  [main]com.alibaba.druid.pool.DruidDataSource.close:1965 -{dataSource-0} closing ...
2020-05-14 18:49:21.535 INFO  [main]org.apache.catalina.core.StandardService.log:173 -Stopping service [Tomcat]
2020-05-14 18:49:21.568 INFO  [main]o.s.b.a.logging.ConditionEvaluationReportLoggingListener.logMessage:136 -

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-05-14 18:49:47.291 INFO  [main]org.springframework.core.KotlinDetector.<clinit>:57 -Kotlin reflection implementation not found at runtime, related features won't be available.
2020-05-14 18:49:48.020 INFO  [main]cn.codexing.blog.BlogApplication.logStarting:55 -Starting BlogApplication on GUOXING with PID 10280 (E:\2020\myblog2.0\blog-backend\target\classes started by GuoXing in E:\2020\myblog2.0\blog-backend)
2020-05-14 18:49:48.021 INFO  [main]cn.codexing.blog.BlogApplication.logStartupProfileInfo:655 -The following profiles are active: dev
2020-05-14 18:49:49.393 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected:249 -Multiple Spring Data modules found, entering strict repository configuration mode!
2020-05-14 18:49:49.395 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-05-14 18:49:49.439 INFO  [main]o.s.d.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 -Finished Spring Data repository scanning in 31ms. Found 0 Redis repository interfaces.
2020-05-14 18:49:49.823 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:49.881 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:49.886 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1d9bd4da' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:49.890 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:49.903 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:49.915 INFO  [main]o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization:330 -Bean 'redisConfig' of type [cn.codexing.blog.common.config.RedisConfig$$EnhancerBySpringCGLIB$$634ab938] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-14 18:49:50.394 INFO  [main]o.s.boot.web.embedded.tomcat.TomcatWebServer.initialize:92 -Tomcat initialized with port(s): 8088 (http)
2020-05-14 18:49:50.402 INFO  [main]org.apache.coyote.http11.Http11NioProtocol.log:173 -Initializing ProtocolHandler ["http-nio-8088"]
2020-05-14 18:49:50.402 INFO  [main]org.apache.catalina.core.StandardService.log:173 -Starting service [Tomcat]
2020-05-14 18:49:50.403 INFO  [main]org.apache.catalina.core.StandardEngine.log:173 -Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-05-14 18:49:50.498 INFO  [main]o.a.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log:173 -Initializing Spring embedded WebApplicationContext
2020-05-14 18:49:50.498 INFO  [main]org.springframework.web.context.ContextLoader.prepareWebApplicationContext:284 -Root WebApplicationContext: initialization completed in 2401 ms
2020-05-14 18:49:53.595 INFO  [main]s.d.s.web.PropertySourcedRequestMappingHandlerMapping.initHandlerMethods:69 -Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-05-14 18:49:53.790 INFO  [main]o.s.security.web.DefaultSecurityFilterChain.<init>:43 -Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5350ab17, org.springframework.security.web.context.SecurityContextPersistenceFilter@20027c44, org.springframework.security.web.header.HeaderWriterFilter@71b0289b, org.springframework.security.web.authentication.logout.LogoutFilter@4fa0ee7e, cn.codexing.blog.common.filter.JwtAuthenticationFilter@6c742b84, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f4f843f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d84e363, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2bfa17b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@984de01, org.springframework.security.web.session.SessionManagementFilter@563172d3, org.springframework.security.web.access.ExceptionTranslationFilter@ae3c140, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c77344f]
2020-05-14 18:49:54.522 INFO  [main]s.d.spring.web.plugins.DocumentationPluginsBootstrapper.start:160 -Context refreshed
2020-05-14 18:49:54.538 INFO  [main]s.d.spring.web.plugins.DocumentationPluginsBootstrapper.start:163 -Found 1 custom documentation plugin(s)
2020-05-14 18:49:54.572 INFO  [main]s.d.spring.web.scanners.ApiListingReferenceScanner.scan:41 -Scanning for api listing references
2020-05-14 18:49:54.764 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByPageUsingPOST_1
2020-05-14 18:49:54.797 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_1
2020-05-14 18:49:54.805 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByPageUsingPOST_2
2020-05-14 18:49:54.811 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_2
2020-05-14 18:49:54.823 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_3
2020-05-14 18:49:54.834 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByIdUsingGET_4
2020-05-14 18:49:54.842 INFO  [main]s.d.s.w.readers.operation.CachingOperationNameGenerator.startingWith:40 -Generating unique operation named: getByPageUsingPOST_3
2020-05-14 18:49:54.886 INFO  [main]org.apache.coyote.http11.Http11NioProtocol.log:173 -Starting ProtocolHandler ["http-nio-8088"]
2020-05-14 18:49:54.908 INFO  [main]o.s.boot.web.embedded.tomcat.TomcatWebServer.start:204 -Tomcat started on port(s): 8088 (http) with context path ''
2020-05-14 18:49:54.911 INFO  [main]cn.codexing.blog.BlogApplication.logStarted:61 -Started BlogApplication in 7.548 seconds (JVM running for 8.863)
2020-05-14 18:49:58.960 INFO  [http-nio-8088-exec-2]o.a.catalina.core.ContainerBase.[Tomcat].[localhost].[/].log:173 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-14 18:49:58.961 INFO  [http-nio-8088-exec-2]org.springframework.web.servlet.DispatcherServlet.initServletBean:525 -Initializing Servlet 'dispatcherServlet'
2020-05-14 18:49:58.974 INFO  [http-nio-8088-exec-2]org.springframework.web.servlet.DispatcherServlet.initServletBean:547 -Completed initialization in 13 ms
2020-05-14 18:49:59.012 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/qq
2020-05-14 18:49:59.013 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:49:59.014 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：0:0:0:0:0:0:0:1
2020-05-14 18:49:59.015 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithQq
2020-05-14 18:49:59.016 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：PostmanRuntime/7.24.1
2020-05-14 18:49:59.019 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 18:49:59.032 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101873713&redirect_uri=http://localhost:8088/oauth2/qq/callback&state=qq.state"}
2020-05-14 18:49:59.344 INFO  [http-nio-8088-exec-2]com.alibaba.druid.pool.DruidDataSource.init:1003 -{dataSource-1} inited
2020-05-14 18:50:55.829 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/qq
2020-05-14 18:50:55.830 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:50:55.831 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：0:0:0:0:0:0:0:1
2020-05-14 18:50:55.831 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithQq
2020-05-14 18:50:55.831 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:50:55.832 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：3
2020-05-14 18:50:55.832 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101873713&redirect_uri=http://localhost:8088/oauth2/qq/callback&state=qq.state"}
2020-05-14 18:56:22.785 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 18:56:22.786 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:56:22.787 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:56:22.788 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 18:56:22.808 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:56:22.809 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：24
2020-05-14 18:56:22.810 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 18:57:08.847 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:57:08.847 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:57:08.848 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:57:08.848 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:57:08.849 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:08.849 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:08.849 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:57:08.850 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:57:08.850 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:08.850 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:08.888 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：41
2020-05-14 18:57:08.895 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:57:08.914 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：66
2020-05-14 18:57:08.938 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:57:08.943 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:57:08.943 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:57:08.944 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:57:08.944 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:57:08.945 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:08.945 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:08.945 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:57:08.945 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:57:08.945 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:08.945 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:09.048 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：105
2020-05-14 18:57:09.056 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:57:09.106 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：163
2020-05-14 18:57:09.109 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:57:44.498 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:57:44.499 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:57:44.500 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:44.501 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:57:44.501 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:44.502 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:57:44.502 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:57:44.502 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:44.503 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:57:44.504 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:44.509 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:57:44.510 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:57:44.511 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:44.511 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:57:44.511 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:44.580 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：71
2020-05-14 18:57:44.581 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 18:57:44.584 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：82
2020-05-14 18:57:44.585 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:57:44.637 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：139
2020-05-14 18:57:44.639 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:57:44.833 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:57:44.833 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:57:44.833 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:44.834 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:57:44.834 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:44.837 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：4
2020-05-14 18:57:44.838 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:57:49.308 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 18:57:49.310 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 18:57:49.529 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:57:49.529 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 18:57:49.530 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:49.530 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:49.530 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 18:57:49.530 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 18:57:49.531 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:49.531 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:49.570 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：260
2020-05-14 18:57:49.570 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:57:49.616 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：308
2020-05-14 18:57:49.618 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 18:57:49.622 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 18:57:49.625 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:57:49.626 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:49.626 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 18:57:49.626 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:49.620 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 18:57:49.631 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 18:57:49.631 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：9
2020-05-14 18:57:49.632 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 18:57:49.631 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 18:57:49.638 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 18:57:49.639 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 18:57:49.655 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：35
2020-05-14 18:57:49.655 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 19:00:58.456 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/user/login/github
2020-05-14 19:00:58.456 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 19:00:58.456 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:00:58.457 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.UserController.loginWithGithub
2020-05-14 19:00:58.457 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:00:58.457 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：2
2020-05-14 19:00:58.458 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"msg":"https://github.com/login/oauth/authorize?client_id=c9a3731b26969bdd7d96&redirect_uri=http://localhost:8088/user/oauth2/github/callback"}
2020-05-14 19:01:01.559 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 19:01:01.560 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 19:01:01.561 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:01.562 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 19:01:01.565 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 19:01:01.566 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 19:01:01.566 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:01.566 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:01.567 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 19:01:01.567 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:01.608 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：43
2020-05-14 19:01:01.608 INFO  [http-nio-8088-exec-6]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 19:01:01.652 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：93
2020-05-14 19:01:01.653 INFO  [http-nio-8088-exec-8]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 19:01:01.870 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 19:01:01.871 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 19:01:01.871 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:01.871 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 19:01:01.872 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:01.873 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 19:01:01.873 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 19:01:01.873 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:01.874 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 19:01:01.874 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:01.883 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：10
2020-05-14 19:01:01.884 INFO  [http-nio-8088-exec-3]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
2020-05-14 19:01:01.885 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：15
2020-05-14 19:01:01.886 INFO  [http-nio-8088-exec-4]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 19:01:27.092 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/category/list
2020-05-14 19:01:27.092 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 19:01:27.093 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:27.093 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.CategoryController.getByPage
2020-05-14 19:01:27.093 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:27.118 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：26
2020-05-14 19:01:27.121 INFO  [http-nio-8088-exec-7]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"1","categoryName":"测试","enable":true,"id":1},{"articleCount":"3","categoryName":"微服务","enable":true,"id":2},{"articleCount":"2","categoryName":"数据库","enable":true,"id":3},{"articleCount":"1","categoryName":"其他","enable":true,"id":4},{"articleCount":"0","categoryName":"转载","enable":true,"id":5}],"pageSize":20,"params":{},"totalCount":5,"totalPage":1},"msg":"操作成功"}
2020-05-14 19:01:28.479 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/archive/list
2020-05-14 19:01:28.480 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 19:01:28.481 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:28.481 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listArchive
2020-05-14 19:01:28.482 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:28.500 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：21
2020-05-14 19:01:28.509 INFO  [http-nio-8088-exec-9]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"articles":[{"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","title":"mysql练习题"},{"createTime":"2020-04-19 15:36:25","id":"1251776651612700674","title":"springboot jackson"},{"createTime":"2020-04-19 15:12:12","id":"1251770557519675394","title":"test"},{"createTime":"2020-04-19 13:52:57","id":"1251750614375907330","title":"123123123"},{"createTime":"2020-04-19 12:15:26","id":"1251726075243896833","title":"sdfsdf"},{"createTime":"2020-04-19 12:14:41","id":"1251725884101074946","title":"sdf"},{"createTime":"2020-04-19 12:11:56","id":"1251725190564519937","title":"阿道夫啊实打实的"},{"createTime":"2020-04-19 11:36:19","id":"1251716229803122690","title":"上的撒旦发射点"},{"createTime":"2020-04-18 17:30:52","id":"6","title":"save"},{"createTime":"2020-04-18 11:00:05","id":"5","title":"12515215"},{"createTime":"2020-04-08 10:54:04","id":"2","title":"这是推荐阅读的文章哇"},{"createTime":"2020-03-23 15:55:15","id":"1","title":"mybatis plus 乐观锁测试时间"}],"year":"2020"},{"articles":[{"createTime":"2019-06-17 23:48:04","id":"3","title":"岁的法国士大夫"},{"createTime":"2019-06-14 12:21:50","id":"4","title":"这是置顶的文章哇"}],"year":"2019"}],"msg":"操作成功"}
2020-05-14 19:01:49.573 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/list
2020-05-14 19:01:49.573 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 19:01:49.574 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:49.574 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.getByPage
2020-05-14 19:01:49.574 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:49.587 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/tag/list
2020-05-14 19:01:49.588 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：POST
2020-05-14 19:01:49.589 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:49.589 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/article/recommend/list
2020-05-14 19:01:49.590 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 19:01:49.590 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.TagController.getByPage
2020-05-14 19:01:49.591 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:49.591 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:49.591 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.ArticleController.listRecommend
2020-05-14 19:01:49.592 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:49.607 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：18
2020-05-14 19:01:49.607 INFO  [http-nio-8088-exec-2]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"category":{"categoryName":"数据库","id":3},"createTime":"2020-04-19 15:51:17","id":"1251780392676016129","likeCount":0,"tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题"}],"msg":"操作成功"}
2020-05-14 19:01:49.619 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：32
2020-05-14 19:01:49.620 INFO  [http-nio-8088-exec-1]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"articleCount":"2","enable":true,"id":1,"name":"spring"},{"articleCount":"4","enable":true,"id":2,"name":"java"},{"articleCount":"2","enable":true,"id":3,"name":"mysql"},{"articleCount":"0","enable":true,"id":4,"name":"javascript"},{"articleCount":"0","enable":true,"id":5,"name":"Python"},{"articleCount":"0","enable":true,"id":6,"name":"vue"}],"pageSize":20,"params":{},"totalCount":6,"totalPage":1},"msg":"操作成功"}
2020-05-14 19:01:49.639 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：66
2020-05-14 19:01:49.641 INFO  [http-nio-8088-exec-5]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":{"currPage":1,"list":[{"author":"3","category":{"categoryName":"其他","id":4},"commentCount":0,"content":"save","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2019-06-14 12:21:50","enable":true,"id":"4","likeCount":12,"recommend":false,"summary":"1","tagList":[{"id":3,"name":"mysql"}],"title":"这是置顶的文章哇","top":true,"updateTime":"2020-04-20 15:19:20","views":1173},{"author":"xing","category":{"categoryName":"数据库","id":3},"commentCount":1,"content":"### 建表\n\n- 学生表\n\n```mysql\nCREATE TABLE `Student`(\n`s_id` VARCHAR(20),\n`s_name` VARCHAR(20) NOT NULL DEFAULT '',\n`s_birth` VARCHAR(20) NOT NULL DEFAULT '',\n`s_sex` VARCHAR(10) NOT NULL DEFAULT '',\nPRIMARY KEY(`s_id`)\n);\n```\n\n- 课程表\n\n```mysql\nCREATE TABLE `Course`(\n`c_id`  VARCHAR(20),\n`c_name` VARCHAR(20) NOT NULL DEFAULT '',\n`t_id` VARCHAR(20) NOT NULL,\nPRIMARY KEY(`c_id`)\n);\n```\n\n- 教师表\n\n```mysql\nCREATE TABLE `Teacher`(\n`t_id` VARCHAR(20),\n`t_name` VARCHAR(20) NOT NULL DEFAULT '',\nPRIMARY KEY(`t_id`)\n);\n```\n\n- 成绩表\n\n```mysql\nCREATE TABLE `Score`(\n`s_id` VARCHAR(20),\n`c_id`  VARCHAR(20),\n`s_score` INT(3),\nPRIMARY KEY(`s_id`,`c_id`)\n);\n```\n\n- 插入学生表测试数据\n\n```mysql\ninsert into Student values('01' , '赵雷' , '1990-01-01' , '男');\ninsert into Student values('02' , '钱电' , '1990-12-21' , '男');\ninsert into Student values('03' , '孙风' , '1990-05-20' , '男');\ninsert into Student values('04' , '李云' , '1990-08-06' , '男');\ninsert into Student values('05' , '周梅' , '1991-12-01' , '女');\ninsert into Student values('06' , '吴兰' , '1992-03-01' , '女');\ninsert into Student values('07' , '郑竹' , '1989-07-01' , '女');\ninsert into Student values('08' , '王菊' , '1990-01-20' , '女');\n```\n\n- 课程表测试数据\n\n```mysql\ninsert into Course values('01' , '语文' , '02');\ninsert into Course values('02' , '数学' , '01');\ninsert into Course values('03' , '英语' , '03');\n```\n\n- 教师表测试数据\n\n```mysql\ninsert into Teacher values('01' , '张三');\ninsert into Teacher values('02' , '李四');\ninsert into Teacher values('03' , '王五');\n```\n\n- 成绩表测试数据\n\n```mysql\ninsert into Score values('01' , '01' , 80);\ninsert into Score values('01' , '02' , 90);\ninsert into Score values('01' , '03' , 99);\ninsert into Score values('02' , '01' , 70);\ninsert into Score values('02' , '02' , 60);\ninsert into Score values('02' , '03' , 80);\ninsert into Score values('03' , '01' , 80);\ninsert into Score values('03' , '02' , 80);\ninsert into Score values('03' , '03' , 80);\ninsert into Score values('04' , '01' , 50);\ninsert into Score values('04' , '02' , 30);\ninsert into Score values('04' , '03' , 20);\ninsert into Score values('05' , '01' , 76);\ninsert into Score values('05' , '02' , 87);\ninsert into Score values('06' , '01' , 31);\ninsert into Score values('06' , '03' , 34);\ninsert into Score values('07' , '02' , 89);\ninsert into Score values('07' , '03' , 98);\n```\n\n### 练习题和sql语句\n\n1. 查询\"01\"课程比\"02\"课程成绩高的学生的信息及课程分数\n\n```mysql\nselect a.*,b.s_score as 01_score,c.s_score as 02_score from student   a,score b,score c \nwhere a.s_id=b.s_id \nand a.s_id=c.s_id \nand b.c_id='01' \nand c.c_id='02' \nand b.s_score>c.s_score\n```\n\n2. 查询\"01\"课程比\"02\"课程成绩低的学生的信息及课程分数\n\n```mysql\nselect a.* ,b.s_score as 01_score,c.s_score as 02_score from \nstudent a left join score b on a.s_id=b.s_id and b.c_id='01' or b.c_id=NULL \njoin score c on a.s_id=c.s_id and c.c_id='02' where b.s_score<c.s_score\n```\n\n3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \njoin score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score >=60;\n```\n\n4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩(包括有成绩的和无成绩的)\n\n```mysql\nselect b.s_id,b.s_name,ROUND(AVG(a.s_score),2) as avg_score from \nstudent b \nleft join score a on b.s_id = a.s_id\nGROUP BY b.s_id,b.s_name HAVING avg_score <60\nunion\nselect a.s_id,a.s_name,0 as avg_score from \nstudent a \nwhere a.s_id not in (\nselect distinct s_id from score);\n```\n\n5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩\n\n```mysql\nselect a.s_id,a.s_name,count(b.c_id) as sum_course,sum(b.s_score) as sum_score from \nstudent a \nleft join score b on a.s_id=b.s_id\nGROUP BY a.s_id,a.s_name;\n```\n\n6. 查询\"李\"姓老师的数量 \n\n```mysql\nselect count(t_id) from teacher where t_name like '李%';\n```\n\n7. 查询学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect a.* from \nstudent a \njoin score b on a.s_id=b.s_id where b.c_id in(\nselect c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三'));\n```\n\n\n\n8. 查询没学过\"张三\"老师授课的同学的信息 \n\n```mysql\nselect * from \n    student c \n    where c.s_id not in(\n        select a.s_id from student a join score b on a.s_id=b.s_id where b.c_id in(\n        select a.c_id from course a join teacher b on a.t_id = b.t_id where t_name ='张三'));\n```\n\n\n\n9. 查询学过编号为\"01\"并且也学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a,score b,score c \nwhere a.s_id = b.s_id  and a.s_id = c.s_id and b.c_id='01' and c.c_id='02';\n```\n\n10. 查询学过编号为\"01\"但是没有学过编号为\"02\"的课程的同学的信息\n\n```mysql\nselect a.* from \nstudent a \nwhere a.s_id in (select s_id from score where c_id='01' ) and a.s_id not in(select s_id from score where c_id='02')\n```\n\n11. 查询没有学全所有课程的同学的信息 \n\n```mysql\n--@wendiepei的写法\nselect s.* from student s \nleft join Score s1 on s1.s_id=s.s_id\ngroup by s.s_id having count(s1.c_id)<(select count(*) from course)\t\n--@k1051785839的写法\nselect *\nfrom student\nwhere s_id not in(\nselect s_id from score t1  \ngroup by s_id having count(*) =(select count(distinct c_id)  from course)) \n```\n\n12. 查询至少有一门课与学号为\"01\"的同学所学相同的同学的信息 \n\n```mysql\nselect * from student where s_id in(\nselect distinct a.s_id from score a where a.c_id in(select a.c_id from score a where a.s_id='01')\n);\n```\n\n13. 查询和\"01\"号的同学学习的课程完全相同的其他同学的信息 \n\n```mysql\n--@ouyang_1993的写法\nSELECT\n Student.*\nFROM\n Student\nWHERE\n s_id IN (SELECT s_id FROM Score GROUP BY s_id HAVING COUNT(s_id) = (\n    #下面的语句是找到'01'同学学习的课程数\n    SELECT COUNT(c_id) FROM Score WHERE s_id = '01'\n   )\n )\nAND s_id NOT IN (\n #下面的语句是找到学过‘01’同学没学过的课程，有哪些同学。并排除他们\n SELECT s_id FROM Score\n WHERE c_id IN(\n   #下面的语句是找到‘01’同学没学过的课程\n   SELECT DISTINCT c_id FROM Score\n   WHERE c_id NOT IN (\n     #下面的语句是找出‘01’同学学习的课程\n     SELECT c_id FROM Score WHERE s_id = '01'\n    )\n  ) GROUP BY s_id\n) #下面的条件是排除01同学\nAND s_id NOT IN ('01')\n--@k1051785839的写法\nSELECT\n t3.*\nFROM\n (\n  SELECT\n   s_id,\n   group_concat(c_id ORDER BY c_id) group1\n  FROM\n   score\n  WHERE\n   s_id &lt;> '01'\n  GROUP BY\n   s_id\n ) t1\nINNER JOIN (\n SELECT\n  group_concat(c_id ORDER BY c_id) group2\n FROM\n  score\n WHERE\n  s_id = '01'\n GROUP BY\n  s_id\n) t2 ON t1.group1 = t2.group2\nINNER JOIN student t3 ON t1.s_id = t3.s_id\n```\n\n14. 查询没学过\"张三\"老师讲授的任一门课程的学生姓名 \n\n```mysql\nselect a.s_name from student a where a.s_id not in (\nselect s_id from score where c_id = \n(select c_id from course where t_id =(\nselect t_id from teacher where t_name = '张三')));\n```\n\n15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 \n\n```mysql\nselect a.s_id,a.s_name,ROUND(AVG(b.s_score)) from \nstudent a \nleft join score b on a.s_id = b.s_id\nwhere a.s_id in(\nselect s_id from score where s_score<60 GROUP BY  s_id having count(1)>=2)\nGROUP BY a.s_id,a.s_name\n```\n\n16. 检索\"01\"课程分数小于60，按分数降序排列的学生信息\n\n```mysql\nselect a.*,b.c_id,b.s_score from \nstudent a,score b \nwhere a.s_id = b.s_id and b.c_id='01' and b.s_score<60 ORDER BY b.s_score DESC;\n```\n\n17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩\n\n```mysql\nselect a.s_id,(select s_score from score where s_id=a.s_id and c_id='01') as 语文,\n(select s_score from score where s_id=a.s_id and c_id='02') as 数学,\n(select s_score from score where s_id=a.s_id and c_id='03') as 英语,\nround(avg(s_score),2) as 平均分 from score a  GROUP BY a.s_id ORDER BY 平均分 DESC;\n--@喝完这杯还有一箱的写法\nSELECT a.s_id,MAX(CASE a.c_id WHEN '01' THEN a.s_score END ) 语文, \nMAX(CASE a.c_id WHEN '02' THEN a.s_score END ) 数学, \nMAX(CASE a.c_id WHEN '03' THEN a.s_score END ) 英语, \navg(a.s_score),b.s_name FROM Score a JOIN Student b ON a.s_id=b.s_id GROUP BY a.s_id ORDER BY 5 DESC\n```\n\n18. 查询各科成绩最高分、最低分和平均分：以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率\n    --及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90\n\n```mysql\nselect a.c_id,b.c_name,MAX(s_score),MIN(s_score),ROUND(AVG(s_score),2),\nROUND(100*(SUM(case when a.s_score>=60 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 及格率,\nROUND(100*(SUM(case when a.s_score>=70 and a.s_score<=80 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 中等率,\nROUND(100*(SUM(case when a.s_score>=80 and a.s_score<=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优良率,\nROUND(100*(SUM(case when a.s_score>=90 then 1 else 0 end)/SUM(case when a.s_score then 1 else 0 end)),2) as 优秀率\nfrom score a left join course b on a.c_id = b.c_id GROUP BY a.c_id,b.c_name\n```\n\n19. 按各科成绩进行排序，并显示排名\n\n```mysql\n-- mysql没有rank函数\nselect a.s_id,a.c_id,\n        @i:=@i +1 as i保留排名,\n        @k:=(case when @score=a.s_score then @k else @i end) as rank不保留排名,\n        @score:=a.s_score as score\n    from (\n        select s_id,c_id,s_score from score GROUP BY s_id,c_id,s_score ORDER BY s_score DESC\n    )a,(select @k:=0,@i:=0,@score:=0)s\n--@k1051785839的写法\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='01') rank\n                FROM score t1 where t1.c_id='01'\n                order by t1.s_score desc) t1)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='02') rank\n                FROM score t1 where t1.c_id='02'\n                order by t1.s_score desc) t2)\nunion\n(select * from (select \n                t1.c_id,\n                t1.s_score,\n                (select count(distinct t2.s_score) from score t2 where t2.s_score>=t1.s_score and t2.c_id='03') rank\n                FROM score t1 where t1.c_id='03'\n                order by t1.s_score desc) t3)\n```\n\n20. 查询学生的总成绩并进行排名\n\n```mysql\nselect a.s_id,\n@i:=@i+1 as i,\n@k:=(case when @score=a.sum_score then @k else @i end) as rank,\n@score:=a.sum_score as score\nfrom (select s_id,SUM(s_score) as sum_score from score GROUP BY s_id ORDER BY sum_score DESC)a,\n(select @k:=0,@i:=0,@score:=0)s\n```\n\n21. 查询不同老师所教不同课程平均分从高到低显示 \n\n```mysql\nselect a.t_id,c.t_name,a.c_id,ROUND(avg(s_score),2) as avg_score from course a\nleft join score b on a.c_id=b.c_id \nleft join teacher c on a.t_id=c.t_id\nGROUP BY a.c_id,a.t_id,c.t_name ORDER BY avg_score DESC;\n```\n\n22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩\n\n```mysql\nselect d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@i:=@i+1 as 排名 from score a,(select @i:=0)s where a.c_id='01'  \nORDER BY a.s_score DESC  \n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@j:=@j+1 as 排名 from score a,(select @j:=0)s where a.c_id='02'  \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3\n            UNION\n            select d.*,c.排名,c.s_score,c.c_id from (\n                select a.s_id,a.s_score,a.c_id,@k:=@k+1 as 排名 from score a,(select @k:=0)s where a.c_id='03' \nORDER BY a.s_score DESC\n            )c\n            left join student d on c.s_id=d.s_id\n            where 排名 BETWEEN 2 AND 3;\n```\n\n23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比\n\n```mysql\nselect distinct f.c_name,a.c_id,b.`85-100`,b.百分比,c.`70-85`,c.百分比,d.`60-70`,d.百分比,e.`0-60`,e.百分比 from score a\nleft join (select c_id,SUM(case when s_score >85 and s_score <=100 then 1 else 0 end) as `85-100`,\nROUND(100*(SUM(case when s_score >85 and s_score <=100 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)b on a.c_id=b.c_id\nleft join (select c_id,SUM(case when s_score >70 and s_score <=85 then 1 else 0 end) as `70-85`,\nROUND(100*(SUM(case when s_score >70 and s_score <=85 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)c on a.c_id=c.c_id\nleft join (select c_id,SUM(case when s_score >60 and s_score <=70 then 1 else 0 end) as `60-70`,\nROUND(100*(SUM(case when s_score >60 and s_score <=70 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)d on a.c_id=d.c_id\nleft join (select c_id,SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end) as `0-60`,\nROUND(100*(SUM(case when s_score >=0 and s_score <=60 then 1 else 0 end)/count(*)),2) as 百分比\nfrom score GROUP BY c_id)e on a.c_id=e.c_id\nleft join course f on a.c_id = f.c_id\n```\n\n24. 查询学生平均成绩及其名次 \n\n```mysql\nselect a.s_id,\n@i:=@i+1 as '不保留空缺排名',\n@k:=(case when @avg_score=a.avg_s then @k else @i end) as '保留空缺排名',\n@avg_score:=avg_s as '平均分'\nfrom (select s_id,ROUND(AVG(s_score),2) as avg_s from score GROUP BY s_id ORDER BY avg_s DESC)a,(select @avg_score:=0,@i:=0,@k:=0)b;\n```\n\n25. 查询各科成绩前三名的记录\n\n```mysql\n-- 1.选出b表比a表成绩大的所有组\n-- 2.选出比当前id成绩大的 小于三个的\nselect a.s_id,a.c_id,a.s_score from score a \nleft join score b on a.c_id = b.c_id and a.s_score<b.s_score\ngroup by a.s_id,a.c_id,a.s_score HAVING COUNT(b.s_id)<3\nORDER BY a.c_id,a.s_score DESC\n```\n\n26. 查询每门课程被选修的学生数 \n\n```mysql\nselect c_id,count(s_id) from score a GROUP BY c_id\n```\n\n27. 查询出只有两门课程的全部学生的学号和姓名 \n\n```mysql\nselect s_id,s_name from student where s_id in(\nselect s_id from score GROUP BY s_id HAVING COUNT(c_id)=2);\n```\n\n28. 查询男生、女生人数 \n\n```mysql\nselect s_sex,COUNT(s_sex) as 人数  from student GROUP BY s_sex\n```\n\n29. 查询名字中含有\"风\"字的学生信息\n\n```mysql\nselect * from student where s_name like '%风%';\n```\n\n30. 查询同名同性学生名单，并统计同名人数 \t\t\n\n```mysql\nselect a.s_name,a.s_sex,count(*) from student a  JOIN \nstudent b on a.s_id !=b.s_id and a.s_name = b.s_name and a.s_sex = b.s_sex\nGROUP BY a.s_name,a.s_sex\n```\n\n31. 查询1990年出生的学生名单\n\n```mysql\nselect s_name from student where s_birth like '1990%'\n```\n\n32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 \n\n```mysql\nselect c_id,ROUND(AVG(s_score),2) as avg_score from score GROUP BY c_id ORDER BY avg_score DESC,c_id ASC\n```\n\n33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩 \n\n```mysql\nselect a.s_id,b.s_name,ROUND(avg(a.s_score),2) as avg_score from score a\nleft join student b on a.s_id=b.s_id GROUP BY s_id HAVING avg_score>=85\n```\n\n34. 查询课程名称为\"数学\"，且分数低于60的学生姓名和分数 \t\n\n```mysql\nselect a.s_name,b.s_score from score b join student a on a.s_id=b.s_id where b.c_id=(\nselect c_id from course where c_name ='数学') and b.s_score<60\n```\n\n35. 查询所有学生的课程及分数情况；\n\n```mysql\nselect a.s_id,a.s_name,\nSUM(case c.c_name when '语文' then b.s_score else 0 end) as '语文',\nSUM(case c.c_name when '数学' then b.s_score else 0 end) as '数学',\nSUM(case c.c_name when '英语' then b.s_score else 0 end) as '英语',\nSUM(b.s_score) as  '总分'\nfrom student a left join score b on a.s_id = b.s_id \nleft join course c on b.c_id = c.c_id \nGROUP BY a.s_id,a.s_name\n```\n\n36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数； \n\n```mysql\nselect a.s_name,b.c_name,c.s_score from course b left join score c on b.c_id = c.c_id\nleft join student a on a.s_id=c.s_id where c.s_score>=70\n```\n\n37. 查询不及格的课程\n\n```mysql\nselect a.s_id,a.c_id,b.c_name,a.s_score from score a left join course b on a.c_id = b.c_id\nwhere a.s_score<60 \n```\n\n38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名； \n\n```mysql\nselect a.s_id,b.s_name from score a LEFT JOIN student b on a.s_id = b.s_id\nwhere a.c_id = '01'and a.s_score>80\n```\n\n39. 求每门课程的学生人数 \n\n```mysql\nselect count(*) from score GROUP BY c_id;\n```\n\n40. 查询选修\"张三\"老师所授课程的学生中，成绩最高的学生信息及其成绩\n\n```mysql\n-- 查询老师id\t\nselect c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三'\n-- 查询最高分（可能有相同分数）\nselect MAX(s_score) from score where c_id='02'\n-- 查询信息\nselect a.*,b.s_score,b.c_id,c.c_name from student a\nLEFT JOIN score b on a.s_id = b.s_id\nLEFT JOIN course c on b.c_id=c.c_id\nwhere b.c_id =(select c_id from course c,teacher d where c.t_id=d.t_id and d.t_name='张三')\nand b.s_score in (select MAX(s_score) from score where c_id='02')\n```\n\n41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 \n\n```mysql\nselect DISTINCT b.s_id,b.c_id,b.s_score from score a,score b where a.c_id != b.c_id and a.s_score = b.s_score\n```\n\n42. 查询每门功成绩最好的前两名 \n\n```mysql\nselect a.s_id,a.c_id,a.s_score from score a\nwhere (select COUNT(1) from score b where b.c_id=a.c_id and b.s_score>=a.s_score)<=2 ORDER BY a.c_id\n```\n\n43. 统计每门课程的学生选修人数（超过5人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列  \n\n```mysql\nselect c_id,count(*) as total from score GROUP BY c_id HAVING total>5 ORDER BY total,c_id ASC\n```\n\n44. 检索至少选修两门课程的学生学号 \n\n```mysql\nselect s_id,count(*) as sel from score GROUP BY s_id HAVING sel>=2\n```\n\n45. 查询选修了全部课程的学生信息 \n\n```mysql\nselect * from student where s_id in(\t\t\nselect s_id from score GROUP BY s_id HAVING count(*)=(select count(*) from course))\n```\n\n46. 查询各学生的年龄\n\n```mysql\n# 按照出生日期来算，当前月日 < 出生年月的月日则，年龄减一\nselect s_birth,(DATE_FORMAT(NOW(),'%Y')-DATE_FORMAT(s_birth,'%Y') - \n(case when DATE_FORMAT(NOW(),'%m%d')>DATE_FORMAT(s_birth,'%m%d') then 0 else 1 end)) as age\nfrom student;\n```\n\n47. 查询本周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))=WEEK(s_birth)\nselect * from student where YEARWEEK(s_birth)=YEARWEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n\t\nselect WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))\n```\n\n48. 查询下周过生日的学生\n\n```mysql\nselect * from student where WEEK(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =WEEK(s_birth)\n```\n\n49. 查询本月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d')) =MONTH(s_birth)\n```\n\n50. 查询下月过生日的学生\n\n```mysql\nselect * from student where MONTH(DATE_FORMAT(NOW(),'%Y%m%d'))+1 =MONTH(s_birth)\n```\n\n","createTime":"2020-04-19 15:51:17","enable":true,"id":"1251780392676016129","likeCount":0,"recommend":true,"summary":"MySQL练习题","tagList":[{"id":3,"name":"mysql"}],"title":"mysql练习题","top":false,"updateTime":"2020-04-19 21:31:59","views":59},{"author":"xing","category":{"categoryName":"微服务","id":2},"commentCount":1,"content":" ```java\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n\n@Override\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\n        converters.removeIf(c -> c instanceof MappingJackson2HttpMessageConverter);\n        converters.add(new MappingJackson2HttpMessageConverter(jacksonObjectMapperCustomization()));\n    }\n\n    private static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    private static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\n    @Bean\n    public ObjectMapper jacksonObjectMapperCustomization() {\n\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .simpleDateFormat(DATE_TIME_FORMAT)\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_FORMAT)))\n                .serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n\n\n        return builder.build();\n    }\n```\n","createTime":"2020-04-19 15:36:25","enable":true,"id":"1251776651612700674","likeCount":0,"recommend":false,"summary":"jackson","tagList":[{"id":2,"name":"java"}],"title":"springboot jackson","top":false,"updateTime":"2020-04-20 15:22:20","views":65},{"author":"_江南一点雨","category":{"categoryName":"测试","id":1},"commentCount":0,"content":"```\n代码块\n```\nasdasd","createTime":"2020-04-19 13:59:01","enable":false,"id":"1251752142763507713","likeCount":123,"recommend":false,"summary":"有小伙伴问松哥这个问题，他在上海某公司，在离职了几个月后，前公司的领导联系到他，希望他能够返聘回去，他很纠结要不要回去？","tagList":[{"id":2,"name":"java"}],"title":"离职半年了，老东家又发 offer，回不回？","top":false,"updateTime":"2020-04-19 21:29:41","views":18},{"author":"213123","category":{"categoryName":"微服务","id":2},"commentCount":2,"content":"<p>tup</p>","cover":"http://cdn.codexing.cn/4141087202ef47a9a75cf89fe417c117.png","createTime":"2020-04-19 13:52:57","enable":true,"id":"1251750614375907330","likeCount":0,"recommend":false,"summary":"123123123","tagList":[{"id":1,"name":"spring"}],"title":"123123123","top":false,"updateTime":"2020-04-19 20:15:29","views":29},{"author":"现在才VS真的非常","category":{"categoryName":"微服务","id":2},"commentCount":0,"content":"<p>阿三打撒</p>","createTime":"2020-04-19 12:11:56","enable":true,"id":"1251725190564519937","likeCount":0,"recommend":false,"summary":"f 阿三打撒","tagList":[{"id":2,"name":"java"}],"title":"阿道夫啊实打实的","top":false,"updateTime":"2020-04-20 12:03:53","views":6},{"author":"1","category":{"categoryName":"数据库","id":3},"commentCount":0,"content":"1","cover":"http://cdn.codexing.cn/03a13adb79244931998748430a874b77.jpg","createTime":"2020-03-23 15:55:15","enable":true,"id":"1","likeCount":34,"recommend":false,"summary":"1","tagList":[{"id":1,"name":"spring"},{"id":2,"name":"java"}],"title":"mybatis plus 乐观锁测试时间","top":false,"updateTime":"2020-04-20 15:24:06","views":139},{"author":"1","category":{"categoryName":"测试","id":1},"commentCount":5,"content":"3123123123","createTime":"2019-06-17 23:48:04","enable":true,"id":"3","likeCount":0,"recommend":false,"summary":"123124312414","tagList":[{"id":2,"name":"java"}],"title":"岁的法国士大夫","top":false,"updateTime":"2020-04-17 23:48:04","views":40}],"pageSize":10,"params":{},"totalCount":8,"totalPage":1},"msg":"操作成功"}
2020-05-14 19:01:49.866 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:121 -请求地址：/link/list/enable
2020-05-14 19:01:49.867 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:122 -请求方式：GET
2020-05-14 19:01:49.868 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:125 -请求IP：127.0.0.1
2020-05-14 19:01:49.869 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:127 -方法：cn.codexing.blog.controller.FriendLinkController.listEnableLink
2020-05-14 19:01:49.869 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.printRequestLog:130 -浏览器：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
2020-05-14 19:01:49.873 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAround:76 -耗时：7
2020-05-14 19:01:49.874 INFO  [http-nio-8088-exec-10]cn.codexing.blog.common.aspect.RequestLogAspect.doAfterReturning:90 -返回值：{"code":20000,"data":[{"enable":true,"id":1,"nickname":"百度","url":"https://www.baidu.com"},{"enable":true,"id":2,"nickname":"codexing","url":"http://codexing.cn"},{"enable":true,"id":3,"nickname":"Google","url":"https://www.google.com"}],"msg":"操作成功"}
